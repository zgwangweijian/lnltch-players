(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function m(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function d(o){if(o.ep)return;o.ep=!0;const c=m(o);fetch(o.href,c)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const t=Object.create(null);for(const m of e.split(","))t[m]=1;return m=>m in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const m=e.indexOf(t);m>-1&&e.splice(m,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return m=>t[m]||(t[m]=e(m))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,m)=>m?m.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let m=0;m<e.length;m++)e[m](...t)},def=(e,t,m,d=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:d,value:m})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let m=0;m<e.length;m++){const d=e[m],o=isString(d)?parseStringStyle(d):normalizeStyle(d);if(o)for(const c in o)t[c]=o[c]}return t}else if(isString(e)||isObject(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(m=>{if(m){const d=m.split(propertyDelimiterRE);d.length>1&&(t[d[0].trim()]=d[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let m=0;m<e.length;m++){const d=normalizeClass(e[m]);d&&(t+=d+" ")}else if(isObject(e))for(const m in e)e[m]&&(t+=m+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,m;if(this.scopes)for(t=0,m=this.scopes.length;t<m;t++)this.scopes[t].pause();for(t=0,m=this.effects.length;t<m;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,m;if(this.scopes)for(t=0,m=this.scopes.length;t<m;t++)this.scopes[t].resume();for(t=0,m=this.effects.length;t<m;t++)this.effects[t].resume()}}run(t){if(this._active){const m=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=m}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let m,d;for(m=0,d=this.effects.length;m<d;m++)this.effects[m].stop();for(this.effects.length=0,m=0,d=this.cleanups.length;m<d;m++)this.cleanups[m]();if(this.cleanups.length=0,this.scopes){for(m=0,d=this.scopes.length;m<d;m++)this.scopes[m].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,m=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=m,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const m=t.next;t.next=void 0,t.flags&=-9,t=m}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const m=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(d){e||(e=d)}t=m}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,m=e.depsTail,d=m;for(;d;){const o=d.prevDep;d.version===-1?(d===m&&(m=o),removeSub(d),removeDep(d)):t=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0,d=o}e.deps=t,e.depsTail=m}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const t=e.dep,m=activeSub,d=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const o=e.fn(e._value);(t.version===0||hasChanged(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{activeSub=m,shouldTrack=d,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:m,prevSub:d,nextSub:o}=e;if(d&&(d.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=d,e.nextSub=void 0),m.subs===e&&(m.subs=d,!d&&m.computed)){m.computed.flags&=-5;for(let c=m.computed.deps;c;c=c.nextDep)removeSub(c,!0)}!t&&!--m.sc&&m.map&&m.map.delete(m.key)}function removeDep(e){const{prevDep:t,nextDep:m}=e;t&&(t.nextDep=m,e.prevDep=void 0),m&&(m.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const m=activeSub;activeSub=void 0;try{t()}finally{activeSub=m}}}let globalVersion=0;class Link{constructor(t,m){this.sub=t,this.dep=m,this.version=m.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let m=this.activeLink;if(m===void 0||m.sub!==activeSub)m=this.activeLink=new Link(activeSub,this),activeSub.deps?(m.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=m,activeSub.depsTail=m):activeSub.deps=activeSub.depsTail=m,addSub(m);else if(m.version===-1&&(m.version=this.version,m.nextDep)){const d=m.nextDep;d.prevDep=m.prevDep,m.prevDep&&(m.prevDep.nextDep=d),m.prevDep=activeSub.depsTail,m.nextDep=void 0,activeSub.depsTail.nextDep=m,activeSub.depsTail=m,activeSub.deps===m&&(activeSub.deps=d)}return m}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let m=this.subs;m;m=m.prevSub)m.sub.notify()&&m.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let d=t.deps;d;d=d.nextDep)addSub(d)}const m=e.dep.subs;m!==e&&(e.prevSub=m,m&&(m.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,m){if(shouldTrack&&activeSub){let d=targetMap.get(e);d||targetMap.set(e,d=new Map);let o=d.get(m);o||(d.set(m,o=new Dep),o.map=d,o.key=m),o.track()}}function trigger(e,t,m,d,o,c){const u=targetMap.get(e);if(!u){globalVersion++;return}const s=r=>{r&&r.trigger()};if(startBatch(),t==="clear")u.forEach(s);else{const r=isArray(e),n=r&&isIntegerKey(m);if(r&&m==="length"){const a=Number(d);u.forEach((l,h)=>{(h==="length"||h===ARRAY_ITERATE_KEY||!isSymbol(h)&&h>=a)&&s(l)})}else switch((m!==void 0||u.has(void 0))&&s(u.get(m)),n&&s(u.get(ARRAY_ITERATE_KEY)),t){case"add":r?n&&s(u.get("length")):(s(u.get(ITERATE_KEY)),isMap(e)&&s(u.get(MAP_KEY_ITERATE_KEY)));break;case"delete":r||(s(u.get(ITERATE_KEY)),isMap(e)&&s(u.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&s(u.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply(this,"every",e,t,void 0,arguments)},filter(e,t){return apply(this,"filter",e,t,m=>m.map(toReactive),arguments)},find(e,t){return apply(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,m){const d=shallowReadArray(e),o=d[t]();return d!==e&&!isShallow(e)&&(o._next=o.next,o.next=()=>{const c=o._next();return c.value&&(c.value=m(c.value)),c}),o}const arrayProto=Array.prototype;function apply(e,t,m,d,o,c){const u=shallowReadArray(e),s=u!==e&&!isShallow(e),r=u[t];if(r!==arrayProto[t]){const l=r.apply(e,c);return s?toReactive(l):l}let n=m;u!==e&&(s?n=function(l,h){return m.call(this,toReactive(l),h,e)}:m.length>2&&(n=function(l,h){return m.call(this,l,h,e)}));const a=r.call(u,n,d);return s&&o?o(a):a}function reduce(e,t,m,d){const o=shallowReadArray(e);let c=m;return o!==e&&(isShallow(e)?m.length>3&&(c=function(u,s,r){return m.call(this,u,s,r,e)}):c=function(u,s,r){return m.call(this,u,toReactive(s),r,e)}),o[t](c,...d)}function searchProxy(e,t,m){const d=toRaw(e);track(d,"iterate",ARRAY_ITERATE_KEY);const o=d[t](...m);return(o===-1||o===!1)&&isProxy(m[0])?(m[0]=toRaw(m[0]),d[t](...m)):o}function noTracking(e,t,m=[]){pauseTracking(),startBatch();const d=toRaw(e)[t].apply(e,m);return endBatch(),resetTracking(),d}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,m=!1){this._isReadonly=t,this._isShallow=m}get(t,m,d){if(m==="__v_skip")return t.__v_skip;const o=this._isReadonly,c=this._isShallow;if(m==="__v_isReactive")return!o;if(m==="__v_isReadonly")return o;if(m==="__v_isShallow")return c;if(m==="__v_raw")return d===(o?c?shallowReadonlyMap:readonlyMap:c?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(d)?t:void 0;const u=isArray(t);if(!o){let r;if(u&&(r=arrayInstrumentations[m]))return r;if(m==="hasOwnProperty")return hasOwnProperty}const s=Reflect.get(t,m,isRef(t)?t:d);return(isSymbol(m)?builtInSymbols.has(m):isNonTrackableKeys(m))||(o||track(t,"get",m),c)?s:isRef(s)?u&&isIntegerKey(m)?s:s.value:isObject(s)?o?readonly(s):reactive(s):s}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,m,d,o){let c=t[m];if(!this._isShallow){const r=isReadonly(c);if(!isShallow(d)&&!isReadonly(d)&&(c=toRaw(c),d=toRaw(d)),!isArray(t)&&isRef(c)&&!isRef(d))return r?!1:(c.value=d,!0)}const u=isArray(t)&&isIntegerKey(m)?Number(m)<t.length:hasOwn(t,m),s=Reflect.set(t,m,d,isRef(t)?t:o);return t===toRaw(o)&&(u?hasChanged(d,c)&&trigger(t,"set",m,d):trigger(t,"add",m,d)),s}deleteProperty(t,m){const d=hasOwn(t,m);t[m];const o=Reflect.deleteProperty(t,m);return o&&d&&trigger(t,"delete",m,void 0),o}has(t,m){const d=Reflect.has(t,m);return(!isSymbol(m)||!builtInSymbols.has(m))&&track(t,"has",m),d}ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,m){return!0}deleteProperty(t,m){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,m){return function(...d){const o=this.__v_raw,c=toRaw(o),u=isMap(c),s=e==="entries"||e===Symbol.iterator&&u,r=e==="keys"&&u,n=o[e](...d),a=m?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",r?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:l,done:h}=n.next();return h?{value:l,done:h}:{value:s?[a(l[0]),a(l[1])]:a(l),done:h}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const m={get(o){const c=this.__v_raw,u=toRaw(c),s=toRaw(o);e||(hasChanged(o,s)&&track(u,"get",o),track(u,"get",s));const{has:r}=getProto(u),n=t?toShallow:e?toReadonly:toReactive;if(r.call(u,o))return n(c.get(o));if(r.call(u,s))return n(c.get(s));c!==u&&c.get(o)},get size(){const o=this.__v_raw;return!e&&track(toRaw(o),"iterate",ITERATE_KEY),Reflect.get(o,"size",o)},has(o){const c=this.__v_raw,u=toRaw(c),s=toRaw(o);return e||(hasChanged(o,s)&&track(u,"has",o),track(u,"has",s)),o===s?c.has(o):c.has(o)||c.has(s)},forEach(o,c){const u=this,s=u.__v_raw,r=toRaw(s),n=t?toShallow:e?toReadonly:toReactive;return!e&&track(r,"iterate",ITERATE_KEY),s.forEach((a,l)=>o.call(c,n(a),n(l),u))}};return extend(m,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(o){!t&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const c=toRaw(this);return getProto(c).has.call(c,o)||(c.add(o),trigger(c,"add",o,o)),this},set(o,c){!t&&!isShallow(c)&&!isReadonly(c)&&(c=toRaw(c));const u=toRaw(this),{has:s,get:r}=getProto(u);let n=s.call(u,o);n||(o=toRaw(o),n=s.call(u,o));const a=r.call(u,o);return u.set(o,c),n?hasChanged(c,a)&&trigger(u,"set",o,c):trigger(u,"add",o,c),this},delete(o){const c=toRaw(this),{has:u,get:s}=getProto(c);let r=u.call(c,o);r||(o=toRaw(o),r=u.call(c,o)),s&&s.call(c,o);const n=c.delete(o);return r&&trigger(c,"delete",o,void 0),n},clear(){const o=toRaw(this),c=o.size!==0,u=o.clear();return c&&trigger(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{m[o]=createIterableMethod(o,e,t)}),m}function createInstrumentationGetter(e,t){const m=createInstrumentations(e,t);return(d,o,c)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?d:Reflect.get(hasOwn(m,o)&&o in d?m:d,o,c)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,m,d,o){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=getTargetType(e);if(c===0)return e;const u=o.get(e);if(u)return u;const s=new Proxy(e,c===2?d:m);return o.set(e,s),s}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,m){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=m?t:toRaw(t),this._value=m?t:toReactive(t),this.__v_isShallow=m}get value(){return this.dep.track(),this._value}set value(t){const m=this._rawValue,d=this.__v_isShallow||isShallow(t)||isReadonly(t);t=d?t:toRaw(t),hasChanged(t,m)&&(this._rawValue=t,this._value=d?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,m)=>t==="__v_raw"?e:unref(Reflect.get(e,t,m)),set:(e,t,m,d)=>{const o=e[t];return isRef(o)&&!isRef(m)?(o.value=m,!0):Reflect.set(e,t,m,d)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,m,d){this.fn=t,this.setter=m,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!m,this.isSSR=d}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,m=!1){let d,o;return isFunction(e)?d=e:(d=e.get,o=e.set),new ComputedRefImpl(d,o,m)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,m=activeWatcher){if(m){let d=cleanupMap.get(m);d||cleanupMap.set(m,d=[]),d.push(e)}}function watch$1(e,t,m=EMPTY_OBJ){const{immediate:d,deep:o,once:c,scheduler:u,augmentJob:s,call:r}=m,n=T=>o?T:isShallow(T)||o===!1||o===0?traverse(T,1):traverse(T);let a,l,h,v,y=!1,f=!1;if(isRef(e)?(l=()=>e.value,y=isShallow(e)):isReactive(e)?(l=()=>n(e),y=!0):isArray(e)?(f=!0,y=e.some(T=>isReactive(T)||isShallow(T)),l=()=>e.map(T=>{if(isRef(T))return T.value;if(isReactive(T))return n(T);if(isFunction(T))return r?r(T,2):T()})):isFunction(e)?t?l=r?()=>r(e,2):e:l=()=>{if(h){pauseTracking();try{h()}finally{resetTracking()}}const T=activeWatcher;activeWatcher=a;try{return r?r(e,3,[v]):e(v)}finally{activeWatcher=T}}:l=NOOP,t&&o){const T=l,E=o===!0?1/0:o;l=()=>traverse(T(),E)}const S=getCurrentScope(),b=()=>{a.stop(),S&&S.active&&remove(S.effects,a)};if(c&&t){const T=t;t=(...E)=>{T(...E),b()}}let _=f?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const g=T=>{if(!(!(a.flags&1)||!a.dirty&&!T))if(t){const E=a.run();if(o||y||(f?E.some((w,x)=>hasChanged(w,_[x])):hasChanged(E,_))){h&&h();const w=activeWatcher;activeWatcher=a;try{const x=[E,_===INITIAL_WATCHER_VALUE?void 0:f&&_[0]===INITIAL_WATCHER_VALUE?[]:_,v];_=E,r?r(t,3,x):t(...x)}finally{activeWatcher=w}}}else a.run()};return s&&s(g),a=new ReactiveEffect(l),a.scheduler=u?()=>u(g,!1):g,v=T=>onWatcherCleanup(T,!1,a),h=a.onStop=()=>{const T=cleanupMap.get(a);if(T){if(r)r(T,4);else for(const E of T)E();cleanupMap.delete(a)}},t?d?g(!0):_=a.run():u?u(g.bind(null,!0),!0):a.run(),b.pause=a.pause.bind(a),b.resume=a.resume.bind(a),b.stop=b,b}function traverse(e,t=1/0,m){if(t<=0||!isObject(e)||e.__v_skip||(m=m||new Set,m.has(e)))return e;if(m.add(e),t--,isRef(e))traverse(e.value,t,m);else if(isArray(e))for(let d=0;d<e.length;d++)traverse(e[d],t,m);else if(isSet(e)||isMap(e))e.forEach(d=>{traverse(d,t,m)});else if(isPlainObject(e)){for(const d in e)traverse(e[d],t,m);for(const d of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,d)&&traverse(e[d],t,m)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const m=stack.length?stack[stack.length-1].component:null,d=m&&m.appContext.config.warnHandler,o=getComponentTrace();if(d)callWithErrorHandling(d,m,11,[e+t.map(c=>{var u,s;return(s=(u=c.toString)==null?void 0:u.call(c))!=null?s:JSON.stringify(c)}).join(""),m&&m.proxy,o.map(({vnode:c})=>`at <${formatComponentName(m,c.type)}>`).join(`
`),o]);else{const c=[`[Vue warn]: ${e}`,...t];o.length&&c.push(`
`,...formatTrace(o)),console.warn(...c)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const m=t[0];m&&m.vnode===e?m.recurseCount++:t.push({vnode:e,recurseCount:0});const d=e.component&&e.component.parent;e=d&&d.vnode}return t}function formatTrace(e){const t=[];return e.forEach((m,d)=>{t.push(...d===0?[]:[`
`],...formatTraceEntry(m))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const m=t>0?`... (${t} recursive calls)`:"",d=e.component?e.component.parent==null:!1,o=` at <${formatComponentName(e.component,e.type,d)}`,c=">"+m;return e.props?[o,...formatProps(e.props),c]:[o+c]}function formatProps(e){const t=[],m=Object.keys(e);return m.slice(0,3).forEach(d=>{t.push(...formatProp(d,e[d]))}),m.length>3&&t.push(" ..."),t}function formatProp(e,t,m){return isString(t)?(t=JSON.stringify(t),m?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?m?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),m?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),m?t:[`${e}=`,t])}function callWithErrorHandling(e,t,m,d){try{return d?e(...d):e()}catch(o){handleError(o,t,m)}}function callWithAsyncErrorHandling(e,t,m,d){if(isFunction(e)){const o=callWithErrorHandling(e,t,m,d);return o&&isPromise(o)&&o.catch(c=>{handleError(c,t,m)}),o}if(isArray(e)){const o=[];for(let c=0;c<e.length;c++)o.push(callWithAsyncErrorHandling(e[c],t,m,d));return o}}function handleError(e,t,m,d=!0){const o=t?t.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||EMPTY_OBJ;if(t){let s=t.parent;const r=t.proxy,n=`https://vuejs.org/error-reference/#runtime-${m}`;for(;s;){const a=s.ec;if(a){for(let l=0;l<a.length;l++)if(a[l](e,r,n)===!1)return}s=s.parent}if(c){pauseTracking(),callWithErrorHandling(c,null,10,[e,r,n]),resetTracking();return}}logError(e,m,o,d,u)}function logError(e,t,m,d=!0,o=!1){if(o)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,m=queue.length;for(;t<m;){const d=t+m>>>1,o=queue[d],c=getId(o);c<e||c===e&&o.flags&2?t=d+1:m=d}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),m=queue[queue.length-1];!m||!(e.flags&2)&&t>=getId(m)?queue.push(e):queue.splice(findInsertionIndex(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,m=flushIndex+1){for(;m<queue.length;m++){const d=queue[m];if(d&&d.flags&2){if(e&&d.id!==e.uid)continue;queue.splice(m,1),m--,d.flags&4&&(d.flags&=-2),d(),d.flags&4||(d.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((m,d)=>getId(m)-getId(d));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const m=activePostFlushCbs[postFlushIndex];m.flags&4&&(m.flags&=-2),m.flags&8||m(),m.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,m){if(!t||e._n)return e;const d=(...o)=>{d._d&&setBlockTracking(-1);const c=setCurrentRenderingInstance(t);let u;try{u=e(...o)}finally{setCurrentRenderingInstance(c),d._d&&setBlockTracking(1)}return u};return d._n=!0,d._c=!0,d._d=!0,d}function invokeDirectiveHook(e,t,m,d){const o=e.dirs,c=t&&t.dirs;for(let u=0;u<o.length;u++){const s=o[u];c&&(s.oldValue=c[u].value);let r=s.dir[d];r&&(pauseTracking(),callWithAsyncErrorHandling(r,m,8,[e.el,s,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport;function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction(e)?extend({name:e.name},t,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,t,m,d,o=!1){if(isArray(e)){e.forEach((y,f)=>setRef(y,t&&(isArray(t)?t[f]:t),m,d,o));return}if(isAsyncWrapper(d)&&!o){d.shapeFlag&512&&d.type.__asyncResolved&&d.component.subTree.component&&setRef(e,t,m,d.component.subTree);return}const c=d.shapeFlag&4?getComponentPublicInstance(d.component):d.el,u=o?null:c,{i:s,r}=e,n=t&&t.r,a=s.refs===EMPTY_OBJ?s.refs={}:s.refs,l=s.setupState,h=toRaw(l),v=l===EMPTY_OBJ?()=>!1:y=>hasOwn(h,y);if(n!=null&&n!==r&&(isString(n)?(a[n]=null,v(n)&&(l[n]=null)):isRef(n)&&(n.value=null)),isFunction(r))callWithErrorHandling(r,s,12,[u,a]);else{const y=isString(r),f=isRef(r);if(y||f){const S=()=>{if(e.f){const b=y?v(r)?l[r]:a[r]:r.value;o?isArray(b)&&remove(b,c):isArray(b)?b.includes(c)||b.push(c):y?(a[r]=[c],v(r)&&(l[r]=a[r])):(r.value=[c],e.k&&(a[e.k]=r.value))}else y?(a[r]=u,v(r)&&(l[r]=u)):f&&(r.value=u,e.k&&(a[e.k]=u))};u?(S.id=-1,queuePostRenderEffect(S,m)):S()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,m=currentInstance){const d=e.__wdc||(e.__wdc=()=>{let o=m;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(t,d,m),m){let o=m.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(d,t,m,o),o=o.parent}}function injectToKeepAliveRoot(e,t,m,d){const o=injectHook(t,e,d,!0);onUnmounted(()=>{remove(d[t],o)},m)}function injectHook(e,t,m=currentInstance,d=!1){if(m){const o=m[e]||(m[e]=[]),c=t.__weh||(t.__weh=(...u)=>{pauseTracking();const s=setCurrentInstance(m),r=callWithAsyncErrorHandling(t,m,e,u);return s(),resetTracking(),r});return d?o.unshift(c):o.push(c),c}}const createHook=e=>(t,m=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...d)=>t(...d),m)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:m,setupState:d,data:o,props:c,accessCache:u,type:s,appContext:r}=e;let n;if(t[0]!=="$"){const v=u[t];if(v!==void 0)switch(v){case 1:return d[t];case 2:return o[t];case 4:return m[t];case 3:return c[t]}else{if(hasSetupBinding(d,t))return u[t]=1,d[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return u[t]=2,o[t];if((n=e.propsOptions[0])&&hasOwn(n,t))return u[t]=3,c[t];if(m!==EMPTY_OBJ&&hasOwn(m,t))return u[t]=4,m[t];shouldCacheAccess&&(u[t]=0)}}const a=publicPropertiesMap[t];let l,h;if(a)return t==="$attrs"&&track(e.attrs,"get",""),a(e);if((l=s.__cssModules)&&(l=l[t]))return l;if(m!==EMPTY_OBJ&&hasOwn(m,t))return u[t]=4,m[t];if(h=r.config.globalProperties,hasOwn(h,t))return h[t]},set({_:e},t,m){const{data:d,setupState:o,ctx:c}=e;return hasSetupBinding(o,t)?(o[t]=m,!0):d!==EMPTY_OBJ&&hasOwn(d,t)?(d[t]=m,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(c[t]=m,!0)},has({_:{data:e,setupState:t,accessCache:m,ctx:d,appContext:o,propsOptions:c}},u){let s;return!!m[u]||e!==EMPTY_OBJ&&hasOwn(e,u)||hasSetupBinding(t,u)||(s=c[0])&&hasOwn(s,u)||hasOwn(d,u)||hasOwn(publicPropertiesMap,u)||hasOwn(o.config.globalProperties,u)},defineProperty(e,t,m){return m.get!=null?e._.accessCache[t]=0:hasOwn(m,"value")&&this.set(e,t,m.value,null),Reflect.defineProperty(e,t,m)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,m)=>(t[m]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),m=e.proxy,d=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:o,computed:c,methods:u,watch:s,provide:r,inject:n,created:a,beforeMount:l,mounted:h,beforeUpdate:v,updated:y,activated:f,deactivated:S,beforeDestroy:b,beforeUnmount:_,destroyed:g,unmounted:T,render:E,renderTracked:w,renderTriggered:x,errorCaptured:I,serverPrefetch:R,expose:k,inheritAttrs:L,components:N,directives:j,filters:U}=t;if(n&&resolveInjections(n,d,null),u)for(const M in u){const C=u[M];isFunction(C)&&(d[M]=C.bind(m))}if(o){const M=o.call(m,m);isObject(M)&&(e.data=reactive(M))}if(shouldCacheAccess=!0,c)for(const M in c){const C=c[M],D=isFunction(C)?C.bind(m,m):isFunction(C.get)?C.get.bind(m,m):NOOP,A=!isFunction(C)&&isFunction(C.set)?C.set.bind(m):NOOP,Q=computed({get:D,set:A});Object.defineProperty(d,M,{enumerable:!0,configurable:!0,get:()=>Q.value,set:ne=>Q.value=ne})}if(s)for(const M in s)createWatcher(s[M],d,m,M);if(r){const M=isFunction(r)?r.call(m):r;Reflect.ownKeys(M).forEach(C=>{provide(C,M[C])})}a&&callHook(a,e,"c");function B(M,C){isArray(C)?C.forEach(D=>M(D.bind(m))):C&&M(C.bind(m))}if(B(onBeforeMount,l),B(onMounted,h),B(onBeforeUpdate,v),B(onUpdated,y),B(onActivated,f),B(onDeactivated,S),B(onErrorCaptured,I),B(onRenderTracked,w),B(onRenderTriggered,x),B(onBeforeUnmount,_),B(onUnmounted,T),B(onServerPrefetch,R),isArray(k))if(k.length){const M=e.exposed||(e.exposed={});k.forEach(C=>{Object.defineProperty(M,C,{get:()=>m[C],set:D=>m[C]=D,enumerable:!0})})}else e.exposed||(e.exposed={});E&&e.render===NOOP&&(e.render=E),L!=null&&(e.inheritAttrs=L),N&&(e.components=N),j&&(e.directives=j),R&&markAsyncBoundary(e)}function resolveInjections(e,t,m=NOOP){isArray(e)&&(e=normalizeInject(e));for(const d in e){const o=e[d];let c;isObject(o)?"default"in o?c=inject(o.from||d,o.default,!0):c=inject(o.from||d):c=inject(o),isRef(c)?Object.defineProperty(t,d,{enumerable:!0,configurable:!0,get:()=>c.value,set:u=>c.value=u}):t[d]=c}}function callHook(e,t,m){callWithAsyncErrorHandling(isArray(e)?e.map(d=>d.bind(t.proxy)):e.bind(t.proxy),t,m)}function createWatcher(e,t,m,d){let o=d.includes(".")?createPathGetter(m,d):()=>m[d];if(isString(e)){const c=t[e];isFunction(c)&&watch(o,c)}else if(isFunction(e))watch(o,e.bind(m));else if(isObject(e))if(isArray(e))e.forEach(c=>createWatcher(c,t,m,d));else{const c=isFunction(e.handler)?e.handler.bind(m):t[e.handler];isFunction(c)&&watch(o,c,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:m,extends:d}=t,{mixins:o,optionsCache:c,config:{optionMergeStrategies:u}}=e.appContext,s=c.get(t);let r;return s?r=s:!o.length&&!m&&!d?r=t:(r={},o.length&&o.forEach(n=>mergeOptions(r,n,u,!0)),mergeOptions(r,t,u)),isObject(t)&&c.set(t,r),r}function mergeOptions(e,t,m,d=!1){const{mixins:o,extends:c}=t;c&&mergeOptions(e,c,m,!0),o&&o.forEach(u=>mergeOptions(e,u,m,!0));for(const u in t)if(!(d&&u==="expose")){const s=internalOptionMergeStrats[u]||m&&m[u];e[u]=s?s(e[u],t[u]):t[u]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let m=0;m<e.length;m++)t[e[m]]=e[m];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const m=extend(Object.create(null),e);for(const d in t)m[d]=mergeAsArray(e[d],t[d]);return m}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(d,o=null){isFunction(d)||(d=extend({},d)),o!=null&&!isObject(o)&&(o=null);const c=createAppContext(),u=new WeakSet,s=[];let r=!1;const n=c.app={_uid:uid$1++,_component:d,_props:o,_container:null,_context:c,_instance:null,version,get config(){return c.config},set config(a){},use(a,...l){return u.has(a)||(a&&isFunction(a.install)?(u.add(a),a.install(n,...l)):isFunction(a)&&(u.add(a),a(n,...l))),n},mixin(a){return c.mixins.includes(a)||c.mixins.push(a),n},component(a,l){return l?(c.components[a]=l,n):c.components[a]},directive(a,l){return l?(c.directives[a]=l,n):c.directives[a]},mount(a,l,h){if(!r){const v=n._ceVNode||createVNode(d,o);return v.appContext=c,h===!0?h="svg":h===!1&&(h=void 0),e(v,a,h),r=!0,n._container=a,a.__vue_app__=n,getComponentPublicInstance(v.component)}},onUnmount(a){s.push(a)},unmount(){r&&(callWithAsyncErrorHandling(s,n._instance,16),e(null,n._container),delete n._container.__vue_app__)},provide(a,l){return c.provides[a]=l,n},runWithContext(a){const l=currentApp;currentApp=n;try{return a()}finally{currentApp=l}}};return n}}let currentApp=null;function provide(e,t){if(currentInstance){let m=currentInstance.provides;const d=currentInstance.parent&&currentInstance.parent.provides;d===m&&(m=currentInstance.provides=Object.create(d)),m[e]=t}}function inject(e,t,m=!1){const d=getCurrentInstance();if(d||currentApp){let o=currentApp?currentApp._context.provides:d?d.parent==null||d.ce?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return m&&isFunction(t)?t.call(d&&d.proxy):t}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,m,d=!1){const o={},c=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,o,c);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);m?e.props=d?o:shallowReactive(o):e.type.props?e.props=o:e.props=c,e.attrs=c}function updateProps(e,t,m,d){const{props:o,attrs:c,vnode:{patchFlag:u}}=e,s=toRaw(o),[r]=e.propsOptions;let n=!1;if((d||u>0)&&!(u&16)){if(u&8){const a=e.vnode.dynamicProps;for(let l=0;l<a.length;l++){let h=a[l];if(isEmitListener(e.emitsOptions,h))continue;const v=t[h];if(r)if(hasOwn(c,h))v!==c[h]&&(c[h]=v,n=!0);else{const y=camelize(h);o[y]=resolvePropValue(r,s,y,v,e,!1)}else v!==c[h]&&(c[h]=v,n=!0)}}}else{setFullProps(e,t,o,c)&&(n=!0);let a;for(const l in s)(!t||!hasOwn(t,l)&&((a=hyphenate(l))===l||!hasOwn(t,a)))&&(r?m&&(m[l]!==void 0||m[a]!==void 0)&&(o[l]=resolvePropValue(r,s,l,void 0,e,!0)):delete o[l]);if(c!==s)for(const l in c)(!t||!hasOwn(t,l))&&(delete c[l],n=!0)}n&&trigger(e.attrs,"set","")}function setFullProps(e,t,m,d){const[o,c]=e.propsOptions;let u=!1,s;if(t)for(let r in t){if(isReservedProp(r))continue;const n=t[r];let a;o&&hasOwn(o,a=camelize(r))?!c||!c.includes(a)?m[a]=n:(s||(s={}))[a]=n:isEmitListener(e.emitsOptions,r)||(!(r in d)||n!==d[r])&&(d[r]=n,u=!0)}if(c){const r=toRaw(m),n=s||EMPTY_OBJ;for(let a=0;a<c.length;a++){const l=c[a];m[l]=resolvePropValue(o,r,l,n[l],e,!hasOwn(n,l))}}return u}function resolvePropValue(e,t,m,d,o,c){const u=e[m];if(u!=null){const s=hasOwn(u,"default");if(s&&d===void 0){const r=u.default;if(u.type!==Function&&!u.skipFactory&&isFunction(r)){const{propsDefaults:n}=o;if(m in n)d=n[m];else{const a=setCurrentInstance(o);d=n[m]=r.call(null,t),a()}}else d=r;o.ce&&o.ce._setProp(m,d)}u[0]&&(c&&!s?d=!1:u[1]&&(d===""||d===hyphenate(m))&&(d=!0))}return d}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,m=!1){const d=m?mixinPropsCache:t.propsCache,o=d.get(e);if(o)return o;const c=e.props,u={},s=[];let r=!1;if(!isFunction(e)){const a=l=>{r=!0;const[h,v]=normalizePropsOptions(l,t,!0);extend(u,h),v&&s.push(...v)};!m&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!c&&!r)return isObject(e)&&d.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(c))for(let a=0;a<c.length;a++){const l=camelize(c[a]);validatePropName(l)&&(u[l]=EMPTY_OBJ)}else if(c)for(const a in c){const l=camelize(a);if(validatePropName(l)){const h=c[a],v=u[l]=isArray(h)||isFunction(h)?{type:h}:extend({},h),y=v.type;let f=!1,S=!0;if(isArray(y))for(let b=0;b<y.length;++b){const _=y[b],g=isFunction(_)&&_.name;if(g==="Boolean"){f=!0;break}else g==="String"&&(S=!1)}else f=isFunction(y)&&y.name==="Boolean";v[0]=f,v[1]=S,(f||hasOwn(v,"default"))&&s.push(l)}}const n=[u,s];return isObject(e)&&d.set(e,n),n}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,m)=>{if(t._n)return t;const d=withCtx((...o)=>normalizeSlotValue(t(...o)),m);return d._c=!1,d},normalizeObjectSlots=(e,t,m)=>{const d=e._ctx;for(const o in e){if(isInternalKey(o))continue;const c=e[o];if(isFunction(c))t[o]=normalizeSlot(o,c,d);else if(c!=null){const u=normalizeSlotValue(c);t[o]=()=>u}}},normalizeVNodeSlots=(e,t)=>{const m=normalizeSlotValue(t);e.slots.default=()=>m},assignSlots=(e,t,m)=>{for(const d in t)(m||!isInternalKey(d))&&(e[d]=t[d])},initSlots=(e,t,m)=>{const d=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const o=t.__;o&&def(d,"__",o,!0);const c=t._;c?(assignSlots(d,t,m),m&&def(d,"_",c,!0)):normalizeObjectSlots(t,d)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,m)=>{const{vnode:d,slots:o}=e;let c=!0,u=EMPTY_OBJ;if(d.shapeFlag&32){const s=t._;s?m&&s===1?c=!1:assignSlots(o,t,m):(c=!t.$stable,normalizeObjectSlots(t,o)),u=t}else t&&(normalizeVNodeSlots(e,t),u={default:1});if(c)for(const s in o)!isInternalKey(s)&&u[s]==null&&delete o[s]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const m=getGlobalThis();m.__VUE__=!0;const{insert:d,remove:o,patchProp:c,createElement:u,createText:s,createComment:r,setText:n,setElementText:a,parentNode:l,nextSibling:h,setScopeId:v=NOOP,insertStaticContent:y}=e,f=(F,z,ae,de=null,fe=null,Se=null,Ae=void 0,Ce=null,Ie=!!z.dynamicChildren)=>{if(F===z)return;F&&!isSameVNodeType(F,z)&&(de=Z(F),ne(F,fe,Se,!0),F=null),z.patchFlag===-2&&(Ie=!1,z.dynamicChildren=null);const{type:ue,ref:xe,shapeFlag:Te}=z;switch(ue){case Text:S(F,z,ae,de);break;case Comment:b(F,z,ae,de);break;case Static:F==null&&_(z,ae,de,Ae);break;case Fragment:N(F,z,ae,de,fe,Se,Ae,Ce,Ie);break;default:Te&1?E(F,z,ae,de,fe,Se,Ae,Ce,Ie):Te&6?j(F,z,ae,de,fe,Se,Ae,Ce,Ie):(Te&64||Te&128)&&ue.process(F,z,ae,de,fe,Se,Ae,Ce,Ie,ce)}xe!=null&&fe?setRef(xe,F&&F.ref,Se,z||F,!z):xe==null&&F&&F.ref!=null&&setRef(F.ref,null,Se,F,!0)},S=(F,z,ae,de)=>{if(F==null)d(z.el=s(z.children),ae,de);else{const fe=z.el=F.el;z.children!==F.children&&n(fe,z.children)}},b=(F,z,ae,de)=>{F==null?d(z.el=r(z.children||""),ae,de):z.el=F.el},_=(F,z,ae,de)=>{[F.el,F.anchor]=y(F.children,z,ae,de,F.el,F.anchor)},g=({el:F,anchor:z},ae,de)=>{let fe;for(;F&&F!==z;)fe=h(F),d(F,ae,de),F=fe;d(z,ae,de)},T=({el:F,anchor:z})=>{let ae;for(;F&&F!==z;)ae=h(F),o(F),F=ae;o(z)},E=(F,z,ae,de,fe,Se,Ae,Ce,Ie)=>{z.type==="svg"?Ae="svg":z.type==="math"&&(Ae="mathml"),F==null?w(z,ae,de,fe,Se,Ae,Ce,Ie):R(F,z,fe,Se,Ae,Ce,Ie)},w=(F,z,ae,de,fe,Se,Ae,Ce)=>{let Ie,ue;const{props:xe,shapeFlag:Te,transition:Pe,dirs:Le}=F;if(Ie=F.el=u(F.type,Se,xe&&xe.is,xe),Te&8?a(Ie,F.children):Te&16&&I(F.children,Ie,null,de,fe,resolveChildrenNamespace(F,Se),Ae,Ce),Le&&invokeDirectiveHook(F,null,de,"created"),x(Ie,F,F.scopeId,Ae,de),xe){for(const Ne in xe)Ne!=="value"&&!isReservedProp(Ne)&&c(Ie,Ne,null,xe[Ne],Se,de);"value"in xe&&c(Ie,"value",null,xe.value,Se),(ue=xe.onVnodeBeforeMount)&&invokeVNodeHook(ue,de,F)}Le&&invokeDirectiveHook(F,null,de,"beforeMount");const Fe=needTransition(fe,Pe);Fe&&Pe.beforeEnter(Ie),d(Ie,z,ae),((ue=xe&&xe.onVnodeMounted)||Fe||Le)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,de,F),Fe&&Pe.enter(Ie),Le&&invokeDirectiveHook(F,null,de,"mounted")},fe)},x=(F,z,ae,de,fe)=>{if(ae&&v(F,ae),de)for(let Se=0;Se<de.length;Se++)v(F,de[Se]);if(fe){let Se=fe.subTree;if(z===Se||isSuspense(Se.type)&&(Se.ssContent===z||Se.ssFallback===z)){const Ae=fe.vnode;x(F,Ae,Ae.scopeId,Ae.slotScopeIds,fe.parent)}}},I=(F,z,ae,de,fe,Se,Ae,Ce,Ie=0)=>{for(let ue=Ie;ue<F.length;ue++){const xe=F[ue]=Ce?cloneIfMounted(F[ue]):normalizeVNode(F[ue]);f(null,xe,z,ae,de,fe,Se,Ae,Ce)}},R=(F,z,ae,de,fe,Se,Ae)=>{const Ce=z.el=F.el;let{patchFlag:Ie,dynamicChildren:ue,dirs:xe}=z;Ie|=F.patchFlag&16;const Te=F.props||EMPTY_OBJ,Pe=z.props||EMPTY_OBJ;let Le;if(ae&&toggleRecurse(ae,!1),(Le=Pe.onVnodeBeforeUpdate)&&invokeVNodeHook(Le,ae,z,F),xe&&invokeDirectiveHook(z,F,ae,"beforeUpdate"),ae&&toggleRecurse(ae,!0),(Te.innerHTML&&Pe.innerHTML==null||Te.textContent&&Pe.textContent==null)&&a(Ce,""),ue?k(F.dynamicChildren,ue,Ce,ae,de,resolveChildrenNamespace(z,fe),Se):Ae||C(F,z,Ce,null,ae,de,resolveChildrenNamespace(z,fe),Se,!1),Ie>0){if(Ie&16)L(Ce,Te,Pe,ae,fe);else if(Ie&2&&Te.class!==Pe.class&&c(Ce,"class",null,Pe.class,fe),Ie&4&&c(Ce,"style",Te.style,Pe.style,fe),Ie&8){const Fe=z.dynamicProps;for(let Ne=0;Ne<Fe.length;Ne++){const Ue=Fe[Ne],We=Te[Ue],ze=Pe[Ue];(ze!==We||Ue==="value")&&c(Ce,Ue,We,ze,fe,ae)}}Ie&1&&F.children!==z.children&&a(Ce,z.children)}else!Ae&&ue==null&&L(Ce,Te,Pe,ae,fe);((Le=Pe.onVnodeUpdated)||xe)&&queuePostRenderEffect(()=>{Le&&invokeVNodeHook(Le,ae,z,F),xe&&invokeDirectiveHook(z,F,ae,"updated")},de)},k=(F,z,ae,de,fe,Se,Ae)=>{for(let Ce=0;Ce<z.length;Ce++){const Ie=F[Ce],ue=z[Ce],xe=Ie.el&&(Ie.type===Fragment||!isSameVNodeType(Ie,ue)||Ie.shapeFlag&198)?l(Ie.el):ae;f(Ie,ue,xe,null,de,fe,Se,Ae,!0)}},L=(F,z,ae,de,fe)=>{if(z!==ae){if(z!==EMPTY_OBJ)for(const Se in z)!isReservedProp(Se)&&!(Se in ae)&&c(F,Se,z[Se],null,fe,de);for(const Se in ae){if(isReservedProp(Se))continue;const Ae=ae[Se],Ce=z[Se];Ae!==Ce&&Se!=="value"&&c(F,Se,Ce,Ae,fe,de)}"value"in ae&&c(F,"value",z.value,ae.value,fe)}},N=(F,z,ae,de,fe,Se,Ae,Ce,Ie)=>{const ue=z.el=F?F.el:s(""),xe=z.anchor=F?F.anchor:s("");let{patchFlag:Te,dynamicChildren:Pe,slotScopeIds:Le}=z;Le&&(Ce=Ce?Ce.concat(Le):Le),F==null?(d(ue,ae,de),d(xe,ae,de),I(z.children||[],ae,xe,fe,Se,Ae,Ce,Ie)):Te>0&&Te&64&&Pe&&F.dynamicChildren?(k(F.dynamicChildren,Pe,ae,fe,Se,Ae,Ce),(z.key!=null||fe&&z===fe.subTree)&&traverseStaticChildren(F,z,!0)):C(F,z,ae,xe,fe,Se,Ae,Ce,Ie)},j=(F,z,ae,de,fe,Se,Ae,Ce,Ie)=>{z.slotScopeIds=Ce,F==null?z.shapeFlag&512?fe.ctx.activate(z,ae,de,Ae,Ie):U(z,ae,de,fe,Se,Ae,Ie):W(F,z,Ie)},U=(F,z,ae,de,fe,Se,Ae)=>{const Ce=F.component=createComponentInstance(F,de,fe);if(isKeepAlive(F)&&(Ce.ctx.renderer=ce),setupComponent(Ce,!1,Ae),Ce.asyncDep){if(fe&&fe.registerDep(Ce,B,Ae),!F.el){const Ie=Ce.subTree=createVNode(Comment);b(null,Ie,z,ae),F.placeholder=Ie.el}}else B(Ce,F,z,ae,fe,Se,Ae)},W=(F,z,ae)=>{const de=z.component=F.component;if(shouldUpdateComponent(F,z,ae))if(de.asyncDep&&!de.asyncResolved){M(de,z,ae);return}else de.next=z,de.update();else z.el=F.el,de.vnode=z},B=(F,z,ae,de,fe,Se,Ae)=>{const Ce=()=>{if(F.isMounted){let{next:Te,bu:Pe,u:Le,parent:Fe,vnode:Ne}=F;{const qe=locateNonHydratedAsyncRoot(F);if(qe){Te&&(Te.el=Ne.el,M(F,Te,Ae)),qe.asyncDep.then(()=>{F.isUnmounted||Ce()});return}}let Ue=Te,We;toggleRecurse(F,!1),Te?(Te.el=Ne.el,M(F,Te,Ae)):Te=Ne,Pe&&invokeArrayFns(Pe),(We=Te.props&&Te.props.onVnodeBeforeUpdate)&&invokeVNodeHook(We,Fe,Te,Ne),toggleRecurse(F,!0);const ze=renderComponentRoot(F),Ye=F.subTree;F.subTree=ze,f(Ye,ze,l(Ye.el),Z(Ye),F,fe,Se),Te.el=ze.el,Ue===null&&updateHOCHostEl(F,ze.el),Le&&queuePostRenderEffect(Le,fe),(We=Te.props&&Te.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(We,Fe,Te,Ne),fe)}else{let Te;const{el:Pe,props:Le}=z,{bm:Fe,m:Ne,parent:Ue,root:We,type:ze}=F,Ye=isAsyncWrapper(z);toggleRecurse(F,!1),Fe&&invokeArrayFns(Fe),!Ye&&(Te=Le&&Le.onVnodeBeforeMount)&&invokeVNodeHook(Te,Ue,z),toggleRecurse(F,!0);{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(ze);const qe=F.subTree=renderComponentRoot(F);f(null,qe,ae,de,F,fe,Se),z.el=qe.el}if(Ne&&queuePostRenderEffect(Ne,fe),!Ye&&(Te=Le&&Le.onVnodeMounted)){const qe=z;queuePostRenderEffect(()=>invokeVNodeHook(Te,Ue,qe),fe)}(z.shapeFlag&256||Ue&&isAsyncWrapper(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&F.a&&queuePostRenderEffect(F.a,fe),F.isMounted=!0,z=ae=de=null}};F.scope.on();const Ie=F.effect=new ReactiveEffect(Ce);F.scope.off();const ue=F.update=Ie.run.bind(Ie),xe=F.job=Ie.runIfDirty.bind(Ie);xe.i=F,xe.id=F.uid,Ie.scheduler=()=>queueJob(xe),toggleRecurse(F,!0),ue()},M=(F,z,ae)=>{z.component=F;const de=F.vnode.props;F.vnode=z,F.next=null,updateProps(F,z.props,de,ae),updateSlots(F,z.children,ae),pauseTracking(),flushPreFlushCbs(F),resetTracking()},C=(F,z,ae,de,fe,Se,Ae,Ce,Ie=!1)=>{const ue=F&&F.children,xe=F?F.shapeFlag:0,Te=z.children,{patchFlag:Pe,shapeFlag:Le}=z;if(Pe>0){if(Pe&128){A(ue,Te,ae,de,fe,Se,Ae,Ce,Ie);return}else if(Pe&256){D(ue,Te,ae,de,fe,Se,Ae,Ce,Ie);return}}Le&8?(xe&16&&q(ue,fe,Se),Te!==ue&&a(ae,Te)):xe&16?Le&16?A(ue,Te,ae,de,fe,Se,Ae,Ce,Ie):q(ue,fe,Se,!0):(xe&8&&a(ae,""),Le&16&&I(Te,ae,de,fe,Se,Ae,Ce,Ie))},D=(F,z,ae,de,fe,Se,Ae,Ce,Ie)=>{F=F||EMPTY_ARR,z=z||EMPTY_ARR;const ue=F.length,xe=z.length,Te=Math.min(ue,xe);let Pe;for(Pe=0;Pe<Te;Pe++){const Le=z[Pe]=Ie?cloneIfMounted(z[Pe]):normalizeVNode(z[Pe]);f(F[Pe],Le,ae,null,fe,Se,Ae,Ce,Ie)}ue>xe?q(F,fe,Se,!0,!1,Te):I(z,ae,de,fe,Se,Ae,Ce,Ie,Te)},A=(F,z,ae,de,fe,Se,Ae,Ce,Ie)=>{let ue=0;const xe=z.length;let Te=F.length-1,Pe=xe-1;for(;ue<=Te&&ue<=Pe;){const Le=F[ue],Fe=z[ue]=Ie?cloneIfMounted(z[ue]):normalizeVNode(z[ue]);if(isSameVNodeType(Le,Fe))f(Le,Fe,ae,null,fe,Se,Ae,Ce,Ie);else break;ue++}for(;ue<=Te&&ue<=Pe;){const Le=F[Te],Fe=z[Pe]=Ie?cloneIfMounted(z[Pe]):normalizeVNode(z[Pe]);if(isSameVNodeType(Le,Fe))f(Le,Fe,ae,null,fe,Se,Ae,Ce,Ie);else break;Te--,Pe--}if(ue>Te){if(ue<=Pe){const Le=Pe+1,Fe=Le<xe?z[Le].el:de;for(;ue<=Pe;)f(null,z[ue]=Ie?cloneIfMounted(z[ue]):normalizeVNode(z[ue]),ae,Fe,fe,Se,Ae,Ce,Ie),ue++}}else if(ue>Pe)for(;ue<=Te;)ne(F[ue],fe,Se,!0),ue++;else{const Le=ue,Fe=ue,Ne=new Map;for(ue=Fe;ue<=Pe;ue++){const Be=z[ue]=Ie?cloneIfMounted(z[ue]):normalizeVNode(z[ue]);Be.key!=null&&Ne.set(Be.key,ue)}let Ue,We=0;const ze=Pe-Fe+1;let Ye=!1,qe=0;const Ze=new Array(ze);for(ue=0;ue<ze;ue++)Ze[ue]=0;for(ue=Le;ue<=Te;ue++){const Be=F[ue];if(We>=ze){ne(Be,fe,Se,!0);continue}let Xe;if(Be.key!=null)Xe=Ne.get(Be.key);else for(Ue=Fe;Ue<=Pe;Ue++)if(Ze[Ue-Fe]===0&&isSameVNodeType(Be,z[Ue])){Xe=Ue;break}Xe===void 0?ne(Be,fe,Se,!0):(Ze[Xe-Fe]=ue+1,Xe>=qe?qe=Xe:Ye=!0,f(Be,z[Xe],ae,null,fe,Se,Ae,Ce,Ie),We++)}const et=Ye?getSequence(Ze):EMPTY_ARR;for(Ue=et.length-1,ue=ze-1;ue>=0;ue--){const Be=Fe+ue,Xe=z[Be],he=z[Be+1],me=Be+1<xe?he.el||he.placeholder:de;Ze[ue]===0?f(null,Xe,ae,me,fe,Se,Ae,Ce,Ie):Ye&&(Ue<0||ue!==et[Ue]?Q(Xe,ae,me,2):Ue--)}}},Q=(F,z,ae,de,fe=null)=>{const{el:Se,type:Ae,transition:Ce,children:Ie,shapeFlag:ue}=F;if(ue&6){Q(F.component.subTree,z,ae,de);return}if(ue&128){F.suspense.move(z,ae,de);return}if(ue&64){Ae.move(F,z,ae,ce);return}if(Ae===Fragment){d(Se,z,ae);for(let Te=0;Te<Ie.length;Te++)Q(Ie[Te],z,ae,de);d(F.anchor,z,ae);return}if(Ae===Static){g(F,z,ae);return}if(de!==2&&ue&1&&Ce)if(de===0)Ce.beforeEnter(Se),d(Se,z,ae),queuePostRenderEffect(()=>Ce.enter(Se),fe);else{const{leave:Te,delayLeave:Pe,afterLeave:Le}=Ce,Fe=()=>{F.ctx.isUnmounted?o(Se):d(Se,z,ae)},Ne=()=>{Te(Se,()=>{Fe(),Le&&Le()})};Pe?Pe(Se,Fe,Ne):Ne()}else d(Se,z,ae)},ne=(F,z,ae,de=!1,fe=!1)=>{const{type:Se,props:Ae,ref:Ce,children:Ie,dynamicChildren:ue,shapeFlag:xe,patchFlag:Te,dirs:Pe,cacheIndex:Le}=F;if(Te===-2&&(fe=!1),Ce!=null&&(pauseTracking(),setRef(Ce,null,ae,F,!0),resetTracking()),Le!=null&&(z.renderCache[Le]=void 0),xe&256){z.ctx.deactivate(F);return}const Fe=xe&1&&Pe,Ne=!isAsyncWrapper(F);let Ue;if(Ne&&(Ue=Ae&&Ae.onVnodeBeforeUnmount)&&invokeVNodeHook(Ue,z,F),xe&6)P(F.component,ae,de);else{if(xe&128){F.suspense.unmount(ae,de);return}Fe&&invokeDirectiveHook(F,null,z,"beforeUnmount"),xe&64?F.type.remove(F,z,ae,ce,de):ue&&!ue.hasOnce&&(Se!==Fragment||Te>0&&Te&64)?q(ue,z,ae,!1,!0):(Se===Fragment&&Te&384||!fe&&xe&16)&&q(Ie,z,ae),de&&re(F)}(Ne&&(Ue=Ae&&Ae.onVnodeUnmounted)||Fe)&&queuePostRenderEffect(()=>{Ue&&invokeVNodeHook(Ue,z,F),Fe&&invokeDirectiveHook(F,null,z,"unmounted")},ae)},re=F=>{const{type:z,el:ae,anchor:de,transition:fe}=F;if(z===Fragment){K(ae,de);return}if(z===Static){T(F);return}const Se=()=>{o(ae),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(F.shapeFlag&1&&fe&&!fe.persisted){const{leave:Ae,delayLeave:Ce}=fe,Ie=()=>Ae(ae,Se);Ce?Ce(F.el,Se,Ie):Ie()}else Se()},K=(F,z)=>{let ae;for(;F!==z;)ae=h(F),o(F),F=ae;o(z)},P=(F,z,ae)=>{const{bum:de,scope:fe,job:Se,subTree:Ae,um:Ce,m:Ie,a:ue,parent:xe,slots:{__:Te}}=F;invalidateMount(Ie),invalidateMount(ue),de&&invokeArrayFns(de),xe&&isArray(Te)&&Te.forEach(Pe=>{xe.renderCache[Pe]=void 0}),fe.stop(),Se&&(Se.flags|=8,ne(Ae,F,z,ae)),Ce&&queuePostRenderEffect(Ce,z),queuePostRenderEffect(()=>{F.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},q=(F,z,ae,de=!1,fe=!1,Se=0)=>{for(let Ae=Se;Ae<F.length;Ae++)ne(F[Ae],z,ae,de,fe)},Z=F=>{if(F.shapeFlag&6)return Z(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const z=h(F.anchor||F.el),ae=z&&z[TeleportEndKey];return ae?h(ae):z};let se=!1;const pe=(F,z,ae)=>{F==null?z._vnode&&ne(z._vnode,null,null,!0):f(z._vnode||null,F,z,null,null,null,ae),z._vnode=F,se||(se=!0,flushPreFlushCbs(),flushPostFlushCbs(),se=!1)},ce={p:f,um:ne,m:Q,r:re,mt:U,mc:I,pc:C,pbc:k,n:Z,o:e};return{render:pe,hydrate:void 0,createApp:createAppAPI(pe)}}function resolveChildrenNamespace({type:e,props:t},m){return m==="svg"&&e==="foreignObject"||m==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:m}function toggleRecurse({effect:e,job:t},m){m?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,m=!1){const d=e.children,o=t.children;if(isArray(d)&&isArray(o))for(let c=0;c<d.length;c++){const u=d[c];let s=o[c];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[c]=cloneIfMounted(o[c]),s.el=u.el),!m&&s.patchFlag!==-2&&traverseStaticChildren(u,s)),s.type===Text&&(s.el=u.el),s.type===Comment&&!s.el&&(s.el=u.el)}}function getSequence(e){const t=e.slice(),m=[0];let d,o,c,u,s;const r=e.length;for(d=0;d<r;d++){const n=e[d];if(n!==0){if(o=m[m.length-1],e[o]<n){t[d]=o,m.push(d);continue}for(c=0,u=m.length-1;c<u;)s=c+u>>1,e[m[s]]<n?c=s+1:u=s;n<e[m[c]]&&(c>0&&(t[d]=m[c-1]),m[c]=d)}}for(c=m.length,u=m[c-1];c-- >0;)m[c]=u,u=t[u];return m}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,t,m){return doWatch(e,t,m)}function doWatch(e,t,m=EMPTY_OBJ){const{immediate:d,deep:o,flush:c,once:u}=m,s=extend({},m),r=t&&d||!t&&c!=="post";let n;if(isInSSRComponentSetup){if(c==="sync"){const v=useSSRContext();n=v.__watcherHandles||(v.__watcherHandles=[])}else if(!r){const v=()=>{};return v.stop=NOOP,v.resume=NOOP,v.pause=NOOP,v}}const a=currentInstance;s.call=(v,y,f)=>callWithAsyncErrorHandling(v,a,y,f);let l=!1;c==="post"?s.scheduler=v=>{queuePostRenderEffect(v,a&&a.suspense)}:c!=="sync"&&(l=!0,s.scheduler=(v,y)=>{y?v():queueJob(v)}),s.augmentJob=v=>{t&&(v.flags|=4),l&&(v.flags|=2,a&&(v.id=a.uid,v.i=a))};const h=watch$1(e,t,s);return isInSSRComponentSetup&&(n?n.push(h):r&&h()),h}function instanceWatch(e,t,m){const d=this.proxy,o=isString(e)?e.includes(".")?createPathGetter(d,e):()=>d[e]:e.bind(d,d);let c;isFunction(t)?c=t:(c=t.handler,m=t);const u=setCurrentInstance(this),s=doWatch(o,c.bind(d),m);return u(),s}function createPathGetter(e,t){const m=t.split(".");return()=>{let d=e;for(let o=0;o<m.length&&d;o++)d=d[m[o]];return d}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...m){if(e.isUnmounted)return;const d=e.vnode.props||EMPTY_OBJ;let o=m;const c=t.startsWith("update:"),u=c&&getModelModifiers(d,t.slice(7));u&&(u.trim&&(o=m.map(a=>isString(a)?a.trim():a)),u.number&&(o=m.map(looseToNumber)));let s,r=d[s=toHandlerKey(t)]||d[s=toHandlerKey(camelize(t))];!r&&c&&(r=d[s=toHandlerKey(hyphenate(t))]),r&&callWithAsyncErrorHandling(r,e,6,o);const n=d[s+"Once"];if(n){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,callWithAsyncErrorHandling(n,e,6,o)}}function normalizeEmitsOptions(e,t,m=!1){const d=t.emitsCache,o=d.get(e);if(o!==void 0)return o;const c=e.emits;let u={},s=!1;if(!isFunction(e)){const r=n=>{const a=normalizeEmitsOptions(n,t,!0);a&&(s=!0,extend(u,a))};!m&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!c&&!s?(isObject(e)&&d.set(e,null),null):(isArray(c)?c.forEach(r=>u[r]=null):extend(u,c),isObject(e)&&d.set(e,u),u)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:m,proxy:d,withProxy:o,propsOptions:[c],slots:u,attrs:s,emit:r,render:n,renderCache:a,props:l,data:h,setupState:v,ctx:y,inheritAttrs:f}=e,S=setCurrentRenderingInstance(e);let b,_;try{if(m.shapeFlag&4){const T=o||d,E=T;b=normalizeVNode(n.call(E,T,a,l,v,h,y)),_=s}else{const T=t;b=normalizeVNode(T.length>1?T(l,{attrs:s,slots:u,emit:r}):T(l,null)),_=t.props?s:getFunctionalFallthrough(s)}}catch(T){blockStack.length=0,handleError(T,e,1),b=createVNode(Comment)}let g=b;if(_&&f!==!1){const T=Object.keys(_),{shapeFlag:E}=g;T.length&&E&7&&(c&&T.some(isModelListener)&&(_=filterModelListeners(_,c)),g=cloneVNode(g,_,!1,!0))}return m.dirs&&(g=cloneVNode(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(m.dirs):m.dirs),m.transition&&setTransitionHooks(g,m.transition),b=g,setCurrentRenderingInstance(S),b}const getFunctionalFallthrough=e=>{let t;for(const m in e)(m==="class"||m==="style"||isOn(m))&&((t||(t={}))[m]=e[m]);return t},filterModelListeners=(e,t)=>{const m={};for(const d in e)(!isModelListener(d)||!(d.slice(9)in t))&&(m[d]=e[d]);return m};function shouldUpdateComponent(e,t,m){const{props:d,children:o,component:c}=e,{props:u,children:s,patchFlag:r}=t,n=c.emitsOptions;if(t.dirs||t.transition)return!0;if(m&&r>=0){if(r&1024)return!0;if(r&16)return d?hasPropsChanged(d,u,n):!!u;if(r&8){const a=t.dynamicProps;for(let l=0;l<a.length;l++){const h=a[l];if(u[h]!==d[h]&&!isEmitListener(n,h))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:d===u?!1:d?u?hasPropsChanged(d,u,n):!0:!!u;return!1}function hasPropsChanged(e,t,m){const d=Object.keys(t);if(d.length!==Object.keys(e).length)return!0;for(let o=0;o<d.length;o++){const c=d[o];if(t[c]!==e[c]&&!isEmitListener(m,c))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},m){for(;t;){const d=t.subTree;if(d.suspense&&d.suspense.activeBranch===e&&(d.el=e.el),d===e)(e=t.vnode).el=m,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,m,d,o,c){return setupBlock(createBaseVNode(e,t,m,d,o,c,!0))}function createBlock(e,t,m,d,o){return setupBlock(createVNode(e,t,m,d,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:m})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!m}:e:null);function createBaseVNode(e,t=null,m=null,d=0,o=null,c=e===Fragment?0:1,u=!1,s=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:m,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:d,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return s?(normalizeChildren(r,m),c&128&&e.normalize(r)):m&&(r.shapeFlag|=isString(m)?8:16),isBlockTreeEnabled>0&&!u&&currentBlock&&(r.patchFlag>0||c&6)&&r.patchFlag!==32&&currentBlock.push(r),r}const createVNode=_createVNode;function _createVNode(e,t=null,m=null,d=0,o=null,c=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const s=cloneVNode(e,t,!0);return m&&normalizeChildren(s,m),isBlockTreeEnabled>0&&!c&&currentBlock&&(s.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=s:currentBlock.push(s)),s.patchFlag=-2,s}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:s,style:r}=t;s&&!isString(s)&&(t.class=normalizeClass(s)),isObject(r)&&(isProxy(r)&&!isArray(r)&&(r=extend({},r)),t.style=normalizeStyle(r))}const u=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,m,d,o,u,c,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,m=!1,d=!1){const{props:o,ref:c,patchFlag:u,children:s,transition:r}=e,n=t?mergeProps(o||{},t):o,a={__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&normalizeKey(n),ref:t&&t.ref?m&&c?isArray(c)?c.concat(normalizeRef(t)):[c,normalizeRef(t)]:normalizeRef(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:r,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return r&&d&&setTransitionHooks(a,r.clone(a)),a}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let m=0;const{shapeFlag:d}=e;if(t==null)t=null;else if(isArray(t))m=16;else if(typeof t=="object")if(d&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{m=32;const o=t._;!o&&!isInternalObject(t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},m=32):(t=String(t),d&64?(m=16,t=[createTextVNode(t)]):m=8);e.children=t,e.shapeFlag|=m}function mergeProps(...e){const t={};for(let m=0;m<e.length;m++){const d=e[m];for(const o in d)if(o==="class")t.class!==d.class&&(t.class=normalizeClass([t.class,d.class]));else if(o==="style")t.style=normalizeStyle([t.style,d.style]);else if(isOn(o)){const c=t[o],u=d[o];u&&c!==u&&!(isArray(c)&&c.includes(u))&&(t[o]=c?[].concat(c,u):u)}else o!==""&&(t[o]=d[o])}return t}function invokeVNodeHook(e,t,m,d=null){callWithAsyncErrorHandling(e,t,7,[m,d])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,m){const d=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,c={uid:uid++,vnode:e,type:d,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(d,o),emitsOptions:normalizeEmitsOptions(d,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:d.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:m,suspenseId:m?m.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=emit.bind(null,c),e.ce&&e.ce(c),c}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(m,d)=>{let o;return(o=e[m])||(o=e[m]=[]),o.push(d),c=>{o.length>1?o.forEach(u=>u(c)):o[0](c)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",m=>currentInstance=m),setInSSRSetupState=t("__VUE_SSR_SETTERS__",m=>isInSSRComponentSetup=m)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,m=!1){t&&setInSSRSetupState(t);const{props:d,children:o}=e.vnode,c=isStatefulComponent(e);initProps(e,d,c,t),initSlots(e,o,m||t);const u=c?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),u}function setupStatefulComponent(e,t){const m=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:d}=m;if(d){pauseTracking();const o=e.setupContext=d.length>1?createSetupContext(e):null,c=setCurrentInstance(e),u=callWithErrorHandling(d,e,0,[e.props,o]),s=isPromise(u);if(resetTracking(),c(),(s||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),s){if(u.then(unsetCurrentInstance,unsetCurrentInstance),t)return u.then(r=>{handleSetupResult(e,r)}).catch(r=>{handleError(r,e,0)});e.asyncDep=u}else handleSetupResult(e,u)}else finishComponentSetup(e)}function handleSetupResult(e,t,m){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,m){const d=e.type;e.render||(e.render=d.render||NOOP);{const o=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),o()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=m=>{e.exposed=m||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,m){if(m in t)return t[m];if(m in publicPropertiesMap)return publicPropertiesMap[m](e)},has(t,m){return m in t||m in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,m=!1){let d=getComponentName(t);if(!d&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(d=o[1])}if(!d&&e&&e.parent){const o=c=>{for(const u in c)if(c[u]===t)return u};d=o(e.components||e.parent.type.components)||o(e.appContext.components)}return d?classify(d):m?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),version="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,m)=>{t.insertBefore(e,m||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,m,d)=>{const o=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):m?doc.createElement(e,{is:m}):doc.createElement(e);return e==="select"&&d&&d.multiple!=null&&o.setAttribute("multiple",d.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,m,d,o,c){const u=m?m.previousSibling:t.lastChild;if(o&&(o===c||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),m),!(o===c||!(o=o.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(d==="svg"?`<svg>${e}</svg>`:d==="mathml"?`<math>${e}</math>`:e);const s=templateContainer.content;if(d==="svg"||d==="mathml"){const r=s.firstChild;for(;r.firstChild;)s.appendChild(r.firstChild);s.removeChild(r)}t.insertBefore(s,m)}return[u?u.nextSibling:t.firstChild,m?m.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,m){const d=e[vtcKey];d&&(t=(t?[t,...d]:[...d]).join(" ")),t==null?e.removeAttribute("class"):m?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,m){const d=e.style,o=isString(m);let c=!1;if(m&&!o){if(t)if(isString(t))for(const u of t.split(";")){const s=u.slice(0,u.indexOf(":")).trim();m[s]==null&&setStyle(d,s,"")}else for(const u in t)m[u]==null&&setStyle(d,u,"");for(const u in m)u==="display"&&(c=!0),setStyle(d,u,m[u])}else if(o){if(t!==m){const u=d[CSS_VAR_TEXT];u&&(m+=";"+u),d.cssText=m,c=displayRE.test(m)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=c?d.display:"",e[vShowHidden]&&(d.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,m){if(isArray(m))m.forEach(d=>setStyle(e,t,d));else if(m==null&&(m=""),t.startsWith("--"))e.setProperty(t,m);else{const d=autoPrefix(e,t);importantRE.test(m)?e.setProperty(hyphenate(d),m.replace(importantRE,""),"important"):e[d]=m}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const m=prefixCache[t];if(m)return m;let d=camelize(t);if(d!=="filter"&&d in e)return prefixCache[t]=d;d=capitalize(d);for(let o=0;o<prefixes.length;o++){const c=prefixes[o]+d;if(c in e)return prefixCache[t]=c}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,m,d,o,c=isSpecialBooleanAttr(t)){d&&t.startsWith("xlink:")?m==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,m):m==null||c&&!includeBooleanAttr(m)?e.removeAttribute(t):e.setAttribute(t,c?"":isSymbol(m)?String(m):m)}function patchDOMProp(e,t,m,d,o){if(t==="innerHTML"||t==="textContent"){m!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(m):m);return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const s=c==="OPTION"?e.getAttribute("value")||"":e.value,r=m==null?e.type==="checkbox"?"on":"":String(m);(s!==r||!("_value"in e))&&(e.value=r),m==null&&e.removeAttribute(t),e._value=m;return}let u=!1;if(m===""||m==null){const s=typeof e[t];s==="boolean"?m=includeBooleanAttr(m):m==null&&s==="string"?(m="",u=!0):s==="number"&&(m=0,u=!0)}try{e[t]=m}catch{}u&&e.removeAttribute(o||t)}function addEventListener(e,t,m,d){e.addEventListener(t,m,d)}function removeEventListener(e,t,m,d){e.removeEventListener(t,m,d)}const veiKey=Symbol("_vei");function patchEvent(e,t,m,d,o=null){const c=e[veiKey]||(e[veiKey]={}),u=c[t];if(d&&u)u.value=d;else{const[s,r]=parseName(t);if(d){const n=c[t]=createInvoker(d,o);addEventListener(e,s,n,r)}else u&&(removeEventListener(e,s,u,r),c[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let d;for(;d=e.match(optionsModifierRE);)e=e.slice(0,e.length-d[0].length),t[d[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const m=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=m.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(d,m.value),t,5,[d])};return m.value=e,m.attached=getNow(),m}function patchStopImmediatePropagation(e,t){if(isArray(t)){const m=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{m.call(e),e._stopped=!0},t.map(d=>o=>!o._stopped&&d&&d(o))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,m,d,o,c)=>{const u=o==="svg";t==="class"?patchClass(e,d,u):t==="style"?patchStyle(e,m,d):isOn(t)?isModelListener(t)||patchEvent(e,t,m,d,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,d,u))?(patchDOMProp(e,t,d),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,d,u,c,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString(d))?patchDOMProp(e,camelize(t),d,c,t):(t==="true-value"?e._trueValue=d:t==="false-value"&&(e._falseValue=d),patchAttr(e,t,d,u))};function shouldSetAsProp(e,t,m,d){if(d)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction(m));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return isNativeOn(t)&&isString(m)?!1:t in e}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:m}=t;return t.mount=d=>{const o=normalizeContainer(d);if(!o)return;const c=t._component;!isFunction(c)&&!c.render&&!c.template&&(c.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=m(o,!1,resolveRootNamespace(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,m,d){let o=Promise.resolve();if(m&&m.length>0){let n=function(a){return Promise.all(a.map(l=>Promise.resolve(l).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var u=n;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=s?.nonce||s?.getAttribute("nonce");o=n(m.map(a=>{if(a=assetsURL(a),a in seen)return;seen[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const v=document.createElement("link");if(v.rel=l?"stylesheet":scriptRel,l||(v.as="script"),v.crossOrigin="",v.href=a,r&&v.setAttribute("nonce",r),document.head.appendChild(v),l)return new Promise((y,f)=>{v.addEventListener("load",y),v.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function c(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return o.then(s=>{for(const r of s||[])r.status==="rejected"&&c(r.reason);return t().catch(c)})};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var aliplayerMin={exports:{}};/*! aliyun-aliplayer - v2.32.0 - 2025-07-02 19.16.46 */var hasRequiredAliplayerMin;function requireAliplayerMin(){return hasRequiredAliplayerMin||(hasRequiredAliplayerMin=1,function(module,exports){(function(e){module.exports=e()})(function(){return function e(t,m,d){function o(s,r){if(!m[s]){if(!t[s]){var n=typeof commonjsRequire=="function"&&commonjsRequire;if(!r&&n)return n(s,!0);if(c)return c(s,!0);throw(r=new Error("Cannot find module '"+s+"'")).code="MODULE_NOT_FOUND",r}n=m[s]={exports:{}},t[s][0].call(n.exports,function(a){return o(t[s][1][a]||a)},n,n.exports,e,t,m,d)}return m[s].exports}for(var c=typeof commonjsRequire=="function"&&commonjsRequire,u=0;u<d.length;u++)o(d[u]);return o}({1:[function(e,t,m){var d,o,c=Object.defineProperty,u=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(he,me,Ee)=>me in he?c(he,me,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):he[me]=Ee,h=(he,me)=>{for(var Ee in me=me||{})n.call(me,Ee)&&l(he,Ee,me[Ee]);if(r)for(var Ee of r(me))a.call(me,Ee)&&l(he,Ee,me[Ee]);return he},v=(he,me,Ee)=>(l(he,typeof me!="symbol"?me+"":me,Ee),Ee),y=(Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),{exports:{}}),f={exports:{}};function S(){var he,me,Ee;return o||(o=1,Date.now=Date.now||function(){return new Date().getTime()},he=Date.now(),Ee={noop:me=function(){},warn:(()=>{var Y=typeof console=="object"?console.warn:me;try{var O={warn:Y};O.warn.call(O)}catch{return me}return Y})(),key:"__bl",selfErrKey:"ARMS_SDK_ERROR",selfErrPage:"ARMSSDK",win:typeof window=="object"&&window.document?window:void 0,regionMap:{cn:"https://arms-retcode.aliyuncs.com/r.png?",sg:"https://arms-retcode-sg.aliyuncs.com/r.png?",sg_2:"https://retcode-sg-lazada.arms.aliyuncs.com/r.png?",daily:"http://arms-retcode-daily.alibaba.net/r.png?",daily_2:"https://arms-retcode-daily.alibaba.net/r.png?",daily_3:"http://arms-retcode-daily.aliyun.test/r.png?",us:"https://retcode-us-west-1.arms.aliyuncs.com/r.png?",tw:"https://arms-retcode.orientalgame.com.tw/r.png?",tw_sg:"https://arms-retcode-sg.orientalgame.com.tw/r.png?",hz_finance:"https://arms-retcode-hz-finance.aliyuncs.com/r.png?"},defaultImgUrl:"https://arms-retcode.aliyuncs.com/r.png?",createObject:function(Y){var O;return Object.create?Object.create(Y):((O=function(){}).prototype=Y,new O)},each:function(Y,O){var V=0,H=Y.length;if(this.T(Y,"Array"))for(;V<H&&O.call(Y[V],Y[V],V)!==!1;V++);else for(V in Y)if(O.call(Y[V],Y[V],V)===!1)break;return Y},safetyCall:function(Y,O,V){if(typeof Y!="function")return V;try{return Y.apply(this,O)}catch{return V}},T:function(Y,O){return Y=Object.prototype.toString.call(Y).substring(8).replace("]",""),O?Y===O:Y},duration:function(){var Y=Date;try{performance&&this.T(performance.now,"Function")&&(Y=performance)}catch{Y=Date}var O=Y.now();return function(){return Math.round(Y.now()-O)}},filterByRule:function(){var Y,O,V,H,X,oe=[].slice.call(arguments),te=oe.length;return te<2?oe[0]:(Y=oe[te-1],(O=oe[0])?Y?(H=(V=this).T(Y),X=oe.slice(0,te-1),H==="Function"?V.safetyCall(Y,X,O):H==="Array"?(this.each(Y,function(le){X[0]=O=V.filterByRule.apply(V,[].concat(X,le))}),O):H==="Object"?O.replace(Y.rule,Y.target||""):O.replace(Y,"")):O:"")},ignoreByRule:function(Y,O){if(!Y||!O)return!1;if((this.isString(O)||O.source||this.T(O)==="Function")&&(O=[O]),!this.isArray(O))return this.warn("[arms] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"),!1;for(var V,H=[],X=0,oe=O.length;X<oe;X++)if(V=O[X],this.isString(V))H.push(V.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"));else if(V&&V.source)H.push(V.source);else if(V&&this.T(V)==="Function"&&this.safetyCall(V,[Y],!1)===!0)return!0;var te=new RegExp(H.join("|"),"i");return!!(H.length&&te.test&&te.test(Y))},J:function(Y){if(!Y||typeof Y!="string")return Y;var O=null;try{O=JSON.parse(Y)}catch{}return O},pick:function(Y){return Y===1||Math.ceil(Math.random()*Y)===1},verifyConfig:function(Y){var O,V;return"sample"in Y&&(1<=(V=0<(V=(V=O=Y.sample)&&/^\d+(\.\d+)?%$/.test(O)?parseInt(100/parseFloat(O)):V)&&V<1?parseInt(1/V):V)&&V<=100?Y.sample=V:delete Y.sample),Y},on:function(Y,O,V,H,X){return Y.addEventListener?(X=X||!1,Y.addEventListener(O,function oe(te){H&&Y.removeEventListener(O,oe,X),V.call(this,te)},X)):Y.attachEvent&&Y.attachEvent("on"+O,function oe(te){H&&Y.detachEvent("on"+O,oe),V.call(this,te)}),this},off:function(Y,O,V){return V&&(Y.removeEventListener?Y.removeEventListener(O,V):Y.detachEvent&&Y.detachEvent(O,V)),this},delay:function(Y,O){return O===-1?(Y(),null):setTimeout(Y,O||0)},ext:function(Y){for(var O=1,V=arguments.length;O<V;O++){var H,X=arguments[O];for(H in X)Object.prototype.hasOwnProperty.call(X,H)&&(Y[H]=X[H])}return Y},sub:function(Y,O){var V={};return this.each(Y,function(H,X){O.indexOf(X)!==-1&&(V[X]=H)}),V},uu:function(){for(var Y,O,V=20,H=new Array(V),X=Date.now().toString(36).split("");0<V--;)O=(Y=36*Math.random()|0).toString(36),H[V]=Y%3?O:O.toUpperCase();for(var oe=0;oe<8;oe++)H.splice(3*oe+2,0,X[oe]);return H.join("")},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Y){var O=16*Math.random()|0;return(Y==="x"?O:3&O|8).toString(16)})},seq:function(){return(he++).toString(36)},decode:function(Y){try{Y=decodeURIComponent(Y)}catch{}return Y},encode:function(Y,O){try{Y=O?encodeURIComponent(Y).replace(/\(/g,"%28").replace(/\)/g,"%29"):encodeURIComponent(Y)}catch{}return Y},serialize:function(Y){var O,V=[];for(O in Y=Y||{})Object.prototype.hasOwnProperty.call(Y,O)&&Y[O]!==void 0&&V.push(O+"="+this.encode(Y[O],O==="msg"));return V.join("&")},checkAPI:function(Y,O){var V;return!(!Y||typeof Y!="string"||(!(V=/arms-retcode[\w-]*\.aliyuncs/.test(Y))&&O?/(alicdn\.com)|(mmstat\.com)/.test(Y):V))},checkAutoError:function(Y){return!(!Y||!Y.message||/failed[\w\s]+fetch/i.test(Y.message))},cutUrlSearch:function(Y){return Y&&typeof Y=="string"?Y.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},removeUrlSearch:function(Y){return Y&&typeof Y=="string"?Y.replace(/\?.*$/,""):""},createFakeToString:function(Y){return function(){return Y+"() { [native code] }"}},checkSameOrigin:function(Y,O){var V;return!(!O||!Y||(V="//"+O.split("/")[2],Y!==O&&Y.slice(0,O.length+1)!==O+"/"&&Y!==V&&Y.slice(0,V.length+1)!==V+"/"&&/^(\/\/|http:|https:).*/.test(Y)))},getRandIP:function(){for(var Y=[],O=0;O<4;O++){var V=Math.floor(256*Math.random());Y[O]=(15<V?"":"0")+V.toString(16)}return Y.join("").replace(/^0/,"1")},getSortNum:function(Y){return Y?1e3<=(Y+=1)&&Y<=9999?Y:Y<1e3?Y+1e3:Y%1e4+1e3:1e3},getRandNum:function(Y){return!Y||typeof Y!="string"||Y.length<5?this.getNum(5):Y.substring(Y.length-5)},getNum:function(Y){for(var O=[],V=0;V<Y;V++){var H=Math.floor(16*Math.random());O[V]=H.toString(16)}return O.join("")},getCurDomain:function(){return location&&location.hostname||""},getSrcType:function(Y,O){var V=location&&location.host||"";if(!V)return"";var H=new URL(Y).host;if(H===V)return"self";for(var X=0;X<O.length;X+=1)if(H.includes(O[X]))return"cdn";return"others"},parseFetchHeaders:function(Y){if(!Y)return{};var O={};try{if(typeof Y.keys=="function")for(var V=Y.keys(),H=V.next();!H.done;){var X=H.value;O[X]=Y.get(X),H=V.next()}else O=Y}catch{O={}}return O},parseXhrHeaders:function(Y){if(!Y&&typeof Y!="string")return{};var O={};try{O=Y.split(`\r
`).reduce(function(V,H){return H=H.split(": "),V[H[0]]=H[1],V},{})}catch{O={}}return O},getQuerys:function(Y){if(!Y)return"";var O,V,H,X={};try{var oe=[];if(0<(oe=0<=Y.indexOf("?")?Y.substring(Y.indexOf("?")+1,Y.length).split("&"):oe).length)for(var te in oe)V=(O=oe[te].split("="))[0],H=O[1],X[V]=H}catch{X={}}return X},getURL:function(Y){if(!Y)return null;var O={},X=Y.length,V=Y.indexOf("://");if(V<0)return null;O.protocol=Y.substring(0,V+1);var oe=Y.indexOf("#"),H=Y.indexOf("?"),X=(oe<0&&(oe=X),H<0&&(H=oe),O.search=Y.substring(H,oe).substring(0,1e3),Y.substring(V+3,H)),oe=X.indexOf("/");return oe<0&&(oe=X.length),O.domain=X.substring(0,oe).split(":")[0],O.path=X.substring(oe,X.length).substring(0,1e3),O},getResType:function(Y,H){if(-1<["script","img","other"].indexOf(Y))return Y;if(-1<["video"].indexOf(Y))return"media";if(-1<["document","iframe"].indexOf(Y))return"doc";var H=H?this.getURL(H):null,V=H&&H.path?H.path.lastIndexOf("."):-1,H=(0<V?H.path.substr(V+1):"").toLowerCase();if(H){if(-1<["eot","woff","woff2","ttf"].indexOf(H))return"font";if(H==="css")return"css";if(H==="js")return"script"}return-1<["fetch","xmlhttprequest","beacon"].indexOf(Y)?"api":"others"},areInOrder:function(){for(var Y=1;Y<arguments.length;Y+=1)if(arguments[Y]<arguments[Y-1])return!1;return!0},getFetchSnapshot:function(Y,O,V){try{var H=(Y&&typeof Y[0]!="string"?Y[0].url:Y[0])||"",X=(Y&&typeof Y[0]!="string"?Y[0]:Y[1])||{},oe=X.method.toUpperCase()==="POST"?X.body:this.getQuerys(H),te={originApi:H,method:X.method||"unknown",params:oe,response:O||"",reqHeaders:this.parseFetchHeaders(X.headers||null),resHeaders:this.parseFetchHeaders(V)},le=JSON&&JSON.stringify(te)||"{}"}catch{le="{}"}return le},getXhrSnapshot:function(Y,O,V){if(!Y||!O||!V)return{};var H,X;try{var oe="";V.responseType===""||V.responseType==="text"?oe=V.responseText:V.responseType==="document"&&(oe=V.responseXML),H={originApi:Y,method:O,params:this.getQuerys(Y),response:oe,reqHeaders:{},resHeaders:this.parseXhrHeaders(typeof V.getAllResponseHeaders=="function"&&V.getAllResponseHeaders()||"")},X=JSON&&JSON.stringify(H)||"{}"}catch{X="{}"}return X},isRobot:function(){var Y=["nuhk","googlebot/","googlebot-image","yammybot","openbot","slurp","msnbot","ask jeeves/teoma","ia_archiver","baiduspider","bingbot/","adsbot"];if(navigator&&typeof navigator.userAgent=="string")try{for(var O=navigator.userAgent.toLowerCase(),V=0;V<Y.length;V++){var H=Y[V];if(0<=O.lastIndexOf(H))return!0}}catch{this.warn("[arms] useragent parse error")}return!1},isFunction:function(Y){return typeof Y=="function"},isPlainObject:function(Y){return Object.prototype.toString.call(Y)==="[object Object]"},isString:function(Y){return Object.prototype.toString.call(Y)==="[object String]"},isArray:function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},joinRegExp:function(Y){for(var O,V=[],H=0,X=Y.length;H<X;H++)O=Y[H],this.isString(O)?V.push(O.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):O&&O.source&&V.push(O.source);return new RegExp(V.join("|"),"i")},reWriteMethod:function(Y,O,V){var H;Y!==null&&(H=Y[O],Y[O]=V(H))},checkSDKError:function(Y,O){return!(!Y&&!O||!new RegExp(this.selfErrKey,"i").test(Y)&&!this.ignoreByRule(O,[/retcode.alicdn.com\/retcode\/bl.js/,/g.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/laz-g-cdn.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/local.taobao.com:8880\/build\/bl/]))},sdkError:function(Y){return{msg:Y,message:this.selfErrKey}},dealParam:function(Y,O,V){var H={};try{H=this.isPlainObject(Y)?this.ext({key:Y.key||"default",val:Y.val||Y.value||V},Y,{begin:Date.now()}):{key:Y||"default",val:O||V,begin:Date.now()}}catch(X){this.warn("[retcode] baseLog error: "+X)}return H}},d=Ee),d}var b,_,g,T,E={exports:{}},w={exports:{}};function x(){var he,me,Ee,Y,O,V;return g||(g=1,he=S(),_||(_=1,V=S(),b=function(H,X,oe){typeof H=="object"&&(H=V.serialize(H)),window&&window.navigator&&typeof window.navigator.sendBeacon=="function"?window.navigator.sendBeacon(X+H+(oe?"&post_res=":""),oe||"&post_res="):V.warn("[arms] navigator.sendBeacon not surported")}),me=b,Ee="aokcdqn3ly@e629dabd48a9933",Y=function(H,X){var oe,te,le;if(X.t!=="error"||!(oe=H.requestQueue[0])||oe.t!=="error"||X.msg!==oe.msg)return X.t==="behavior"?0<(te=H.requestQueue&&H.requestQueue.length)&&H.requestQueue[te-1].t==="behavior"?(le=X.behavior||[],H.requestQueue[te-1].behavior.concat(le)):H.requestQueue.push(X):H.requestQueue.unshift(X),H.onReady(function(){H.requestTimmer=he.delay(function(){H.clear()},H.requestQueue[0]&&H.requestQueue[0].t==="error"?3e3:-1)}),!0;X.times=oe.times+1,H.requestQueue[0]=X},(O=function(H){return this.ver="1.8.36-beta.12",this._conf=he.ext({},O.dftCon),this.sampleCache={},this.requestQueue=[],this.selfQueue=[],this.sdkFlag=!0,this.hash=he.seq(),this.resetPageview(),this.setConfig(H),this.rip=he.getRandIP(),this.record=999,this["EagleEye-TraceID"]=this.getTraceId()["EagleEye-TraceID"],this._common={},this}).dftCon={sample:1,pvSample:1,tag:"",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",region:null,ignore:{ignoreUrls:[],ignoreApis:[],ignoreErrors:[/^Script error\.?$/],ignoreResErrors:[],ignoreResources:[/\/(bl|wl)(.debug)?.js$/]},release:void 0,environment:"prod",beforeReport:null,parseTraceId:null},O.prototype={constructor:O,onReady:function(H){return H()},getPage:function(){var H=this._conf.page;return he.safetyCall(H,[],H+"")},setPage:function(){},setConfig:function(H){H&&typeof H=="object"&&(he.verifyConfig(H),H=this.setImgUrl(H),this._conf=he.ext({},this._conf,H))},setImgUrl:function(H){var X=H.region,oe=H.imgUrl;return X?(X=he.regionMap[X],H.imgUrl=X||he.defaultImgUrl):oe&&(H.imgUrl=oe),H},checkImgUrl:function(){return!0},sendRequest:function(){},sendBeacon:function(H,X,oe){me(H,X||this.getConfig("imgUrl"),oe)},postData:function(){},commonInfo:function(){return{}},setCommonInfo:function(H){H&&typeof H=="object"&&(this._common=he.ext({},this._common,H))},resetPageview:function(){this.pageview=he.uu(),this.sBegin=Date.now()},getUsername:function(){if(!this.username){var H=this._conf,H=H&&H.setUsername;if(typeof H=="function")try{var X=H();typeof X=="string"&&(X=X.substr(0,40),this.username=X)}catch(oe){he.warn("[arms] setUsername fail",oe)}}return this.username},getTraceId:function(){var oe=this.rip,H=Date.now(),X=he.getSortNum(this.record),oe=oe+H+X+he.getRandNum(this._conf.pid);return this["EagleEye-TraceID"]=oe,this.record=X,{"EagleEye-TraceID":oe}},getUberTraceId:function(H){var te=this.rip,le=Date.now(),X=he.getSortNum(this.record),oe=he.getRandNum(this._conf.pid),te=te+le+X+he.getNum(2)+oe,le=te.substring(0,16);return H=H?"1":"0",te[0]==="0"&&(te[0]="1"),te[16]==="0"&&(te[16]="1"),{"uber-trace-id":te+":"+le+":0:"+H,traceId:te}},getB3TraceId:function(H){var te=this.rip,le=Date.now(),X=he.getSortNum(this.record),oe=he.getRandNum(this._conf.pid),te=te+le+X+he.getNum(2)+oe,le=te.substring(0,16);return H=H?"1":"0",te[0]==="0"&&(te[0]="1"),te[16]==="0"&&(te[16]="1"),{b3:te+"-"+le+"-"+H+"-0","X-B3-TraceId":te,"X-B3-ParentSpanId":"0","X-B3-SpanId":le,"X-B3-Sampled":H}},getPageviewId:function(){return{"EagleEye-SessionID":this.pageview}},getConfig:function(H){return H?this._conf[H]:he.ext({},this._conf)},sampling:function(H){return H===1||(typeof this.sampleCache[H]=="boolean"||(this.sampleCache[H]=he.pick(H)),this.sampleCache[H])},clear:function(H){var X;clearTimeout(this.requestTimmer),this.requestTimmer=null;for(var oe,te=this._conf&&typeof this._conf.sendRequest=="function";X=this.requestQueue.pop();)X.t==="res"?this.postData(X,"res"):X.t==="error"?this.postData(X,"err"):X.t==="api"?this.postData(X,"apiSnapshot"):X.t==="behavior"?this.postData(X,"behavior"):X.t==="health"&&!te&&window&&window.navigator&&typeof window.navigator.sendBeacon=="function"?this.sendBeacon(X):X.t==="resource"&&!te&&window&&window.navigator&&typeof window.navigator.sendBeacon=="function"?(oe=JSON.stringify({resource:X.resource}),delete X.resource,this.sendBeacon(X,null,oe)):X.t==="resource"?this.postData(X,"resource"):this.sendRequest(X);return H&&this.clearSelf(),this},clearSelf:function(){var H;for(clearTimeout(this.Timmer),this.Timmer=null;H=this.selfQueue.pop();)this.postData(H,"err");return this},_lg:function(H,X,oe,te){var le=this,ve=le._conf,be=le.getPage(),ke=ve.ignore||{},_e=ke.ignoreErrors,ge=ke.ignoreResErrors,Re=ke.ignoreUrls,ke=ke.ignoreApis;if(le._isRobot||he.ignoreByRule(be,Re)||he.ignoreByRule(he.decode(be),Re)||H==="error"&&(he.ignoreByRule(X.msg,_e)||he.ignoreByRule(he.decode(X.msg),_e))||H==="resourceError"&&(he.ignoreByRule(X.src,ge)||he.ignoreByRule(he.decode(X.src),ge))||H==="api"&&(he.ignoreByRule(X.api,ke)||he.ignoreByRule(he.decode(X.api),ke))||!le.checkImgUrl(ve.imgUrl)||!X||ve.disabled||!ve.pid||te===0)return le;if(Re=X.dl,delete X.dl,X=he.ext({t:H,times:1,page:be,tag:ve.tag||"",release:ve.release||"",environment:ve.environment,begin:Date.now(),c1:ve.c1,c2:ve.c2,c3:ve.c3},X,le.commonInfo(),le._common,{pid:ve.pid,_v:le.ver,pv_id:le.pageview,username:le.getUsername(),sampling:oe||1,dl:Re,z:he.seq()}),he.T(ve.beforeReport)==="Function")try{if(!(X=ve.beforeReport(X)))return le}catch{return le}return te!==1&&oe&&!le.sampling(oe)?le:Y(le,X)},_self:function(H,X,oe){var te=this,le=te._conf;if(H!=="error"||!te.checkImgUrl(le.imgUrl)||!X||le.disabled||!le.pid||oe&&!te.sampling(oe))return te;if(X=he.ext({t:H,times:1,page:he.selfErrPage,tag:le.pid,begin:Date.now()},X,{pid:Ee,_v:te.ver,sampling:oe||1,z:he.seq()}),H=te.selfQueue[0],H){H.times++;try{H.err&&X.err&&H.err.msg_raw&&X.err.msg_raw&&H.err.msg_raw.split("&").indexOf(X.err.msg_raw)<0&&H.err.msg_raw.length<1e3&&(H.err.msg_raw+="&"+X.err.msg_raw)}catch{}}else te.selfQueue.unshift(X),te.onReady(function(){te.sdkFlag&&(te.sdkFlag=!1,te.Timmer=he.delay(function(){te.clearSelf()},1e4))})},custom:function(H,X){var oe,te;return H&&typeof H=="object"&&(oe=!1,te={begin:Date.now()},he.each(H,function(le,ve){return(oe=ve&&ve.length<=20)||he.warn("[retcode] invalid key: "+ve),te["x-"+ve]=le,oe}),oe)?this._lg("custom",te,X||1):this}},w.exports=O),w.exports}var I,R={exports:{}},k,L,N,j={exports:{}};function U(){var he;return N||(N=1,he=S(),L=function(me,Ee){function Y(le,ve,be){var _e;le!==null&&(_e=le[ve],le[ve]=be(_e))}function O(le,ve){return function(be){if(be&&be!==te){var _e;te=be;try{_e=be.target}catch{_e="<unknown>"}_e.length!==0&&(be={type:"ui.".concat(le),data:{message:(ge=>{if(!ge||ge.nodeType!==1)return"";for(var Re=ge||null,ke=[],Oe=0,J=0,G="";Re&&Oe++<5&&!((G=(ie=>{var ye,we,De,$e,He=[];if(!ie||typeof ie.tagName!="string")return"";if(He.push(ie.tagName.toLowerCase()),typeof ie.id=="string"&&He.push("#".concat(ie.id)),typeof(ye=ie.className)=="string")for(we=ye.split(/\s+/),Me=0;Me<we.length;Me++)He.push(".".concat(we[Me]));for(var Ve=["type","name","title","alt","data-arms-attr"],Me=0;Me<Ve.length;Me++)typeof($e=ie.getAttribute(De=Ve[Me]))=="string"&&He.push("[".concat(De,'="').concat($e,'"]'));return He.join("")})(Re))==="html"||1<Oe&&80<=J+3*ke.length+G.length);)ke.push(G),J+=G.length,Re=Re.parentNode;return ke.reverse().join(" > ")})(_e)},timestamp:Date.now()},le==="click"?H&&H.addBehavior(be):le==="keypress"&&(oe||H&&H.addBehavior(be),clearTimeout(oe),oe=setTimeout(function(){oe=void 0},100)))}}}var V=[],H=null,X=Ee&&Ee.location&&Ee.location.href,oe=void 0,te=null;he.ext(me.prototype,{addBehavior:function(le){if(this.getConfig("behavior")&&le&&typeof le=="object"){var ve={},be=le.data||{};if(le.type)ve=be;else{if(typeof be.name!="string"||typeof be.message!="string")return;ve.name=be.name.substr(0,20),ve.message=be.message.substr(0,200)}return ve.message&&(ve.message=he.encode(ve.message)),be={type:le.type||"custom",data:ve||{},timestamp:le.timestamp||Date.now(),page:le.page||Ee&&Ee.location&&Ee.location.pathname},V.push(be),V=V.slice(-100)}},getBehavior:function(){return V||[]},setBehavior:function(le){return V=le||V},reportBehavior:function(le){var ve=this;ve.getConfig("behavior")&&(ve.sendBhTimer&&(clearTimeout(ve.sendBhTimer),ve.sendBhTimer=void 0),ve.sendBhTimer=setTimeout(function(){V&&0<V.length&&(ve.behavior(V),V=[],ve.sendBhTimer=void 0,le)&&typeof le=="function"&&le()},0))},initBehavior:function(){if(!this.hasInitBehavior&&!H){try{document&&document.referrer&&document.location&&(G=document.referrer,ie=document.location.href,G!=="")&&(X=ie,H)&&H.addBehavior({type:"navigation",data:{from:G,to:ie}}),Ee&&Ee.document&&Ee.document.addEventListener&&(Ee.document.addEventListener("click",O("click"),!1),Ee.document.addEventListener("keypress",O("keypress"),!1)),Oe=(Oe=Ee&&Ee.chrome)&&Oe.app&&Oe.app.runtime,J="history"in Ee&&!!Ee.history.pushState&&!!Ee.history.replaceState,!Oe&&J&&(Re=function(ye,we){H&&H.addBehavior({type:"navigation",data:{from:ye,to:we}}),X=we},ke=Ee.onpopstate,Ee.onpopstate=function(){for(var ye=arguments.length,we=new Array(ye),De=0;De<ye;De++)we[De]=arguments[De];var $e=Ee.location.href;if(Re(X,$e),ke)return ke.apply(this,we)},Y(Ee.history,"pushState",Oe=function(ye){return function(){for(var we=arguments.length,De=new Array(we),$e=0;$e<we;$e++)De[$e]=arguments[$e];var He=2<De.length?De[2]:void 0;return He&&Re(X,String(He)),ye.apply(this,De)}}),Y(Ee.history,"replaceState",Oe));var le=this.getConfig("enableConsole");if(le){var ve=le;if(Ee&&Ee.console){var be=["debug","info","warn","log","error","assert"];he.isArray(ve)&&(be=ve);for(var _e=0;_e<be.length;_e++){var ge=be[_e];ge&&he.isString(ge)&&Ee.console[ge]&&typeof Ee.console[ge]=="function"&&Y(Ee.console,ge,function(ye){var we=ge;return function(){for(var De=arguments.length,$e=new Array(De),He=0;He<De;He++)$e[He]=arguments[He];if(H&&H.addBehavior({type:"console",data:{level:we,message:$e}}),we==="error")for(var Ve=0;Ve<$e.length;Ve++){var Me=$e[Ve];Me&&Me.message&&Me.stack&&H&&H.errorHandler(new ErrorEvent("error",{error:Me,message:Me.message}))}ye&&Function.prototype.apply.call(ye,Ee.console,$e)}})}}}}catch(ye){he.warn("[arms] error in initBehavior",ye)}(H=this).hasInitBehavior=!0}var Re,ke,Oe,J,G,ie;return this}})}),L}var W,B,M,C,D,A,Q,ne,re,K,P,q,Z,se,pe,ce,ee,F={};function z(){return W||(W=1,F.TIMING_KEYS=["startTime","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","","domInteractive","","domContentLoadedEventEnd","","loadEventStart","","msFirstPaint","secureConnectionStart","redirectStart","redirectEnd"]),F}function ae(){return Q||(Q=1,A=function(he,me,Ee){function Y(G,ie,ye,we,De){if(ie===void 0){var $e;if(!J[G]){He=new RegExp(G+"=([^;]+)");try{$e=He.exec(Ee.cookie)}catch(Ve){return te.warn("[retcode] can not get cookie:",Ve),null}$e&&(J[G]=$e[1])}return J[G]}var He=G+"="+ie;He+="; path=/",ye&&(He+="; max-age="+ye);try{return Ee.cookie=He,!!Ee.cookie}catch(Ve){return te.warn("[retcode] can not set cookie: ",Ve),!1}}function O(G){return(G=G._conf.uid||Y("_nk_")||Y("_bl_uid"))||(G=te.uu(),Y("_bl_uid",G,15552e3))?G:null}var V,H,X,oe,te=S(),le=(M||(M=1,X=S(),oe=z().TIMING_KEYS,B=function(){var G,ie,ye,we=X.win||{},De=we.performance;return De&&typeof De=="object"&&typeof De.getEntriesByType=="function"?(G={},ie=De.timing||{},ye=De.getEntriesByType("resource")||[],G.begin=ie[oe[1]]||Date.now(),typeof we.PerformanceNavigationTiming=="function"&&(we=De.getEntriesByType("navigation")[0])&&(ie=we),X.each({dom:[10,8],load:[14,1]},function(Me,He){var Ve=ie[oe[Me[1]]],Me=ie[oe[Me[0]]];0<Ve&&0<Me&&0<=(Me=Math.round(Me-Ve))&&Me<6e5&&(G[He]=Me)}),G.res=JSON.stringify(ye),G):null}),B),ve=(D||(D=1,V=S(),H=z().TIMING_KEYS,C=function(){var G,ie,ye,we,De,$e=V.win||{},He=$e.performance;return He&&typeof He=="object"?(G={},ie=He.timing||{},ye=Date.now(),we=1,typeof $e.PerformanceNavigationTiming=="function"&&(De=He.getEntriesByType("navigation")[0])&&(ie=De,we=2),V.each({dns:[3,2],tcp:[5,4],ssl:[5,17],ttfb:[7,6],trans:[8,7],dom:[10,8],res:[14,12],firstbyte:[7,2],fpt:[8,1],tti:[10,1],ready:[12,1],load:[14,1]},function(Je,Me){var Ke=ie[H[Je[1]]],Je=ie[H[Je[0]]];(we===2||0<Ke&&0<Je)&&0<=(Je=Math.round(Je-Ke))&&Je<6e5&&(G[Me]=Je)}),De=$e.navigator.connection,$e=He.navigation||{},G.ct=De?De.effectiveType||De.type:"",(He=999<(He=De&&(De.downlink||De.downlinkMax||De.bandwidth)||null)?999:He)&&(G.bandwidth=He),G.navtype=$e.type===1?"Reload":"Other",we===1&&0<ie[H[16]]&&0<ie[H[1]]&&0<=(De=ie[H[16]]-ie[H[1]])&&De<36e5&&(G.fpt=De),we===1&&0<ie[H[1]]?G.begin=ie[H[1]]:G.begin=we===2&&0<G.load?ye-G.load:ye,G):null}),C),be=null,_e=Ee.documentElement,ge=me.innerWidth||_e.clientWidth||Ee.body.clientWidth,Re=me.innerHeight||_e.clientHeight||Ee.body.clientHeight,ke=me.navigator.connection,Oe={sr:screen.width+"x"+screen.height,vp:ge+"x"+Re,ct:ke?ke.effectiveType||ke.type:""},J={};return te.ext(he.prototype,{activeErrHandler:function(G){return be&&!G||(be=this),this},errorHandler:function(G){if(G){var ie,ye=G.type;ye==="error"?!(ie=G.target||G.srcElement)||!ie.tagName||G.message||G.filename||G.lineno||G.colno?this.error(G.error||{message:G.message},G):this.resourceErrorHandler(G):ye==="unhandledrejection"&&te.T(G.reason,"Error")&&te.checkAutoError(G.reason)&&this.error(G.reason);try{this.getConfig("behavior")&&this.reportBehavior&&this.reportBehavior()}catch{}}return this},resourceErrorHandler:function(G){var ie=this,ye=G.target||G.srcElement;try{var we=ie.getSrc(ye),De=typeof ye.tagName=="string"?ye.tagName.toLowerCase():"",$e=ie.getXPath(ye,5),He=te.getURL(we),Ve={src:we&&we.substring(0,1e3),node_name:De,xpath:$e,res_type:te.getResType(De,we),res_name:He.path,domain:He.domain};return ie._conf.enableResource&&ie.fixResourceStatus&&G.timeStamp&&ie.fixResourceStatus({src:we,node_name:De,res_type:te.getResType(De,we),timeStamp:G.timeStamp,domain:He.domain}),ie._lg("resourceError",Ve),ie}catch(Me){return te.warn("[ARMS] resourceErrorHandler error :",Me),ie}},getSrc:function(G){var ie,ye,we=G.src||G.href;try{we||(ie=(typeof G.tagName=="string"?G.tagName.toLowerCase():"")==="object",ye=G.getAttribute("classid")&&G.getAttribute("classid").toLowerCase()==="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"||G.getAttribute("type")==="application/x-shockwave-flash",we=(we=ie&&ye?G.getAttribute("data")||G.getAttribute("codebase"):we)||G.outerHTML||G.innerHTML)}catch{we=""}return we},getXPath:function(G,ie){var we=G.id?"#"+G.id:"",ye=typeof G.className=="string"?"."+G.className.split(" ").join("."):"",we=(typeof G.tagName=="string"?G.tagName.toLowerCase():"")+we+ye;return G.parentNode&&G.parentNode.tagName&&ie-1!=0?this.getXPath(G.parentNode,ie-1)+" > "+we:we},sendPerformance:function(G){var ie=this;ie.onReady(function(){var ye=ve();ye&&ye.load&&0<ye.load&&(ye.page=ie.getPage(!0),(ye=G?te.ext(ye,G):ye).autoSend=!0,ie.performance(ye))})},sendResources:function(G){var ie=this;ie.onReady(function(){var ye=le();ye&&ye.load&&0<ye.load&&(ye.load&&ye.load<=2e3||ye.load&&ye.load<=8e3&&.05<Math.random()||(ye.page=ie.getPage(!0),ye.dl=location.href,G&&(ye=te.ext(ye,G)),ie._lg("res",ye,ie.getConfig("sample"))))})},sendPV:function(){var G=this;G.onReady(function(){ye=O(G),ie=me.devicePixelRatio||1;var ie,ye={uid:ye,dt:Ee.title,dl:location.href,dr:Ee.referrer,dpr:ie.toFixed(2),de:(Ee.characterSet||Ee.defaultCharset||"").toLowerCase(),ul:_e.lang,begin:Date.now()};ye.uid&&G._lg("pv",ye,G.getConfig("pvSample"))})},commonInfo:function(){return Oe.uid=O(this),Oe.sid=(G=>{if(G.session)return G.session;var ie;try{if(typeof window=="object"&&typeof sessionStorage=="object"&&typeof sessionStorage.getItem=="function")return typeof(ie=sessionStorage.getItem("_bl_sid"))=="string"?G.session=ie:(ie=te.uu(),G.session=ie,typeof sessionStorage.setItem=="function"&&sessionStorage.setItem("_bl_sid",ie)),ie}catch(ye){te.warn("[ARMS] getSid error :",ye)}return G.session=ie=te.uu(),ie})(this),Oe},handleUnload:function(G){var ie=Date.now();if(ie-this._lastUnload<200)return this;this._lastUnload=ie,this.sendHealth(G),this.speedCache&&(this._lg("speed",this.speedCache),this.speedCache=null,clearTimeout(this.speedTimmer)),this._conf&&this._conf.enableResource&&this.resourceComboReport(),this.clear(!0)},bindHashChange:function(G){var ie=this;if(!G^ie.hashChangeHandler)return ie;G?(ie.hackHistoryState(),ie.hashChangeHandler=function(ye){var we=ie._conf.parseHash(location.hash);we&&ie.setPage(we,ye!==!1)},ie.stateChangeHandler=function(ye){ye=ie._conf.parseHash(ye.detail),ye&&ie.setPage(ye)},te.on(me,"hashchange",ie.hashChangeHandler),te.on(me,"historystatechange",ie.stateChangeHandler),ie.hashChangeHandler(!1)):(te.off(me,"hashchange",ie.hashChangeHandler),te.off(me,"historystatechange",ie.stateChangeHandler),ie.hashChangeHandler=null,ie.stateChangeHandler=null)},initHandler:function(){var G,ie=this;return ie.hasInitHandler||(G=ie._conf,te.on(me,"beforeunload",function(){ie.handleUnload(0)}),ie.bindHashChange(G.enableSPA),ie.activeErrHandler(!1),ie.hasInitHandler=!0),ie}}),te.on(me,"error",function(G){be&&be.errorHandler(G)},!1,!0).on(me,"unhandledrejection",function(G){be&&be.errorHandler(G)}),he}),A}function de(){var he,me;return re||(re=1,he=S(),me=500,ne=function(Ee,Y,O){var V=Y.innerHeight||0,H=[],X=null,oe=0;he.ext(Ee.prototype,{initFmpObserver:function(te){var le=this;if(!le._conf||!le._conf.useFmp)return null;if(!Y.MutationObserver)return he.warn("[retcode] first meaningful paint can not be retrieved"),le.sendPerformance(),null;he.on(Y,"beforeunload",function(){le.endObserving(0,!0)});var ve=Y.MutationObserver;return(X=new ve(function(){var be,_e,ge;be=le._startTime,be=Date.now()-be,(ge=O.querySelector("body"))?(_e=0,_e+=function Re(ke,Oe,J){var G=0,ie=ke.tagName;if(ie!=="SCRIPT"&&ie!=="STYLE"&&ie!=="META"&&ie!=="HEAD"){if(0<(ie=ke.children?ke.children.length:0))for(var ye=ke.children,we=ie-1;0<=we;we--)G+=Re(ye[we],Oe+1,0<G);if(G<=0&&!J&&!(ke.getBoundingClientRect&&ke.getBoundingClientRect().top<V))return 0;G+=1+.5*Oe}return G}(ge,1,!1),H.push({score:_e,t:be})):H.push({score:0,t:be})})).observe(document,{childList:!0,subtree:!0}),oe=1,le.onReady(function(){le.endObserving(te)}),X},endObserving:function(te,le){var ve=this;if(X&&oe)if(ve.fmpTimmer&&(clearTimeout(ve.fmpTimmer),ve.fmpTimmer=null),le||!((Re,ke)=>(Re=Date.now()-Re,!(ke<Re||Re-(H&&H.length&&H[H.length-1].t||0)>2*me)))(ve._startTime,te)){X.disconnect(),oe=0,H=function Re(ke){for(var Oe=1;Oe<ke.length;Oe++)if(ke[Oe].score<ke[Oe-1].score)return ke.splice(Oe,1),Re(ke);return ke}(H);for(var be,_e=null,ge=1;ge<H.length;ge++)H[ge].t>=H[ge-1].t&&(be=H[ge].score-H[ge-1].score,!_e||_e.rate<=be)&&(_e={t:H[ge].t,rate:be});_e&&0<_e.t&&_e.t<36e5?ve.sendPerformance({fmp:_e.t}):ve.sendPerformance()}else ve.fmpTimmer=he.delay(function(){ve.endObserving(te)},me)}})}),ne}function fe(){return P||(P=1,K=function(he,me){function Ee(le,ve,be,_e,ge,Re,ke,Oe,J,G,ie,ye,we){ge=Y.J(ge)||null,(ve=Y.safetyCall(ve,[ge,_e],null))&&(ge=ve.code||Re,_e=!("success"in ve)||ve.success,le.api(be,_e,ke,ge,ve.msg,Oe,J,G,_e?{}:ie,V,ye,we))}var Y=S(),O=null,V=Y.getCurDomain(),H="fetch",X="__oFetch_",oe="__oXMLHttpRequest_",te="XMLHttpRequest";return Y.ext(he.prototype,{removeHook:function(le,ve){return O&&(ve||this===O)&&(me[X]&&(me[H]=me[X],delete me[X]),me[oe]&&(me[te]=me[oe],delete me[oe]),O=null),this},addHook:function(le){return!le&&O||(O||(typeof me[H]=="function"&&(ge=me[H],me[X]=ge,me[H]=function(Re,ke){var Oe=arguments.length===1?[Re]:Array.apply(null,arguments),J=O;if(!J||!J.api||ke&&(ke.method==="HEAD"||ke.mode==="no-cors"))return ge.apply(me,Oe);ke=ke||{};var G=Date.now(),ie=J._conf,ye=Y.duration(),we=De=(Re&&typeof Re!="string"?Re.url:Re)||"",De=Y.cutUrlSearch(De),He=(ie.ignore||{}).ignoreApis,$e=ie.parseTraceId;if(!Y.checkAPI(De,!0)||Y.ignoreByRule(De,He))return ge.apply(me,Oe);De=Y.filterByRule(De,we,ie.ignoreApiPath||ie.apiHelper);var He=ie.enableLinkTrace,Ve="",Me="",Ke=J.getConfig("pid"),Je=null,nt=J.getConfig("sample"),lt=J.getConfig("linkType"),rt=1;if(nt&&!J.sampling(nt)&&(rt=0),He){nt="";try{nt=location.origin||location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch{nt=""}var je,He=Y.checkSameOrigin(we,nt);if(J.getConfig("enableApiCors")||He)if(Re&&typeof Re!="string")try{if(Oe[0].headers&&typeof Oe[0].headers.get=="function"&&typeof Oe[0].headers.append=="function")switch(lt){case"arms":var Qe=Oe[0].headers.get("EagleEye-TraceID"),it=Oe[0].headers.get("EagleEye-SessionID"),at=Oe[0].headers.get("EagleEye-pAppName");Qe?Ve=Qe:(Ve=J.getTraceId()["EagleEye-TraceID"],Oe[0].headers.append("EagleEye-TraceID",Ve)),it?Me=it:(Me=J.getPageviewId()["EagleEye-SessionID"],Oe[0].headers.append("EagleEye-SessionID",Me)),at||Oe[0].headers.append("EagleEye-pAppName",Ke);break;case"b3":var Ge,ht=Oe[0].headers.get("X-B3-TraceId"),Ve=ht||(Ge=J.getB3TraceId(rt),Oe[0].headers.append("X-B3-TraceId",Ge["X-B3-TraceId"]),Oe[0].headers.append("X-B3-ParentSpanId",Ge["X-B3-ParentSpanId"]),Oe[0].headers.append("X-B3-SpanId",Ge["X-B3-SpanId"]),Oe[0].headers.append("X-B3-Sampled",Ge["X-B3-Sampled"]),Oe[0].headers.append("X-Request-ID",Y.guid()),Ge["X-B3-TraceId"]),Me=J.pageview;break;default:var ct=Oe[0].headers.get("uber-trace-id");Ve=ct?ct.split(":")[0]:(ct=J.getUberTraceId(rt),Oe[0].headers.append("uber-trace-id",ct["uber-trace-id"]),ct.traceId),Me=J.pageview}}catch(ot){Y.warn(`[retcode] fetch failed to set header, exception is :
`+ot)}else switch(ke.headers=ke.headers||{},lt){case"arms":ke.headers["EagleEye-TraceID"]?Ve=ke.headers["EagleEye-TraceID"]:(Ve=J.getTraceId()["EagleEye-TraceID"],ke.headers["EagleEye-TraceID"]=Ve),ke.headers["EagleEye-SessionID"]?Me=ke.headers["EagleEye-SessionID"]:(Me=J.getPageviewId()["EagleEye-SessionID"],ke.headers["EagleEye-SessionID"]=Me),ke.headers["EagleEye-pAppName"]||(ke.headers["EagleEye-pAppName"]=Ke);break;case"b3":Ve=ke.headers["X-B3-TraceId"]||(je=J.getB3TraceId(rt),ke.headers["X-B3-TraceId"]=je["X-B3-TraceId"],ke.headers["X-B3-ParentSpanId"]=je["X-B3-ParentSpanId"],ke.headers["X-B3-SpanId"]=je["X-B3-SpanId"],ke.headers["X-B3-Sampled"]=je["X-B3-Sampled"],ke.headers["X-Request-ID"]=Y.guid(),je["X-B3-TraceId"]),Me=J.getPageviewId()["EagleEye-SessionID"];break;default:Ve=ke.headers["uber-trace-id"]?ke.headers["uber-trace-id"].split(":")[0]:(je=J.getUberTraceId(rt),ke.headers["uber-trace-id"]=je["uber-trace-id"],je.traceId),Me=J.getPageviewId()["EagleEye-SessionID"]}}return ge.apply(me,Oe).then(function(st){if(!J||!J.api)return st;try{if(st&&typeof st.clone=="function"){var ot=st.clone(),ut=ot.headers;if(ut&&typeof ut.get=="function"){var ft,gt=ut.get("content-type");if(gt&&!/(text)|(json)/.test(gt))return st;Ve||typeof(ft=Y.parseFetchHeaders(ut))=="object"&&ft["eagleeye-traceid"]&&(Ve=ft["eagleeye-traceid"],Je="response")}var _t=ye();ot.text().then(function(dt){!Ve&&Y.isFunction($e)&&(pt=$e(ot,dt))&&Y.isString(pt)&&(Ve=pt);var pt=Y.getFetchSnapshot(Oe,dt,ut);ot.ok?Ee(J,ie.parseResponse,De,we,dt,ot.status||200,_t,G,Ve,Me,pt,Je,rt):(J.api(De,!1,_t,ot.status||404,ot.statusText,G,Ve,Me,pt,V,Je,rt),ie.enableResource&&O.fixResourceStatus&&O.fixResourceStatus({src:ot.url,res_type:"api"}))})}return st}catch(dt){return Y.warn("[ARMS] fetch response error :",dt),st}}).catch(function(st){var ot;throw J&&J.api&&(ot=ye(),J.api(De,!1,ot,st.name||"Error",st.message,G,Ve,Me,{},V),ie.enableResource)&&O.fixResourceStatus&&O.fixResourceStatus({src:we,res_type:"api"}),st})},me[H].toString=Y.createFakeToString(H)),typeof me[te]=="function"&&(be=me[te],me[oe]=be,(_e=function(Re){var ke,Oe,J,G,ie,ye,we,De,$e,He,Ve,Me,Ke,Je,nt,lt,rt,je=new be(Re),Qe=O;return Qe&&Qe.api&&je.addEventListener&&(ie=je.send,ye=je.open,we=je.setRequestHeader,De=Qe._conf,$e=(De.ignore||{}).ignoreApis,He=De.parseTraceId,Ve=Qe.getConfig("enableLinkTrace"),Je=Ke=Me="",nt=null,Re=Qe.getConfig("sample"),lt=Qe.getConfig("linkType"),rt=1,Re&&!Qe.sampling(Re)&&(rt=0),je.open=function(it,at){if(ve=it,it=arguments.length===1?[it]:Array.apply(null,arguments),ye.apply(je,it),G=at||"",J=Y.cutUrlSearch(G),it=!Y.checkAPI(J,!0)||Y.ignoreByRule(J,$e),J=J?Y.filterByRule(J,G,De.ignoreApiPath||De.apiHelper):"",!it&&Ve){at="";try{at=location.origin||location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch{at=""}if(it=Y.checkSameOrigin(G,at),(Qe.getConfig("enableApiCors")||it)&&we&&typeof we=="function")switch(lt){case"arms":Me=Qe.getTraceId()["EagleEye-TraceID"],we.apply(je,["EagleEye-TraceID",Me]),Ke=Qe.getPageviewId()["EagleEye-SessionID"],we.apply(je,["EagleEye-SessionID",Ke]),Je=Qe.getConfig("pid"),we.apply(je,["EagleEye-pAppName",Je]);break;case"b3":var Ge=Qe.getB3TraceId(rt);we.apply(je,["X-B3-TraceId",Ge["X-B3-TraceId"]]),we.apply(je,["X-B3-ParentSpanId",Ge["X-B3-ParentSpanId"]]),we.apply(je,["X-B3-SpanId",Ge["X-B3-SpanId"]]),we.apply(je,["X-B3-Sampled",Ge["X-B3-Sampled"]]),we.apply(je,["X-Request-ID",Y.guid()]),Me=Ge["X-B3-TraceId"],Ke=Qe.getPageviewId()["EagleEye-SessionID"];break;default:Ge=Qe.getUberTraceId(rt),we.apply(je,["uber-trace-id",Ge["uber-trace-id"]]),Me=Ge.traceId,Ke=Qe.getPageviewId()["EagleEye-SessionID"]}}},je.send=function(){ke=Date.now(),Oe=Y.duration();var it=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.apply(je,it)},Y.on(je,"readystatechange",function(){if(J&&je.readyState===4){var it=Oe(),at=Y.getXhrSnapshot(G,ve,je);if(Me||typeof(Ge=Y.parseXhrHeaders(typeof je.getAllResponseHeaders=="function"&&je.getAllResponseHeaders()||""))=="object"&&Ge["eagleeye-traceid"]&&(Me=Ge["eagleeye-traceid"],nt="response"),!Me&&Y.isFunction(He)&&(Ge=He(je))&&Y.isString(Ge)&&(Me=Ge),200<=je.status&&je.status<=299){var Ge=je.status||200;if(typeof je.getResponseHeader=="function"){var ht=je.getResponseHeader("Content-Type");if(ht&&!/(text)|(json)/.test(ht))return}je.responseType&&je.responseType!=="text"?Qe.api(J,!0,it,Ge,"",ke,Me,Ke,{},V,nt,rt):Ee(Qe,De.parseResponse,J,G,je.responseText,Ge,it,ke,Me,Ke,at,nt,rt)}else Qe.api(J,!1,it,je.status||"FAILED",je.statusText,ke,Me,Ke,at,V,nt,rt),De.enableResource&&O.fixResourceStatus&&O.fixResourceStatus({src:je.responseURL||G,res_type:"api"})}})),je}).prototype=be.prototype,Y.each(Object.keys(be),function(Re){_e[Re]=be[Re]}),me[te]=_e,me[te].toString=Y.createFakeToString(te))),O=this),this;var ve,be,_e,ge},initHook:function(){return this.hasInitHook||(this.getConfig("disableHook")||this.addHook(),this.hasInitHook=!0),this}}),he}),K}function Se(){return Z||(Z=1,q=function(he,me){function Ee(X,oe){var te;me.CustomEvent?te=new CustomEvent(X,{detail:oe}):((te=H.createEvent("HTMLEvents")).initEvent(X,!1,!0),te.detail=oe),me.dispatchEvent(te)}function Y(X){var oe=V[X];typeof oe=="function"&&(V[X]=function(_e,le,ve){var _e=arguments.length===1?[_e]:Array.apply(null,arguments),be=location.href,_e=oe.apply(V,_e);if(ve&&typeof ve=="string"&&ve!==be)try{var ge=be.split("#"),Re=ve.split("#"),ke=O.cutUrlSearch(ge[0]),Oe=O.cutUrlSearch(Re[0]),J=ge[1]&&ge[1].replace(/^\/?(.*)/,"$1"),G=Re[1]&&Re[1].replace(/^\/?(.*)/,"$1");J!==G?Ee("historystatechange",G):ke!==Oe&&Ee("historystatechange",Oe)}catch(ie){O.warn("[retcode] error in "+X+": "+ie)}return _e},V[X].toString=O.createFakeToString(X))}var O=S(),V=me.history||{},H=me.document;O.ext(he.prototype,{hackHistoryState:function(){return this.hasHackedHistoryState||(Y("pushState"),Y("replaceState"),this.hasHackedHistoryState=!0),this}})}),q}function Ae(){var he,me;return pe||(pe=1,he=S(),me=z().TIMING_KEYS,se=function(Ee,Y){var O="_resource-"+Date.now(),V="_resource_error-"+Date.now();he.ext(Ee.prototype,{initResource:function(){var H,X=this,oe=Y.performance,te=Y.PerformanceObserver;return X[V]||(X[V]=new WeakMap),oe&&te&&typeof oe=="object"&&typeof oe.getEntriesByType=="function"?(H=oe.getEntriesByType("resource")||[],setTimeout(function(){X.setResource(H)},10),new te(function(le){setTimeout(function(){X.setResource(le.getEntries())},10)}).observe({entryTypes:["resource"]}),this.onReady(function(){setTimeout(X.resourceComboReport.bind(X),5e3)}),X):null},setResource:function(H){var X=this._conf,oe=this[V];if(he.isArray(H)&&H.length){this[O]||(this[O]={});for(var te=this[O],le=0,ve=H.length;le<ve;le+=1){var be,_e=H[le];he.checkAPI(_e.name,!1)&&(_e=((ge,Re,ke)=>{if(ge instanceof Y.PerformanceResourceTiming&&ge.initiatorType){var Oe,J,G,ie,ye,we,De,$e,He,Ve=he.getResType(ge.initiatorType,ge.name),Me=Re.resourceTypes||[],Ke=(Re.ignore||{}).ignoreResources;if(Ve&&Me.includes(Ve)&&!he.ignoreByRule(ge.name,Ke)&&!he.ignoreByRule(he.decode(ge.name),Ke))return Me=ge[me[0]],Ke=ge[me[1]],Oe=ge[me[2]],J=ge[me[3]],G=ge[me[4]],ie=ge[me[5]],ye=ge[me[6]],we=ge[me[7]],De=ge[me[8]],$e=ge[me[18]],He=ge[me[19]],(ke.has(ge)||he.areInOrder(Me,Ke,Oe,J,G,ie,ye,we,De)&&!(we<Me))&&he.areInOrder(Me,$e=$e<Me?Me:$e,He=He<Me?Ke:He,Ke)?{domain:he.getURL(ge.name).domain,res_type:Ve,src_type:he.getSrcType(ge.name,Re.cdnHostList),success:1,size:Math.round(ge.decodedBodySize),duration:Math.round(ge.duration),timeStamp:ge.responseEnd,timing:ge}:void 0}})(_e,X,oe))&&((be=_e.res_type+"-"+_e.domain)in te||(te[be]=[]),te[be].push(_e))}return this}},fixResourceStatus:function(H){var X,oe,te=Y.performance;return te&&typeof te.getEntriesByName=="function"?(X=this[V],H.src&&he.checkAPI(H.src,!1)&&(oe=H.timeStamp||te.now(),te=te.getEntriesByName(H.src,"resource"),he.each(te,function(le){X.has(le)||oe-le.responseEnd<100&&X.set(le,{success:0})})),this):null},resourceComboReport:function(){var H,X,oe=this[O]||{},te=this._conf.resourceSlow||2e3,le=this[V],ve=(this[O]={},Object.keys(oe));ve.length!==0&&(H=[],he.each(ve,function(_e){var _e=oe[_e],ge={domain:"",res_type:"",src_type:"",size:0,duration:0,count:0,err_count:0,err_duration:0,slow_count:0,slow_duration:0,timings:[]};he.each(_e,function(Re){var ke=Re.timing||{},Oe=le.get(Re.timing),Oe=Oe?Oe.success:1,J=Re.duration>te?1:0;ge.domain=Re.domain,ge.res_type=Re.res_type,ge.src_type=Re.src_type,ge.count+=1,ge.duration+=Re.duration,ge.size+=Re.size,Oe||(ge.err_count+=1,ge.err_duration+=Re.duration),J&&(ge.slow_count+=1,ge.slow_duration+=Re.duration);try{var G=JSON.parse(JSON.stringify(ke));G.success=Oe,G.resourceSlow=te,G.isSlow=J,ge.timings.push(G)}catch{}}),ge.count&&(ge.size=Math.round(ge.size/ge.count),ge.duration=Math.round(ge.duration/ge.count)),ge.slow_count&&(ge.slow_duration=Math.round(ge.slow_duration/ge.slow_count)),ge.err_count&&(ge.err_duration=Math.round(ge.err_duration/ge.err_count)),20<ge.timings.length&&(ge.timings.sort(function(Re,ke){return ke.duration-Re.duration}),ge.timings.length=20),ge.timings=encodeURIComponent(JSON.stringify(ge.timings)),H.push(ge)}),ve={_combo:1,resource:JSON.stringify(H)},X=Y.navigator.connection,ve.ct=X?X.effectiveType||X.type:"",(X=999<(X=X&&(X.downlink||X.downlinkMax||X.bandwidth)||null)?999:X)&&(ve.bandwidth=X),this._lg("resource",ve,this.getConfig("sample")))}})}),se}function Ce(){var he,me,Ee,Y,O,V,H,X,oe,te,le,ve,be,_e,ge,Re,ke,Oe;return ce||(ce=1,he=S(),T||(T=1,_e=S(),ge=x(),Re=["api","success","time","code","msg","trace","traceId","begin","pv_id","sid","seq","domain","flag","apiSnapshot","tag","c1","c2","c3"],ke=function(J){var G=(J.key||"default").split("::");return 1<G.length?_e.ext(J,{group:G[0],key:G[1]}):_e.ext(J,{group:"default_group",key:G[0]})},(Oe=function(J){var G;ge.call(this,J);try{G=typeof performance=="object"?performance.timing.fetchStart:Date.now()}catch{G=Date.now()}return this._startTime=G,this}).prototype=_e.createObject(ge.prototype),_e.ext(ge.dftCon,{startTime:null}),_e.ext(Oe.prototype,{constructor:Oe,_super:ge,sum:function(J,G,ie){try{var ye=_e.dealParam(J,G,1);return this._lg("sum",ke(ye),ie)}catch(we){_e.warn("[retcode] can not get parseStatData: "+we)}},avg:function(J,G,ie){try{var ye=_e.dealParam(J,G,0);return this._lg("avg",ke(ye),ie)}catch(we){_e.warn("[retcode] can not get parseStatData: "+we)}},percent:function(J,G,ie,ye){try{return this._lg("percent",ke({key:J,subkey:G,val:ie||0,begin:Date.now()}),ye)}catch(we){_e.warn("[retcode] can not get parseStatData: "+we)}},msg:function(J,G){if(J&&!(180<J.length))return this.custom({msg:J},G)},error:function(J,G){if(!J)return _e.warn("[retcode] invalid param e: "+J),this;arguments.length===1?(typeof J=="string"&&(J={message:J},G={}),typeof J=="object"&&(G=J=J.error||J)):(typeof J=="string"&&(J={message:J}),typeof G!="object"&&(G={}));var ie,ye=J.name||"CustomError",we=J.message||"",De=J.stack||"",$e=(G=G||{},typeof location=="object"&&typeof location.href=="string"&&location.href.substring(0,500)||"");if(_e.checkSDKError(we,G.filename))return ie=J.msg||J.message,_e.ignoreByRule(ie,Je=/^Script error\.?$/)||_e.ignoreByRule(_e.decode(ie),Je)?this:(ie={msg:_e.selfErrKey,err:{msg_raw:_e.encode(J.msg||J.message)}},this._self("error",ie,1));for(var He={begin:Date.now(),cate:ye,msg:we&&we.substring(0,1e3),stack:De&&De.substring(0,1e3),file:_e.removeUrlSearch(G.filename||""),line:G.lineno||"",col:G.colno||"",err:{msg_raw:_e.encode(we),stack_raw:_e.encode(De)},dl:$e},Ve=["tag","c1","c2","c3"],Me=0;Me<Ve.length;Me++){var Ke=Ve[Me];G[Ke]&&(He[Ke]=G[Ke])}var Je=(this.getConfig("ignore")||{}).ignoreErrors;return _e.ignoreByRule(He.msg,Je)||_e.ignoreByRule(_e.decode(He.msg),Je)?this:(this.beforeSend&&this.beforeSend("error",He),this._lg("error",He,1))},behavior:function(J){if(J)return J=typeof J=="object"&&J.behavior?J:{behavior:J},this.beforeSend&&this.beforeSend("behavior",J),this._lg("behavior",J,1)},api:function(J,G,ie,ye,we,De,$e,He,Ve,Me,Ke,Je,nt,lt,rt,je){return J?(J=typeof J=="string"?{api:J,success:G,time:ie,code:ye,msg:we,begin:De,traceId:$e,pv_id:He,apiSnapshot:Ve,domain:Me,flag:Je,tag:nt,c1:lt,c2:rt,c3:je}:_e.sub(J,Re),_e.checkAPI(J.api,!0)?(J.code=J.code||"",G=J.msg||"",G=typeof G=="string"?G.substring(0,1e3):G,J.msg=G,J.success=J.success?1:0,J.time=+J.time,J.begin=J.begin,J.traceId=J.traceId||"",J.pv_id=J.pv_id||"",J.domain=J.domain||"",J.flag=J.flag,J.dl=typeof location=="object"&&typeof location.href=="string"&&location.href.substring(0,500)||"",J.apiSnapshot&&(typeof J.apiSnapshot=="object"&&(J.apiSnapshot=JSON.stringify(J.apiSnapshot)),typeof J.apiSnapshot!="string"&&delete J.apiSnapshot,2e3<J.apiSnapshot.length)&&(J.apiSnapshot=J.apiSnapshot.substring(0,2e3)),Ke&&(J.traceOrigin=Ke),!J.api||isNaN(J.time)?(_e.warn("[retcode] invalid time or api"),this):(ie=(this.getConfig("ignore")||{}).ignoreApis,_e.ignoreByRule(J.api,ie)||_e.ignoreByRule(_e.decode(J.api),ie)||J.time<0?this:(this.beforeSend&&this.beforeSend("api",J),this._lg("api",J,J.success&&this.getConfig("sample"),J.flag)))):this):(_e.warn("[retcode] api is null"),this)},speed:function(J,G,ie){var ye=this,we=this.getConfig("startTime")||this._startTime;return/^s(\d|1[0])$/.test(J)?(G=typeof G!="number"?Date.now()-we:we<=G?G-we:G,ye.speedCache=ye.speedCache||{},ye.speedCache[J]=G,ye.speedCache.begin=we,clearTimeout(ye.speedTimmer),ye.speedTimmer=setTimeout(function(){ie||(ye.speedCache.page=ye.getPage(!0)),ye._lg("speed",ye.speedCache),ye.speedCache=null},5e3)):_e.warn("[retcode] invalid point: "+J),ye},performance:function(J){if(J&&typeof J=="object"&&!this.hasSendPerf){var G,ie={},ye={},we=this.getConfig("autoSendPerf");if(J.autoSend&&we)return ye=_e.ext(this.perfData||{},J),this.hasSendPerf=!0,this._lg("perf",ye,this.getConfig("sample"));if(J.autoSend&&!we)return delete J.autoSend,this.perfData?(ye=_e.ext(this.perfData||{},J),this.hasSendPerf=!0,this._lg("perf",ye,this.getConfig("sample"))):void(this.perfData=J);for(G in J)!/^t([1-9]|1[0])$/.test(G)&&G!=="ctti"&&G!=="cfpt"||(ie[G]=J[G]);if(J.autoSend===!0||!we&&this.perfData)return J.autoSend!==!0&&we===!1&&this.perfData?(ie=_e.ext(this.perfData||{},ie),this.hasSendPerf=!0,this._lg("perf",ie,this.getConfig("sample"))):void 0;this.perfData=_e.ext(this.perfData||{},ie)}},resource:function(J,G){if(!J||!_e.isPlainObject(J))return _e.warn("[arms] invalid param data: "+J),this;var ie,ye=Object.keys(J),we=["begin","dom","load","res","dl"],De=!1;for(ie in we)if(ye.indexOf(we[ie])<0){De=!0;break}return De?(_e.warn("[arms] lack param data: "+J),this):(J={begin:J.begin||Date.now(),dom:J.dom||"",load:J.load||"",res:_e.isArray(J.res)?JSON.stringify(J.res):JSON.stringify([]),dl:J.dl||""},this._lg("res",J,G))},event:function(J,G){if(typeof J=="object"&&J&&J.key){var ie,ye={},we=["key","success","time","c1","c2","c3"];for(ie in J)-1<we.indexOf(ie)&&(ye[ie]=J[ie]);ye.success=J.success===!1?0:1,this._lg("event",ye,G)}}}),Oe._super=ge,(Oe._root=ge).Reporter=Oe,E.exports=Oe),me=E.exports,I||(I=1,le=S(),ve=typeof window=="object"?window:{},be=typeof(be=ve.__oFetch_||ve.fetch)=="function"?be:void 0,R.exports=function(J,we){var ie,ye=-1,we=(typeof J=="object"&&(ye=J.z,J=le.serialize(J)),we+J);if(be)return be(we,{method:"HEAD",mode:"no-cors"}).catch(le.noop);ve.document&&ve.document.createElement&&((J=ve[ie="__request_hold_"+ye]=new Image).onload=J.onerror=function(){ve[ie]=void 0},J.src=we)}),Ee=R.exports,k||(k=1,oe=S(),Oe=typeof window=="object"?window:{},te=typeof(te=Oe.__oXMLHttpRequest_||Oe.XMLHttpRequest)=="function"?te:void 0,j.exports=function(J,G){try{var ie=new te;ie.open("POST",G,!0),ie.setRequestHeader("Content-Type","text/plain"),ie.send(JSON.stringify(J))}catch(ye){oe.warn(`[retcode] Failed to log, exception is :
`+ye)}}),Y=j.exports,O=he.win,V=O.document,H=/^(error|api|speed|sum|avg|percent|custom|msg|setPage|setConfig|behavior|performance)$/,(X=function(J){var G=this;return me.call(G,J),G._initialPage=J.page&&he.safetyCall(J.page,[],J.page+"")||null,G._isRobot=he.isRobot(),G._health={errcount:0,apisucc:0,apifail:0},!(G.beforeSend=function(ie,ye){ie==="error"?G._health.errcount++:ie==="api"&&G._health[ye.success?"apisucc":"apifail"]++})!==J.enableInstanceAutoSend&&(G.initHandler(),G.initHook(),G.initFmpObserver(1e4),G._conf&&G._conf.behavior&&typeof G.initBehavior=="function"&&G.initBehavior(),G._conf)&&G._conf.enableResource&&typeof G.initResource=="function"&&G.initResource(),Object.defineProperty&&O.addEventListener&&Object.defineProperty(G,"pipe",{set:G.sendPipe}),G}).prototype=he.createObject(me.prototype),he.ext(me._root.dftCon,{uid:null,setUsername:null,ignoreUrlPath:null,ignoreApiPath:null,urlHelper:[{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},/\/$/],resourceHelper:[],apiHelper:{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},ignoreUrlCase:!0,imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",cdnHostList:[],resourceTypes:["css","script","img","font"],resourceSlow:2e3,disableHook:!1,autoSendPv:!0,autoSendPerf:!0,enableSPA:!1,enableLinkTrace:!1,linkType:"arms",enableApiCors:!1,sendResource:!0,behavior:!0,enableConsole:!1,parseHash:function(J){return(J?he.cutUrlSearch(J.replace(/^#\/?/,"")):"")||"[index]"},parseResponse:function(J){var G;return J&&typeof J=="object"?(G=J.code,typeof(J=J.msg||J.message||J.subMsg||J.errorMsg||J.ret||J.errorResponse||"")=="object"&&(G=G||J.code,J=J.msg||J.message||J.info||J.ret||JSON.stringify(J)),{msg:J,code:G,success:!0}):{}}}),he.ext(X.prototype,{constructor:X,_super:me,onReady:function(J){var G=this;if(G.hasReady)return J();V.readyState==="complete"?(G.hasReady=!0,J()):he.on(O,"load",function(){G.hasReady=!0,J()},!0)},getPage:function(J){var G=this._conf,ie=G.page,ye=location,we=ye.host+ye.pathname;return ie&&!J?he.safetyCall(ie,[],ie+""):this._initialPage||he.filterByRule(G.ignoreUrlCase?we.toLowerCase():we,ye.href,G.ignoreUrlPath||G.urlHelper)},setPage:function(J,G){var ie=this,ye=ie.prevPage;if(G!==!1){if(!J||J===ye)return ie;ie.prevPage=J,clearTimeout(ie.sendPVTimmer),ie.handleUnload(1),ie.resetPageview(),ie.sendPVTimmer=setTimeout(function(){ie.sendPV()},10)}else ie.prevPage=J;return ie._conf.page=J,ie},setConfig:function(J,G){var ie;J&&typeof J=="object"&&(he.verifyConfig(J),J=this.setImgUrl(J),ie=this._conf,this._conf=he.ext({},ie,J),G||((G="disableHook")in J&&ie[G]!==J[G]&&(J[G]?this.removeHook():this.addHook()),(G="enableSPA")in J&&ie[G]!==J[G]&&this.bindHashChange(J[G])))},sendRequest:function(J){Ee(J,this.getConfig("imgUrl"))},postData:function(J,ye){var ie={},ye=(ie[ye]=J[ye],delete J[ye],"");typeof J=="object"&&(ye=he.serialize(J)),Y(ie,this.getConfig("imgUrl")+ye+"&post_res=")},sendPipe:function(J){var G,ie=this;if(!J||!J.length)return ie;try{return he.T(J[0])==="Array"?he.each(J,function(ye){return ie.sendPipe(ye)}):he.T(J)==="Array"&&(G=J.shift(),H.test(G))?void ie[G].apply(ie,J):ie}catch(ye){return he.warn("[retcode] error in sendPipe",ye),ie}},sendHealth:function(){var J=he.ext({},this._health),G=(J.healthy=0<J.errcount?0:1,J.begin=Date.now(),J.begin-this.sBegin);J.stay=G,this._lg("health",J,1),this._health={errcount:0,apisucc:0,apifail:0}},createInstance:function(J){J=he.ext({pid:this._conf.pid},J);var G=this.__proto__.constructor(J);return J.page&&G.sendPV(),G}}),U()(X,O),ae()(X,O,V),de()(X,O,V),fe()(X,O),Se()(X,O),Ae()(X,O),X._super=me,X._root=me._root,me.Browser=X,f.exports=X),f.exports}var Ie={getArmsLogger:function(){return ee||(ee=1,me=window,Ee=me.BrowserLogger=Ce(),Y=S().key,O="__hasInitBlSdk",Ee.singleton=function(X,oe){return me[O]?me[Y]:he(X,oe)},Ee.createExtraInstance=function(oe){oe&&typeof oe=="object"&&oe.enableInstanceAutoSend!==!0&&(oe.enableInstanceAutoSend=!1);var oe=new Ee(oe),te=oe._conf;return te.enableInstanceAutoSend&&(te.autoSendPv!==!1&&oe.sendPV(),te&&te.useFmp||oe.sendPerformance(),te)&&te.sendResource&&oe.sendResources(),oe},typeof window=="object"&&window.navigator&&me[Y]&&(Ee.bl=me[O]?me[Y]:(V={},H=[],Y in me&&(V=me[Y].config||{},H=me[Y].pipe||[]),he(V,H))),y.exports=Ee),y.exports;function he(X,oe){return X=me[Y]=new Ee(X),X.sendPipe(oe),oe=X._conf,oe.autoSendPv!==!1&&X.sendPV(),oe&&oe.useFmp||X.sendPerformance(),oe&&oe.sendResource&&X.sendResources(),me[O]=!0,X}var me,Ee,Y,O,V,H}};let ue="https://arms-retcode.aliyuncs.com/r.png?",xe="https://arms-retcode-sg.aliyuncs.com/r.png?",Te="https://retcode-us-west-1.arms.aliyuncs.com/r.png?",Pe="e1iftji1w7@7ec1cef2cc88733",Le="e1iftji1w7@10a06d1ec260adc",Fe="e1iftji1w7@10a06d1ec260adc",Ne={cn:{reportUrl:ue,pid:Pe},"cn-hangzhou":{reportUrl:ue,pid:Pe},sg:{reportUrl:xe,pid:Le},"ap-southeast-1":{reportUrl:xe,pid:Le},usw:{reportUrl:Te,pid:Fe},"us-west-1":{reportUrl:Te,pid:Fe}},Ue=he=>he!==null&&typeof he=="object",We=he=>Object.prototype.toString.call(he).slice(8,-1),ze=he=>!!Object.isExtensible(he)&&We(he)==="Object";function Ye(he,me){if(typeof he=="string"&&(me=he.indexOf(me),!(me<0)))return(he=he.indexOf(`
`))<0||me<he}function qe(he,me,Ee){{if(typeof he=="function")return X=me+1,oe=Ee,te={MediaboxWrapperFunctionApply(le,ve,be){let _e;try{_e=Reflect.apply(le,ve,be)}catch(ge){throw oe(ge),ge}return qe(_e,X,oe)},MediaboxWrapperFunctionGet(le,ve){var be=Object.getOwnPropertyDescriptor(le,ve);return!be||be.writable||be.configurable?qe(le[ve],X,oe):le[ve]},MediaboxWrapperClassConstructor(le,ve){let be;try{be=new le(...ve)}catch(_e){throw oe(_e),_e}return qe(be,X,oe)}},new Proxy(he,{apply:te.MediaboxWrapperFunctionApply,get:te.MediaboxWrapperFunctionGet,construct:te.MediaboxWrapperClassConstructor});if(he instanceof Promise)return he.then(le=>qe(le,me+1,Ee)).catch(le=>(Ee(le),Promise.reject(le)));if(Array.isArray(he))he.forEach((le,ve)=>{he[ve]=qe(le,me+1,Ee)});else if(Ue(he)&&ze(he)){te=he;var Y=me+1,O=Ee,V;if(Reflect.get(te,"__v_skip")===!0)return te;let le=[],ve=typeof Object.getOwnPropertyDescriptors=="function"?Object.getOwnPropertyDescriptors((H=Object.getPrototypeOf(te))!=null?H:{}):{};for(V of Object.keys(ve))ve[V].get&&le.push(V);var H={MediaboxWrapperObjectGetter(be,_e){if(typeof _e=="string"&&-1<le.indexOf(_e)){let Re;try{Re=be[_e]}catch(ke){throw O(ke),ke}return qe(Re,Y,O)}var ge;return!(10<Y)&&(!(ge=Reflect.getOwnPropertyDescriptor(be,_e))||ge.writable||ge.configurable)?qe(be[_e],Y,O):be[_e]},MediaboxWrapperObjectSetter(be,_e,ge){return be[_e]=qe(ge,Y,O),!0}};return Object.defineProperty(te,"__v_skip",{configurable:!0,enumerable:!1,writable:!1,value:!0}),new Proxy(te,{get:H.MediaboxWrapperObjectGetter,set:H.MediaboxWrapperObjectSetter})}return he}var X,oe,te}function Ze(he){return typeof he=="string"&&(-1<he.indexOf("g.alicdn.com/apsara-media-")||-1<he.indexOf("g.alicdn.com/thor-server")||-1<he.indexOf("MediaboxWrapper"))}class et extends Error{constructor(me){super(me),this.name="MQTError"}}let Be=1;class Xe{constructor(me){var Ee,Y;v(this,"armsLogger"),v(this,"isReady",!1),v(this,"isDestroyed",!1),v(this,"options"),v(this,"queue",[]),v(this,"marker"),v(this,"helper",{MediaboxWrapperQueue(O){return new et(O)},MediaboxWrapperInitiative(O){return new et(O)}}),this.options=(Y=h({},me),me={region:me.deferRegionSet?void 0:(Ee=me.region)!=null?Ee:"cn",env:(Ee=me.env)!=null?Ee:"prod"},u(Y,s(me))),this.marker=`-${Be++}-`,this.initArmsLogger()}static get version(){return"0.26.0"}initArmsLogger(me){var{region:Ee,env:Y,disabled:O}=this.options;if(!O&&!this.armsLogger){if(me&&!Ee)throw new Error("region is required");if(Ee){if(!Ne[Ee])throw new Error(`region ${Ee} is not supported`);O=Ie.getArmsLogger(),this.armsLogger=O.createExtraInstance({enableInstanceAutoSend:!0,pid:Ne[Ee].pid,tag:this.options.businessName,release:this.options.businessName+"_"+this.options.version,imgUrl:Ne[Ee].reportUrl,behavior:!0,sample:1,disableHook:!0,environment:Y,beforeReport:V=>{var H;if(!(this.isDestroyed||Ye(V.stack,this.marker)||V.t!=="pv"&&V.t!=="error"&&V.t!=="health")){if(V.c1=(H=this.options.cid)!=null?H:window.location.host,V.c2=Xe.version,this.options.customData&&(V.c3=new URLSearchParams(this.options.customData).toString()),V.t!=="error")return V;if(typeof(H=V.file)=="string"&&(-1<H.indexOf("g.alicdn.com/apsara-media-")||-1<H.indexOf("g.alicdn.com/thor-server"))||Ze(V.stack)){let X=V;return this.options.beforeSend&&(X=this.options.beforeSend(V)),this.isReady?X:(X&&this.queue.push(X),!1)}}return!1}})}}}wrap(me){return this.options.disabled||typeof Proxy>"u"?me:qe(me,0,Ee=>{var Y,O;Ee instanceof Error&&typeof Ee.stack=="string"&&Ze(Ee.stack)&&((Y=this.armsLogger)!=null&&Y.error(Ee),Ee.stack=(Y=Ee.stack,Ee=this.marker,typeof Y!="string"?Ee:Ye(Y,Ee)?Y:(O=Y.indexOf(`
`))<0?""+Y+Ee:""+Y.slice(0,O)+Ee+Y.slice(O)))})}updateOptions(me){this.options=h(h({},this.options),me)}setReady(){this.initArmsLogger(!0),this.isReady=!0,this.queue.length&&this.queue.forEach(me=>{var Ee;(Ee=this.armsLogger)!=null&&Ee.error(this.helper.MediaboxWrapperQueue(me.msg),{filename:me.file,lineno:me.line,colno:me.col})})}report(me,Ee){var Y;(Y=this.armsLogger)!=null&&Y.error(this.helper.MediaboxWrapperInitiative(me),Ee)}destroy(){this.isDestroyed=!0}}m.MediaboxQualityTracer=Xe,m.default=Xe},{}],2:[function(e,t,m){var d=e("@aliyun-sls/web-types");function o(O,V,H){Object.defineProperty(O,V,{writable:!0,enumerable:!0,configurable:!0,value:H})}function c(O,V,H){try{return O.apply(V,H)}catch{}}function u(){}var s=Object.defineProperty,r=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,v=(O,V,H)=>V in O?s(O,V,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[V]=H;function y(O){return typeof O=="number"}function f(O,V){return+O.toFixed(V)}function S(O){return O?(parseInt(O,10)^16*Math.random()>>parseInt(O,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,S)}function b(O=20){for(var V,H,X=new Array(O),oe=Date.now().toString(36).split("");0<O--;)H=(V=36*Math.random()|0).toString(36),X[O]=V%3?H:H.toUpperCase();for(var te=0;te<8;te++)X.splice(3*te+2,0,oe[te]);return X.join("")}function _(O,V){return(...H)=>{try{return O(...H)}catch(X){console.error(V,X)}}}function g(O){return O.host.startsWith("http://")||O.host.startsWith("https://")?O.host+"/logstores/"+O.logstore+(O.stsPlugin?"":"/track?APIVersion=0.6.0"):"https://"+O.project+"."+O.host+"/logstores/"+O.logstore+(O.stsPlugin?"":"/track?APIVersion=0.6.0")}let T=/^(?:([^:\/?#]+):\/\/)?((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?)?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i;function E(O,V,...H){return!(V==null||!Array.isArray(V))&&V.some(X=>{if(typeof X=="function")try{return X(O,...H)}catch(oe){return console.error("user function callback threw an error:",oe),!1}return typeof X=="string"?O.includes(X):Object.prototype.toString.call(X)==="[object RegExp]"&&X.test(O)})}function w(O){var V=Date.now()-performance.now();return V>L()?Math.round(V+O):R(O)}function x(){return Date.now()}function I(){return performance.now()}function R(O){return Math.round(L()+O)}let k;function L(){return k=k===void 0?performance.timing.navigationStart:k}let N="?";function j(O,V){let H;V=V===void 0?0:+V;try{if(H=(X=>{var oe=W(X,"stacktrace");if(oe){var te=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,le=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,ve=oe.split(`
`),be=[];let _e;for(let ge=0;ge<ve.length;ge+=2){let Re;te.exec(ve[ge])?(_e=te.exec(ve[ge]),Re={args:[],column:void 0,func:_e[3],line:+_e[1],url:_e[2]}):le.exec(ve[ge])&&(_e=le.exec(ve[ge]),Re={args:_e[5]?_e[5].split(","):[],column:+_e[2],func:_e[3]||_e[4],line:+_e[1],url:_e[6]}),Re&&(!Re.func&&Re.line&&(Re.func=N),Re.context=[ve[ge+1]],be.push(Re))}if(be.length)return{stack:be,message:W(X,"message"),name:W(X,"name")}}})(O))return H}catch{}try{if(H=(X=>{var oe=W(X,"stack");if(oe){var te=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,le=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ve=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;let Oe;var be=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_e=/\((\S*)(?::(\d+))(?::(\d+))\)/,ge=oe.split(`
`),Re=[];let J,G,ie;for(let ye=0,we=ge.length;ye<we;ye+=1){if(te.exec(ge[ye])){var ke=(G=te.exec(ge[ye]))[2]&&G[2].indexOf("native")===0;Oe=G[2]&&G[2].indexOf("eval")===0,J=_e.exec(G[2]),Oe&&J&&(G[2]=J[1],G[3]=J[2],G[4]=J[3]),ie={args:ke?[G[2]]:[],column:G[4]?+G[4]:void 0,func:G[1]||N,line:G[3]?+G[3]:void 0,url:ke?void 0:G[2]}}else if(ve.exec(ge[ye]))G=ve.exec(ge[ye]),ie={args:[],column:G[4]?+G[4]:void 0,func:G[1]||N,line:+G[3],url:G[2]};else{if(!le.exec(ge[ye]))continue;G=le.exec(ge[ye]),Oe=G[3]&&-1<G[3].indexOf(" > eval"),J=be.exec(G[3]),Oe&&J?(G[3]=J[1],G[4]=J[2],G[5]=void 0):ye!==0||G[5]||X.columnNumber===void 0||(Re[0].column=X.columnNumber+1),ie={args:G[2]?G[2].split(","):[],column:G[5]?+G[5]:void 0,func:G[1]||N,line:G[4]?+G[4]:void 0,url:G[3]}}!ie.func&&ie.line&&(ie.func=N),Re.push(ie)}if(Re.length)return{stack:Re,message:W(X,"message"),name:W(X,"name")}}})(O))return H}catch{}try{if(H=(X=>{var oe=W(X,"message");if(oe){var te=oe.split(`
`);if(!(te.length<4)){var le,ve,be=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,_e=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,ge=/^\s*Line (\d+) of function script\s*$/i,Re=[],ke=window&&window.document&&window.document.getElementsByTagName("script"),Oe=[];let J;for(le in ke)((G,ie)=>Object.prototype.hasOwnProperty.call(G,ie))(ke,le)&&!ke[le].src&&Oe.push(ke[le]);for(let G=2;G<te.length;G+=2){let ie;be.exec(te[G])?(J=be.exec(te[G]),ie={args:[],column:void 0,func:J[3],line:+J[1],url:J[2]}):_e.exec(te[G])?(J=_e.exec(te[G]),ie={args:[],column:void 0,func:J[4],line:+J[1],url:J[3]}):ge.exec(te[G])&&(J=ge.exec(te[G]),ve=window.location.href.replace(/#.*$/,""),ie={url:ve,args:[],column:void 0,func:"",line:+J[1]}),ie&&(ie.func||(ie.func=N),ie.context=[te[G+1]],Re.push(ie))}if(Re.length)return{stack:Re,message:te[0],name:W(X,"name")}}}})(O))return H}catch{}try{if(H=U(O,1+V))return H}catch{}return{message:W(O,"message"),name:W(O,"name"),stack:[]}}function U(O,V){var H,X,oe=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,te=[],le={};let ve=!1;for(let be=U.caller;be&&!ve;be=be.caller)be!==j&&(X={args:[],column:void 0,func:N,line:void 0,url:void 0},H=oe.exec(be.toString()),be.name?X.func=be.name:H&&(X.func=H[1]),X.func===void 0&&(X.func=H?H.input.substring(0,H.input.indexOf("{")):void 0),le[be.toString()]?ve=!0:le[be.toString()]=!0,te.push(X));return V&&te.splice(0,V),V={stack:te,message:W(O,"message"),name:W(O,"name")},((be,_e,ge)=>{if((_e={url:_e,line:ge?+ge:void 0}).url&&_e.line){if(be.incomplete=!1,ge=be.stack,0<ge.length&&ge[0].url===_e.url){if(ge[0].line===_e.line)return;if(!ge[0].line&&ge[0].func===_e.func)return ge[0].line=_e.line,ge[0].context=_e.context}ge.unshift(_e),be.partial=!0}else be.incomplete=!0})(V,W(O,"sourceURL")||W(O,"fileName"),W(O,"line")||W(O,"lineNumber")),V}function W(O,V){return typeof O=="object"&&O&&V in O&&typeof(O=O[V])=="string"?O:void 0}function B(O,V,H){function X(){return te.apply(this,arguments)}let oe=O[V],te=H(oe);return O[V]=X,{stop:()=>{O[V]===X?O[V]=oe:te=oe}}}function M(O,V,{before:H,after:X}){return B(O,V,oe=>function(){var te=arguments;let le;return H&&c(H,this,te),typeof oe=="function"&&(le=oe.apply(this,te)),X&&c(X,this,te),le})}let C=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function D(O){return`${O.name||"Error"}: `+O.message}function A(O){return O.filter(V=>V.url==null||!V.url.includes("sls-rum.js"))}function Q(O){let V=D(O);return O.stack.forEach(H=>{var X=H.func==="?"?"<anonymous>":H.func,oe=H.args&&0<H.args.length?`(${H.args.join(", ")})`:"",te=H.line?":"+H.line:"",le=H.line&&H.column?":"+H.column:"";V+=`
  at ${X}${oe} @ `+H.url+te+le}),encodeURIComponent(V)}let ne=8,re=16,K="traceparent",P="uber-trace-id",q="X-B3-TraceId",Z="X-B3-SpanId",se=Array(32);function pe(O){for(let V=0;V<2*O;V++)se[V]=Math.floor(16*Math.random())+48,58<=se[V]&&(se[V]+=39);return String.fromCharCode.apply(null,se.slice(0,2*O))}function ce(){return pe(re)}function ee(){return pe(ne)}function F(O,V){return O+`-${V}-1`}function z(O,V){return`00-${O}-${V}-01`}function ae(O,V){return O+`:${V}:0:1`}let de={b3:{name:"b3",getter:F},traceparent:{name:K,getter:z},uber:{name:P,getter:ae}};function fe(O,V,H){O!=null&&Object.keys(O).map(X=>{H==null||H==""?V[X]=O[X]:V[H+"."+X]=O[X]})}var Se=Object.defineProperty,Ae=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,Te=(O,V,H)=>V in O?Se(O,V,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[V]=H,Pe=(O,V)=>{for(var H in V=V||{})ue.call(V,H)&&Te(O,H,V[H]);if(Ie)for(var H of Ie(V))xe.call(V,H)&&Te(O,H,V[H]);return O};function Le(){return{name:d.InternalPlugin.BASE_TRANSFORM,run:function(){this.subscribe("*",(X,V)=>{var H,{otBase:X,extra:oe}=X,te=(X.service=this.options.service,X.attribute=(H=Pe(Pe({},(H=this.options.attribute)!=null?H:{}),X.attribute),te={sid:this.session.getSessionId(),pid:this.session.getPageId(),uid:this.options.uid},Ae(H,Ce(te))),this.options.nickname&&(X.attribute.nickname=this.options.nickname),fe(this.options.custom,X.attribute,"custom"),X.resource=Pe(Pe({},(H=this.options.resource)!=null?H:{}),X.resource),fe({"uem.sdk.version":"0.3.8",workspace:this.options.workspace,"deployment.environment":this.options.env},X.resource),this.options.namespace&&(X.resource["service.namespace"]=this.options.namespace),this.options.version&&(X.resource["service.version"]=this.options.version),{otBase:X,extra:oe});d.InternalPlugin.BASE_TRANSFORM,V(te)},d.InternalPluginPriority[d.InternalPlugin.BASE_TRANSFORM])}}}class Fe{constructor(V){this.subscribeMap={},this.allNotifiers=[],this.allNotifiers=V}subscribeOne(V,H,X,oe){var te=(te=this.subscribeMap[H])!=null?te:[];(this.subscribeMap[H]=te).push({name:V,priority:oe,callback:X}),te.sort((le,ve)=>le.priority-ve.priority)}notify(V,H){V=(V=this.subscribeMap[V])!=null?V:[],function X(oe,te,le){if(!(te<0)){let ve=_e=>{X(oe,te-1,_e)},be=oe[te];_(()=>{be.callback.call(void 0,le,ve)},"plugin notify run error")()}}(V,V.length-1,H)}subscribe(V,H,X,oe){if(H==="*")for(let le=0;le<this.allNotifiers.length;le++){var te=this.allNotifiers[le];V!==te&&this.subscribeOne(V,te,X,oe)}else this.subscribeOne(V,H,X,oe)}getSubscribeMap(){return this.subscribeMap}}var Ne=Object.defineProperty,Ue=Object.defineProperties,We=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Ze=(O,V,H)=>V in O?Ne(O,V,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[V]=H;let et=["uid","nickname","env","service","version","custom","namespace"];class Be{constructor(V){var H;this.isInit=!1,this.pendingPlugins=[],this.pluginMap={},this.session=(()=>{let X=ce(),oe=ee();return{getSessionId:()=>X,getPageId:()=>oe,refreshPageId:()=>{oe=ee()}}})(),this.options=V,this.use({name:d.InternalPlugin.LOG_SEND,run:function(){}}),this.use(Le()),this.options.env=(H=V.env)!=null?H:"prod",this.options.version=(H=V.version)!=null?H:"-"}initPlugin(V){if(V==null||typeof V!="object")console.error("plugin is not a object");else if(V.name==null||V.name==="")console.error("plugin name is required.");else if(this.pluginMap[V.name])console.error(`plugin name: ${V.name} is conflict`);else if(typeof V.run!="function")console.error("plugin.run is not a function");else{H=((oe,te)=>{for(var le in te=te||{})Ye.call(te,le)&&Ze(oe,le,te[le]);if(ze)for(var le of ze(te))qe.call(te,le)&&Ze(oe,le,te[le]);return oe})({},this.context);let X=Ue(H,We({subscribe:(oe,te,le)=>{this.sub.subscribe(V.name,oe,te,le)},notify:oe=>{this.sub.notify(V.name,oe)}}));var H;_(()=>V.run.call(X),`plugin ${V.name} init failed`)()}}addLog(V){this.isInit?(fe(V,V={t:d.WebEventType.LOG},d.WebEventType.LOG),V={start:1e3*x(),attribute:V,resource:{}},this.sub.notify(d.InternalPlugin.LOG_SEND,{otBase:V,extra:{}})):console.error("log should call after start")}setOptions(V){this.isInit?et.forEach(H=>{V[H]!==this.options[H]&&V[H]!=null&&V[H]!=""&&(this.options[H]=V[H],H==="uid")&&typeof this.setLocalStorage=="function"&&this.setLocalStorage(d.SLS_TRACE_UID_KEY,V[H])}):console.error("setOptions should call after start")}start(){if(!this.isInit){this.isInit=!0;let X=this.options.uid;X!=null&&X!==""||(X=typeof this.getLocalStorage=="function"?this.getLocalStorage(d.SLS_TRACE_UID_KEY):X)!=null&&X!==""||(X=b()),this.options.uid=X,typeof this.setLocalStorage=="function"&&this.setLocalStorage(d.SLS_TRACE_UID_KEY,X);var V,H=this.pendingPlugins.map(oe=>oe?.name).filter(oe=>oe!=null);this.sub=new Fe(H),this.context={options:this.options,session:this.session};for(V of this.pendingPlugins)this.initPlugin(V)}}use(V){this.isInit?console.error(`plugin: ${V?.name} use should run before start`):this.pendingPlugins.push(V)}}var Xe=Object.defineProperty,he=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Y=(O,V,H)=>V in O?Xe(O,V,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[V]=H;m.ONE_DAY=864e5,m.ONE_HOUR=36e5,m.ONE_KILO_BYTE=1024,m.ONE_MINUTE=6e4,m.ONE_SECOND=1e3,m.ONE_YEAR=31536e6,m.Observable=class{constructor(O){this.onFirstSubscribe=O,this.observers=[]}subscribe(O){return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(O),{unsubscribe:()=>{this.observers=this.observers.filter(V=>O!==V),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}}notify(O){this.observers.forEach(V=>V(O))}},m.SDK_VERSION="0.3.8",m.SLSClient=Be,m.Subscribe=class{constructor(){this.dep=new Map}subscribe(O,V){var H=this.dep.get(O);H?this.dep.set(O,H.concat(V)):this.dep.set(O,[V])}notify(O,V){var H=this.dep.get(O);O&&H&&H.forEach(X=>{try{X(V)}catch(oe){console.error(oe)}})}},m.assembleOTAttribute=fe,m.buildHttpInfo=function(O,V,H,X){return O={url:O,method:V,status_code:H},X==null?O:(V=((oe,te)=>{for(var le in te=te||{})l.call(te,le)&&v(oe,le,te[le]);if(a)for(var le of a(te))h.call(te,le)&&v(oe,le,te[le]);return oe})({},O),H={host:X.host,scheme:X.protocol},r(V,n(H)))},m.callMonitored=c,m.catchUserErrors=_,m.clocksNow=function(){return{relative:I(),timeStamp:x()}},m.clocksOrigin=function(){return{relative:0,timeStamp:L()}},m.computeStackTrace=j,m.createHandlingStack=function(){let O=new Error,V;return c(()=>{var H=j(O);H!=null&&H.stack&&(H.stack=A(H.stack)),V=Q(H)}),V},m.currentDrift=function(){return Math.round(Date.now()-(L()+performance.now()))},m.debugLog=u,m.defineGlobal=function(O,V,H,X){X?X(()=>{o(O,V,H)}):o(O,V,H)},m.defineGlobalValue=o,m.elapsed=function(O,V){return V-O},m.formatErrorMessage=D,m.formatUnknownError=function(O,V,H,X=!0){return O&&(O.message!==void 0||V instanceof Error)?(O!=null&&O.stack&&X&&(O.stack=A(O.stack)),V=(H=O?.stack)==null?void 0:H[0],{message:encodeURIComponent(O.message||"Empty message"),stacktrace:Q(O),type:O.name,col:V?V.column:void 0,line:V?V.line:void 0,file:encodeURIComponent(V&&V.url?V.url:""),id:S()}):{message:H+" "+JSON.stringify(V),stacktrace:"",type:O&&O.name,id:S()}},m.genUid=b,m.generateSpanId=ee,m.generateTraceId=ce,m.generateUUID=S,m.getB3Header=F,m.getConsoleLogStatus=function(){return!1},m.getCorrectedTimeStamp=w,m.getInternalUrl=g,m.getJaegerTraceHeaderr=ae,m.getRelativeTime=function(O){return O-L()},m.getTimeStamp=R,m.getW3CTraceHeader=z,m.includes=function(O,V){return O.indexOf(V)!==-1},m.instrumentMethod=B,m.instrumentMethodAndCallOriginal=M,m.isError=function(O){return Object.prototype.toString.call(O)==="[object Error]"},m.isInternalUrl=function(O,V){return O.includes("/track?APIVersion=0.6.0")||O===g(V)},m.isNumber=y,m.isString=function(O){return Object.prototype.toString.call(O)==="[object String]"},m.isURL=function(O){return typeof O=="string"&&T.test(O)},m.looksLikeRelativeTime=function(O){return O<31536e6},m.makeWebPublicApi=function(O,V){let H,X={current:void 0},oe=[],te={};return((le,ve)=>{for(var be in ve=ve||{})me.call(ve,be)&&Y(le,be,ve[be]);if(he)for(var be of he(ve))Ee.call(ve,be)&&Y(le,be,ve[be]);return le})({init:le=>{if(X.current==null){X.current=O(le);let ve=X.current;oe.forEach(be=>{ve.use(be)}),ve.start()}},use:le=>{oe.push(le)},addLog:le=>{var ve=X.current;ve&&ve.addLog(le)},onReady(le){le()},setOptions:le=>{var ve=X.current;ve&&ve.setOptions(le)}},te=typeof V=="function"?(H=V(X))!=null?H:{}:te)},m.matchCondition=E,m.matchSample=function(O){return O!==0&&Math.random()<=O},m.matchWithDefault=function(O,V){return O==null?V:!!O},m.monitor=function(O){return function(){return c(O,this,arguments)}},m.noop=function(){},m.parseUri=function(O){var V,H;return(O=(X=>{try{return decodeURIComponent(X)}catch{return unescape(X)}})(O||"").match(T))==null?null:(H=(V=(O[3]||"").split(":")).length?(O[2]||"").replace(/(.*\@)/,""):O[2],{uri:O[0],protocol:O[1],host:H,hostname:O[4],port:O[5],auth:O[3],user:V[0],password:V[1],path:O[6],search:O[7],hash:O[8]})},m.patchHeaderOnRequest=function(O,V,H,X,oe,te="headers"){var le=H??{};le[te]=(H=le[te])!=null?H:{},le[te].constructor.name==="Headers"?(le[te].append("b3",F(O,V)),le[te].append(K,z(O,V)),le[te].append(P,ae(O,V)),oe&&le[te].append(q,O),oe&&le[te].append(Z,V)):(le[te].b3=F(O,V),le[te][K]=z(O,V),le[te][P]=ae(O,V),oe&&(le[te][q]=O),oe&&(le[te][Z]=V));try{if(X)if(X instanceof Function){var ve=_(X,"run customTraceHeaders func error.")(O,V);if(ve)for(var[be,_e]of Object.entries(ve))le[te].constructor.name==="Headers"?le[te].append(be,_e):le[te][be]=_e}else for(var[ge,Re]of Object.entries(X))de[Re]&&(le[te].constructor.name==="Headers"?le[te].append(ge,de[Re].getter(O,V)):le[te][ge]=de[Re].getter(O,V))}catch(ke){console.error("Failed utilizing customTraceHeaders.",ke)}return le},m.patchHeaderOnXhr=function(O,V,H,X,oe){O.setRequestHeader("b3",F(V,H)),O.setRequestHeader(K,z(V,H)),O.setRequestHeader(P,ae(V,H)),oe&&O.setRequestHeader(q,V),oe&&O.setRequestHeader(Z,H);try{if(X)if(X instanceof Function){var te=_(X,"run customTraceHeaders func error.")(V,H);if(te)for(var[le,ve]of Object.entries(te))O.setRequestHeader(le,ve)}else for(var[be,_e]of Object.entries(X))de[_e]&&O.setRequestHeader(be,de[_e].getter(V,H))}catch(ge){console.error("Failed utilizing customTraceHeaders.",ge)}},m.relativeNow=I,m.relativeToClocks=function(O){return{relative:O,timeStamp:w(O)}},m.resetNavigationStart=function(){k=void 0},m.round=f,m.shouldTrace=function(O,V){return V==null||E(O,V)},m.shouldTrackBody=function(O,V,H){return O!==!1&&(O===!0||O==="error"&&!H||typeof O=="function"&&_(O,"call shouldTrackBody failed")(V))},m.startUnhandledErrorCollection=function(O){let V=(H=O,M(window,"onerror",{before(te,le,ve,be,_e){let ge;if(_e)ge=j(_e),H(ge,_e);else{_e={url:le,column:be,line:ve};let Re,ke=te;({}).toString.call(te)==="[object String]"&&(le=C.exec(ke))&&(Re=le[1],ke=le[2]),ge={name:Re,message:typeof ke=="string"?ke:void 0,stack:[_e]},H(ge,te)}}})).stop;var H,X;let oe=(X=O,M(window,"onunhandledrejection",{before(le){var le=le.reason||"Empty reason",ve=j(le);X(ve,le)}})).stop;return{stop:()=>{V(),oe()}}},m.throttle=function(O,V){let H=!0;return function(...X){H&&(O.apply(this,X),H=!1,setTimeout(()=>{H=!0},V))}},m.timeStampNow=x,m.toServerDuration=function(O){return y(O)?f(1e6*O,0):O},m.toStackTraceString=Q},{"@aliyun-sls/web-types":5}],3:[function(e,t,m){class d{constructor(c){this.total=0,this.count=0,this.peddings=[],this.total=c}append(c){this.peddings.push(c),this.run()}run(){var c;!this.peddings.length||this.count>=this.total||(c=this.peddings.shift())&&(this.count++,c().finally(()=>{this.count--,this.run()}))}}t.exports=class{constructor(o){var c;this.timer=null,this.time=10,this.count=10,this.arr=[],this.time=(c=o.time)!=null?c:10,this.count=(c=o.count)!=null?c:10,this.ccController=new d((c=o.maxReqCount)!=null?c:10),o.host.startsWith("http://")||o.host.startsWith("https://")?this.url=o.host+"/logstores/"+o.logstore+"/track":this.url="https://"+o.project+"."+o.host+"/logstores/"+o.logstore+"/track",(this.opt=o).installUnloadHook&&typeof o.installUnloadHook=="function"&&o.installUnloadHook(()=>{this.sendImmediateInner()})}assemblePayload(o){return o={__logs__:o},this.opt.tags&&(o.__tags__=this.opt.tags),this.opt.topic&&(o.__topic__=this.opt.topic),this.opt.source&&(o.__source__=this.opt.source),JSON.stringify(o)}platformSend(){if(this.opt.sendPayload&&typeof this.opt.sendPayload=="function"){let o=this.assemblePayload(this.arr);this.ccController.append(()=>this.opt.sendPayload(this.url,o))}}transString(o){var c,u={};for(c in o)typeof o[c]=="object"?u[c]=JSON.stringify(o[c]):u[c]=String(o[c]);return u}sendImmediateInner(){this.arr&&0<this.arr.length&&(this.platformSend(),this.timer!=null&&(clearTimeout(this.timer),this.timer=null),this.arr=[])}sendInner(){if(this.timer)this.arr.length>=this.count&&(clearTimeout(this.timer),this.timer=null,this.sendImmediateInner());else{let o=this;this.arr.length>=this.count||this.time<=0?this.sendImmediateInner():this.timer=setTimeout(function(){o.sendImmediateInner()},1e3*this.time)}}send(o){o=this.transString(o),this.arr.push(o),this.sendInner()}sendImmediate(o){o=this.transString(o),this.arr.push(o),this.sendImmediateInner()}sendBatchLogs(o){o=o.map(c=>this.transString(c)),this.arr.push(...o),this.sendInner()}sendBatchLogsImmediate(o){o=o.map(c=>this.transString(c)),this.arr.push(...o),this.sendImmediateInner()}overwriteTransString(o){this.transString=o.transString}getOpt(){return this.opt}}},{}],4:[function(o,t,m){var d=o("@aliyun-sls/web-base"),o=o("@aliyun-sls/web-track-base"),c=(n,a,l)=>new Promise((h,v)=>{var y=b=>{try{S(l.next(b))}catch(_){v(_)}},f=b=>{try{S(l.throw(b))}catch(_){v(_)}},S=b=>b.done?h(b.value):Promise.resolve(b.value).then(y,f);S((l=l.apply(n,a)).next())});function u(n,a){var l=new window.XMLHttpRequest;l.open("POST",n+"?APIVersion=0.6.0",!0),l.send(a)}function s(n,a){try{32768<=a.length?u(n,a):(l=n,h=a,navigator&&navigator.sendBeacon&&navigator.sendBeacon(l+"?APIVersion=0.6.0",h)||u(n,a))}catch(v){window&&window.console&&typeof window.console.error=="function"&&(console.error(`Failed to log to ali log service because of this exception:
`+v),console.error("Failed log data:",n))}var l,h}class r extends o{constructor(a){super(Object.assign({},a,{installUnloadHook:l=>{window.addEventListener("beforeunload",()=>{l()})},sendPayload:(l,h)=>c(this,null,function*(){s(l,h)})}))}useStsPlugin(a){this.getOpt().sendPayload=(l,h)=>c(this,null,function*(){yield function(v,y,f){return c(this,null,function*(){return new Promise(S=>c(this,null,function*(){try{v=v.slice(0,-6);var b,{data:_,header:g}=yield f.process(v,y);let T=new window.XMLHttpRequest;for(b in T.open("POST",v,!0),g)T.setRequestHeader(b,g[b]);T.onreadystatechange=()=>{T.readyState===4&&(T.status!==200&&window&&window.console&&typeof window.console.error=="function"&&(console.error(`Failed to log to ali log service because of this exception:
`+T.status),console.error("Failed logdata:",v)),S())},T.send(_)}catch(T){window&&window.console&&typeof window.console.error=="function"&&(console.error(`Failed to log to ali log service because of this exception:
`+T),console.error("Failed log data:",v))}}))})}(l,h,a)}),this.overwriteTransString(a)}}d.defineGlobal(window,"SLS_Tracker",r),t.exports=r},{"@aliyun-sls/web-base":2,"@aliyun-sls/web-track-base":3}],5:[function(e,t,m){var d=(s=>(s.ERROR="error",s.LOG="log",s.LOCATION="pv",s.API="api",s.RESOURCE="res",s.RESOURCE_ERROR="res_err",s.PERF="perf",s.CONSOLE_LOG="console",s.DOM_CLICK="dom_click",s))({}),o=(s=>(s.LOG_SEND="LOG_SEND",s.BROWSER_SEND="BROWSER_SEND",s.BASE_TRANSFORM="BASE_TRANSFORM",s.BROWSER_BASE_TRANSFORM="BROWSER_BASE_TRANSFORM",s.BROWSER_FETCH="BROWSER_FETCH",s.BROWSER_XHR="BROWSER_XHR",s.BROWSER_DOM="BROWSER_DOM",s.BROWSER_LOCATION="BROWSER_LOCATION",s.BROWSER_RUNTIME_ERROR="BROWSER_RUNTIME_ERROR",s.BROWSER_CUSTOM_ERROR="BROWSER_CUSTOM_ERROR",s.BROWSER_RESOURCE_ERROR="BROWSER_RESOURCE_ERROR",s.BROWSER_CONSOLE="BROWSER_CONSOLE",s.BROWSER_PERF="BROWSER_PERF",s.BROWSER_RESOURSE="BROWSER_RESOURSE",s.MINI_SEND="MINI_SEND",s.MINI_REQUEST="MINI_REQUEST",s.MINI_BASE_TRANSFORM="MINI_BASE_TRANSFORM",s.MINI_ROUTE="MINI_ROUTE",s))({}),c={BROWSER_SEND:-1,MINI_SEND:-2,BASE_TRANSFORM:100,BROWSER_BASE_TRANSFORM:200,MINI_BASE_TRANSFORM:201,BROWSER_PERF:301,BROWSER_FETCH:400,BROWSER_XHR:401,MINI_REQUEST:402,BROWSER_RUNTIME_ERROR:500},u=(s=>(s.OK="OK",s.ERROR="ERROR",s.UNSET="UNSET",s))({});m.InternalPlugin=o,m.InternalPluginPriority=c,m.OTStatusCode=u,m.SLS_CLIENT_NAME="SLS_CLIENT",m.SLS_TRACE_UID_KEY="sls-trace-uid",m.WebEventType=d},{}],6:[function(e,t,m){},{}],7:[function(e,t,m){(function(d){(function(){var o,c;o=this,c=function(){var u,s=Math;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),!(u=!(u=!(u=typeof globalThis<"u"&&globalThis.crypto?globalThis.crypto:u)&&typeof window<"u"&&window.msCrypto?window.msCrypto:u)&&d!==void 0&&d.crypto?d.crypto:u)&&typeof e=="function")try{u=e("crypto")}catch{}var r=Object.create||function(T){return n.prototype=T,T=new n,n.prototype=null,T};function n(){}var a={},l=a.lib={},h=l.Base={extend:function(T){var E=r(this);return T&&E.mixIn(T),E.hasOwnProperty("init")&&this.init!==E.init||(E.init=function(){E.$super.init.apply(this,arguments)}),(E.init.prototype=E).$super=this,E},create:function(){var T=this.extend();return T.init.apply(T,arguments),T},init:function(){},mixIn:function(T){for(var E in T)T.hasOwnProperty(E)&&(this[E]=T[E]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},clone:function(){return this.init.prototype.extend(this)}},v=l.WordArray=h.extend({init:function(T,E){T=this.words=T||[],this.sigBytes=E??4*T.length},toString:function(T){return(T||f).stringify(this)},concat:function(T){var E=this.words,w=T.words,x=this.sigBytes,I=T.sigBytes;if(this.clamp(),x%4)for(var R=0;R<I;R++){var k=w[R>>>2]>>>24-R%4*8&255;E[x+R>>>2]|=k<<24-(x+R)%4*8}else for(var L=0;L<I;L+=4)E[x+L>>>2]=w[L>>>2];return this.sigBytes+=I,this},clamp:function(){var T=this.words,E=this.sigBytes;T[E>>>2]&=4294967295<<32-E%4*8,T.length=s.ceil(E/4)},clone:function(){var T=h.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var E=[],w=0;w<T;w+=4)E.push((()=>{if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")})());return new v.init(E,T)}}),y=a.enc={},f=y.Hex={stringify:function(T){for(var E=T.words,w=T.sigBytes,x=[],I=0;I<w;I++){var R=E[I>>>2]>>>24-I%4*8&255;x.push((R>>>4).toString(16)),x.push((15&R).toString(16))}return x.join("")},parse:function(T){for(var E=T.length,w=[],x=0;x<E;x+=2)w[x>>>3]|=parseInt(T.substr(x,2),16)<<24-x%8*4;return new v.init(w,E/2)}},S=y.Latin1={stringify:function(T){for(var E=T.words,w=T.sigBytes,x=[],I=0;I<w;I++){var R=E[I>>>2]>>>24-I%4*8&255;x.push(String.fromCharCode(R))}return x.join("")},parse:function(T){for(var E=T.length,w=[],x=0;x<E;x++)w[x>>>2]|=(255&T.charCodeAt(x))<<24-x%4*8;return new v.init(w,E)}},b=y.Utf8={stringify:function(T){try{return decodeURIComponent(escape(S.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return S.parse(unescape(encodeURIComponent(T)))}},_=l.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=b.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(N){var E,w=this._data,x=w.words,I=w.sigBytes,R=this.blockSize,k=I/(4*R),L=(k=N?s.ceil(k):s.max((0|k)-this._minBufferSize,0))*R,N=s.min(4*L,I);if(L){for(var j=0;j<L;j+=R)this._doProcessBlock(x,j);E=x.splice(0,L),w.sigBytes-=N}return new v.init(E,N)},clone:function(){var T=h.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),g=(l.Hasher=_.extend({cfg:h.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(E,w){return new T.init(w).finalize(E)}},_createHmacHelper:function(T){return function(E,w){return new g.HMAC.init(T,w).finalize(E)}}}),a.algo={});return a},typeof m=="object"?t.exports=m=c():o.CryptoJS=c()}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{crypto:6}],8:[function(e,t,m){var d,o;d=this,o=function(c){var u;return u=c.lib.WordArray,c.enc.Base64={stringify:function(s){for(var r=s.words,n=s.sigBytes,a=this._map,l=(s.clamp(),[]),h=0;h<n;h+=3)for(var v=(r[h>>>2]>>>24-h%4*8&255)<<16|(r[h+1>>>2]>>>24-(h+1)%4*8&255)<<8|r[h+2>>>2]>>>24-(h+2)%4*8&255,y=0;y<4&&h+.75*y<n;y++)l.push(a.charAt(v>>>6*(3-y)&63));var f=a.charAt(64);if(f)for(;l.length%4;)l.push(f);return l.join("")},parse:function(s){var r=s.length,n=this._map;if(!(a=this._reverseMap))for(var a=this._reverseMap=[],l=0;l<n.length;l++)a[n.charCodeAt(l)]=l;for(var h,v,y=n.charAt(64),f=(y&&(y=s.indexOf(y))!==-1&&(r=y),s),S=r,b=a,_=[],g=0,T=0;T<S;T++)T%4&&(h=b[f.charCodeAt(T-1)]<<T%4*2,v=b[f.charCodeAt(T)]>>>6-T%4*2,_[g>>>2]|=(h|v)<<24-g%4*8,g++);return u.create(_,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},c.enc.Base64},typeof m=="object"?t.exports=m=o(e("crypto-js/core")):o(d.CryptoJS)},{"crypto-js/core":7}],9:[function(e,t,m){var d,o;d=this,o=function(c){return c.enc.Utf8},typeof m=="object"?t.exports=m=o(e("crypto-js/core")):o(d.CryptoJS)},{"crypto-js/core":7}],10:[function(e,t,m){var d,o;d=this,o=function(c){return c.HmacSHA1},typeof m=="object"?t.exports=m=o(e("crypto-js/core"),e("crypto-js/sha1"),e("crypto-js/hmac")):o(d.CryptoJS)},{"crypto-js/core":7,"crypto-js/hmac":11,"crypto-js/sha1":12}],11:[function(e,t,m){var d,o;d=this,o=function(c){var u,s;u=c.lib.Base,s=c.enc.Utf8,c.algo.HMAC=u.extend({init:function(r,n){r=this._hasher=new r.init,typeof n=="string"&&(n=s.parse(n));for(var a=r.blockSize,l=4*a,r=((n=n.sigBytes>l?r.finalize(n):n).clamp(),this._oKey=n.clone()),n=this._iKey=n.clone(),h=r.words,v=n.words,y=0;y<a;y++)h[y]^=1549556828,v[y]^=909522486;r.sigBytes=n.sigBytes=l,this.reset()},reset:function(){var r=this._hasher;r.reset(),r.update(this._iKey)},update:function(r){return this._hasher.update(r),this},finalize:function(a){var n=this._hasher,a=n.finalize(a);return n.reset(),n.finalize(this._oKey.clone().concat(a))}})},typeof m=="object"?t.exports=m=o(e("crypto-js/core")):o(d.CryptoJS)},{"crypto-js/core":7}],12:[function(e,t,m){var d,o;d=this,o=function(c){var u,s,r,n,a;return s=(u=c).lib,r=s.WordArray,n=s.Hasher,a=[],s=u.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,h){for(var v=this._hash.words,y=v[0],f=v[1],S=v[2],b=v[3],_=v[4],g=0;g<80;g++){a[g]=g<16?0|l[h+g]:(T=a[g-3]^a[g-8]^a[g-14]^a[g-16])<<1|T>>>31;var T=(y<<5|y>>>27)+_+a[g];T+=g<20?1518500249+(f&S|~f&b):g<40?1859775393+(f^S^b):g<60?(f&S|f&b|S&b)-1894007588:(f^S^b)-899497514,_=b,b=S,S=f<<30|f>>>2,f=y,y=T}v[0]=v[0]+y|0,v[1]=v[1]+f|0,v[2]=v[2]+S|0,v[3]=v[3]+b|0,v[4]=v[4]+_|0},_doFinalize:function(){var l=this._data,h=l.words,v=8*this._nDataBytes,y=8*l.sigBytes;return h[y>>>5]|=128<<24-y%32,h[14+(64+y>>>9<<4)]=Math.floor(v/4294967296),h[15+(64+y>>>9<<4)]=v,l.sigBytes=4*h.length,this._process(),this._hash},clone:function(){var l=n.clone.call(this);return l._hash=this._hash.clone(),l}}),u.SHA1=n._createHelper(s),u.HmacSHA1=n._createHmacHelper(s),c.SHA1},typeof m=="object"?t.exports=m=o(e("crypto-js/core")):o(d.CryptoJS)},{"crypto-js/core":7}],13:[function(e,t,m){(function(d,o){(function(){var c,u;c=this,u=function(){function s(ee){return typeof ee=="function"}var r=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},n=0,a=void 0,l=void 0,h=function(ee,F){_[n]=ee,_[n+1]=F,(n+=2)===2&&(l?l(g):k())},v=typeof window<"u"?window:void 0,y=v||{},y=y.MutationObserver||y.WebKitMutationObserver,f=typeof self>"u"&&d!==void 0&&{}.toString.call(d)==="[object process]",S=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var ee=setTimeout;return function(){return ee(g,1)}}var _=new Array(1e3);function g(){for(var ee=0;ee<n;ee+=2)(0,_[ee])(_[ee+1]),_[ee]=void 0,_[ee+1]=void 0;n=0}function T(){try{var ee=Function("return this")().require("vertx");return(a=ee.runOnLoop||ee.runOnContext)!==void 0?function(){a(g)}:b()}catch{return b()}}var E,w,x,k=void 0;function I(ee,F){var z,ae=this,de=new this.constructor(N),fe=(de[L]===void 0&&q(de),ae._state);return fe?(z=arguments[fe-1],h(function(){return K(fe,de,z,ae._result)})):ne(ae,de,ee,F),de}function R(ee){var F;return ee&&typeof ee=="object"&&ee.constructor===this?ee:(C(F=new this(N),ee),F)}var k=f?function(){return d.nextTick(g)}:y?(w=0,f=new y(g),x=document.createTextNode(""),f.observe(x,{characterData:!0}),function(){x.data=w=++w%2}):S?((E=new MessageChannel).port1.onmessage=g,function(){return E.port2.postMessage(0)}):(v===void 0&&typeof e=="function"?T:b)(),L=Math.random().toString(36).substring(2);function N(){}var j=void 0,U=1,W=2;function B(ee,F,z){h(function(ae){var de=!1,fe=((Se,Ae,Ce,Ie)=>{try{Se.call(Ae,Ce,Ie)}catch(ue){return ue}})(z,F,function(Se){de||(de=!0,(F!==Se?C:A)(ae,Se))},function(Se){de||(de=!0,Q(ae,Se))},ae._label);!de&&fe&&(de=!0,Q(ae,fe))},ee)}function M(ee,F,z){var ae,de;F.constructor===ee.constructor&&z===I&&F.constructor.resolve===R?(ae=ee,(de=F)._state===U?A(ae,de._result):de._state===W?Q(ae,de._result):ne(de,void 0,function(fe){return C(ae,fe)},function(fe){return Q(ae,fe)})):z!==void 0&&s(z)?B(ee,F,z):A(ee,F)}function C(ee,F){if(ee===F)Q(ee,new TypeError("You cannot resolve a promise with itself"));else if(z=typeof F,F===null||z!="object"&&z!="function")A(ee,F);else{z=void 0;try{z=F.then}catch(ae){return void Q(ee,ae)}M(ee,F,z)}var z}function D(ee){ee._onerror&&ee._onerror(ee._result),re(ee)}function A(ee,F){ee._state===j&&(ee._result=F,ee._state=U,ee._subscribers.length!==0)&&h(re,ee)}function Q(ee,F){ee._state===j&&(ee._state=W,ee._result=F,h(D,ee))}function ne(ee,F,z,ae){var de=ee._subscribers,fe=de.length;ee._onerror=null,de[fe]=F,de[fe+U]=z,de[fe+W]=ae,fe===0&&ee._state&&h(re,ee)}function re(ee){var F=ee._subscribers,z=ee._state;if(F.length!==0){for(var ae,de=void 0,fe=ee._result,Se=0;Se<F.length;Se+=3)ae=F[Se],de=F[Se+z],ae?K(z,ae,de,fe):de(fe);ee._subscribers.length=0}}function K(ee,F,z,ae){var de=s(z),fe=void 0,Se=void 0,Ae=!0;if(de){try{fe=z(ae)}catch(Ce){Ae=!1,Se=Ce}if(F===fe)return void Q(F,new TypeError("A promises callback cannot return that same promise."))}else fe=ae;F._state===j&&(de&&Ae?C(F,fe):Ae===!1?Q(F,Se):ee===U?A(F,fe):ee===W&&Q(F,fe))}var P=0;function q(ee){ee[L]=P++,ee._state=void 0,ee._result=void 0,ee._subscribers=[]}se.prototype._enumerate=function(ee){for(var F=0;this._state===j&&F<ee.length;F++)this._eachEntry(ee[F],F)},se.prototype._eachEntry=function(ee,F){var z=this._instanceConstructor,ae=z.resolve;if(ae===R){var de,fe=void 0,Se=void 0,Ae=!1;try{fe=ee.then}catch(Ce){Ae=!0,Se=Ce}fe===I&&ee._state!==j?this._settledAt(ee._state,F,ee._result):typeof fe!="function"?(this._remaining--,this._result[F]=ee):z===pe?(de=new z(N),Ae?Q(de,Se):M(de,ee,fe),this._willSettleAt(de,F)):this._willSettleAt(new z(function(Ce){return Ce(ee)}),F)}else this._willSettleAt(ae(ee),F)},se.prototype._settledAt=function(ee,F,z){var ae=this.promise;ae._state===j&&(this._remaining--,ee===W?Q(ae,z):this._result[F]=z),this._remaining===0&&A(ae,this._result)},se.prototype._willSettleAt=function(ee,F){var z=this;ne(ee,void 0,function(ae){return z._settledAt(U,F,ae)},function(ae){return z._settledAt(W,F,ae)})};var Z=se;function se(ee,F){this._instanceConstructor=ee,this.promise=new ee(N),this.promise[L]||q(this.promise),r(F)?(this.length=F.length,this._remaining=F.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(F),this._remaining!==0)||A(this.promise,this._result)):Q(this.promise,new Error("Array Methods must be provided an Array"))}ce.prototype.catch=function(ee){return this.then(null,ee)},ce.prototype.finally=function(ee){var F=this.constructor;return s(ee)?this.then(function(z){return F.resolve(ee()).then(function(){return z})},function(z){return F.resolve(ee()).then(function(){throw z})}):this.then(ee,ee)};var pe=ce;function ce(ee){if(this[L]=P++,this._result=this._state=void 0,this._subscribers=[],N!==ee){if(typeof ee!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ce))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var F=this;try{ee(function(z){C(F,z)},function(z){Q(F,z)})}catch(z){Q(F,z)}}}return pe.prototype.then=I,pe.all=function(ee){return new Z(this,ee).promise},pe.race=function(ee){var F=this;return r(ee)?new F(function(z,ae){for(var de=ee.length,fe=0;fe<de;fe++)F.resolve(ee[fe]).then(z,ae)}):new F(function(z,ae){return ae(new TypeError("You must pass an array to race."))})},pe.resolve=R,pe.reject=function(ee){var F=new this(N);return Q(F,ee),F},pe._setScheduler=function(ee){l=ee},pe._setAsap=function(ee){h=ee},pe._asap=h,pe.polyfill=function(){var ee=void 0;if(o!==void 0)ee=o;else if(typeof self<"u")ee=self;else try{ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var F=ee.Promise;if(F){var z=null;try{z=Object.prototype.toString.call(F.resolve())}catch{}if(z==="[object Promise]"&&!F.cast)return}ee.Promise=pe},pe.Promise=pe},typeof m=="object"&&t!==void 0?t.exports=u():c.ES6Promise=u()}).call(this)}).call(this,e("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:14}],14:[function(e,c,m){var d,o,c=c.exports={};function u(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{d=typeof setTimeout=="function"?setTimeout:u}catch{d=u}try{o=typeof clearTimeout=="function"?clearTimeout:s}catch{o=s}function r(b){if(d===setTimeout)return setTimeout(b,0);if((d===u||!d)&&setTimeout)return(d=setTimeout)(b,0);try{return d(b,0)}catch{try{return d.call(null,b,0)}catch{return d.call(this,b,0)}}}var n,a=[],l=!1,h=-1;function v(){l&&n&&(l=!1,n.length?a=n.concat(a):h=-1,a.length)&&y()}function y(){if(!l){for(var b=r(v),_=(l=!0,a.length);_;){for(n=a,a=[];++h<_;)n&&n[h].run();h=-1,_=a.length}n=null,l=!1,function(g){if(o===clearTimeout)return clearTimeout(g);if((o===s||!o)&&clearTimeout)return(o=clearTimeout)(g);try{o(g)}catch{try{return o.call(null,g)}catch{return o.call(this,g)}}}(b)}}function f(b,_){this.fun=b,this.array=_}function S(){}c.nextTick=function(b){var _=new Array(arguments.length-1);if(1<arguments.length)for(var g=1;g<arguments.length;g++)_[g-1]=arguments[g];a.push(new f(b,_)),a.length!==1||l||r(y)},f.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=S,c.addListener=S,c.once=S,c.off=S,c.removeListener=S,c.removeAllListeners=S,c.emit=S,c.prependListener=S,c.prependOnceListener=S,c.listeners=function(b){return[]},c.binding=function(b){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(b){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],15:[function(e,t,m){t.exports={name:"aliyun-aliplayer",version:"2.32.0",description:"阿里云 Web 播放器",main:"./build/aliplayer-min",style:"./build/skins/default/aliplayer-min.css",files:["build"],repository:{type:"git",url:""},keywords:["aliyun","aliplayer"],scripts:{start:"npx grunt live","start:hls":"npx grunt live --hls=true","start:flv":"npx grunt live --flv=true",build:"npx grunt build",release:"commit-and-tag-version",prepublishOnly:"npm run build","test:unit":"karma start","test:unit:watch":"karma start --no-single-run","test:e2e:install":"npx playwright install","test:e2e:test-all":"npx playwright test","ci:e2e-test":"npm run ci:e2e-test-install && npm run ci:e2e-test-run","ci:e2e-test-install":"PLAYWRIGHT_DOWNLOAD_HOST=https://anpm.alibaba-inc.com/mirrors/playwright playwright install chrome","ci:e2e-test-run":"playwright test --project 'Google Chrome'","ci:e2e-test-show":"playwright show-report .ci/e2e"},devDependencies:{"@ali/mediabox-quality-tracer":"^0.26.0","@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@playwright/test":"^1.53.0","@types/chai":"^5.0.1","@types/mocha":"^10.0.10","@types/node":"^24.0.0","babel-loader":"^9.2.1","babel-plugin-es6-promise":"^1.1.1","babel-plugin-istanbul":"^7.0.0",babelify:"^10.0.0",chai:"^5.1.2","commit-and-tag-version":"^11.2.1","es6-promise":"^4.2.8",grunt:"^1.0.4","grunt-autoprefixer":"^3.0.4","grunt-babel":"^8.0.0","grunt-browserify":"^5.3.0","grunt-contrib-clean":"^2.0.0","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-cssmin":"^3.0.0","grunt-contrib-less":"^2.0.0","grunt-contrib-uglify":"^4.0.1","grunt-contrib-watch":"^1.1.0","grunt-run":"^0.8.1","grunt-text-replace":"^0.4.0",karma:"^6.4.4","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.1",mocha:"^11.0.1","node-args":"^2.1.8",sinon:"^19.0.2","sinon-chai":"^4.0.0",webpack:"^5.97.1"},dependencies:{"@aliyun-sls/web-track-browser":"^0.3.9","crypto-js":"^4.1.1"},optionalDependencies:{puppeteer:"^23.11.1"}}},{}],16:[function(r,t,m){var d=r("../ui/component"),o=(r("../lib/util"),r("../lib/dom")),c=r("../lib/event"),u=(r("../lib/ua"),r("../lang/index")),s=r("../player/base/event/eventtype"),r=d.extend({init:function(n,a){d.call(this,n,a),this.className=a.className||"prism-auto-stream-selector",this.addClass(this.className)},createEl:function(){var n=d.prototype.createEl.call(this,"div");return n.innerHTML="<div><p class='tip-text'></p></div><div class='operators'><a class='prism-button prism-button-ok' type='button'>"+u.get("OK_Text")+"</a><a class='prism-button prism-button-cancel'  target='_blank'>"+u.get("Cancel_Text")+"</a></div>",n},bindEvent:function(){var n=this,a=(n._player.on(s.Private.AutoStreamShow,function(l){var h,v=document.querySelector("#"+n.getId()+" .tip-text");n._player._getLowerQualityLevel&&(h=n._player._getLowerQualityLevel())&&(n._switchUrl=h,v.innerText=u.get("Auto_Stream_Tip_Text").replace("$$",h.item.desc),o.css(n.el(),"display","block"))}),n._player.on(s.Private.AutoStreamHide,function(l){document.querySelector("#"+n.getId()+" .tip-text"),o.css(n.el(),"display","none")}),document.querySelector("#"+n.getId()+" .prism-button-ok")),a=(c.on(a,"click",function(){n._player._changeStream&&n._switchUrl&&(n._player._changeStream(n._switchUrl.index,u.get("Quality_Change_Text")),n._player.trigger(s.Private.SettingListHide)),o.css(n.el(),"display","none")}),document.querySelector("#"+n.getId()+" .prism-button-cancel"));c.on(a,"click",function(){o.css(n.el(),"display","none"),n._player.trigger(s.Private.SettingListHide)})}});t.exports=r},{"../lang/index":28,"../lib/dom":37,"../lib/event":38,"../lib/ua":53,"../lib/util":55,"../player/base/event/eventtype":77,"../ui/component":143}],17:[function(h,t,m){var d=h("../ui/component"),o=h("../lib/dom"),c=h("../lib/event"),u=h("../lib/ua"),s=h("../lib/function"),r=(h("../lang/index"),h("../lib/util")),n=h("../config"),a=h("../lib/playerutil"),l=h("../player/base/event/eventtype"),h=d.extend({init:function(v,y){d.call(this,v,y),this.className=y.className||"prism-liveshift-progress",this.addClass(this.className),this._liveshiftService=v._liveshiftService},createEl:function(){var v=d.prototype.createEl.call(this);return v.innerHTML='<div class="prism-enable-liveshift"><div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-liveshift-seperator"></div></div><div class="prism-disable-liveshift"></div>',v},bindEvent:function(){function v(b){y._progressDown=b}var y=this,f=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this.id()+" .prism-progress-time"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),this.seperatorNode=document.querySelector("#"+this.id()+" .prism-liveshift-seperator"),this.progressNode=document.querySelector("#"+this.id()+" .prism-enable-liveshift"),document.querySelector("#"+this.id()+" .prism-progress-cursor img")),S="//"+n.domain+n.path+n.h5Version+"/skins/default/img/dragcursor.png";this._player._options.skinsDomain=this._player._options.assetPrefix||this._player._options.skinsDomain,this._player._options.skinsDomain?S=this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":n.domain?-1<n.domain.indexOf("localhost")&&(S="//"+n.domain+"/build/skins/default/img/dragcursor.png"):S=this._player&&this._player._options&&this._player._options.sdkDomain?this._player._options.sdkDomain+n.path+n.h5Version+"/skins/default/img/dragcursor.png":(n.path||"").substring(1)+n.h5Version+"/skins/default/img/dragcursor.png",f.src=S,c.on(this.cursorNode,"mousedown",function(b){y._onMouseDown(b)}),c.on(this.cursorNode,"touchstart",function(b){y._onMouseDown(b)}),c.on(this.progressNode,"mousemove",function(b){y._progressMove(b)}),c.on(this.progressNode,"touchmove",function(b){y._progressMove(b)}),c.on(this.progressNode,"mousedown",function(b){v(!0)}),c.on(this.progressNode,"touchstart",function(b){v(!0)}),c.on(this.progressNode,"mouseup",function(b){v(!1)}),c.on(this.progressNode,"touchend",function(b){v(!1)}),c.on(this._el,"click",function(b){y._onMouseClick(b)}),this._player.on(l.Private.HideProgress,function(b){y._hideProgress(b)}),this._player.on(l.Private.CancelHideProgress,function(b){y._cancelHideProgress(b)}),this._player.on(l.Private.ShowBar,function(){y._updateLayout()}),c.on(this.progressNode,l.Private.MouseOver,function(b){y._onMouseOver(b)}),c.on(this.progressNode,l.Private.MouseOut,function(b){y._onMouseOut(b)}),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(l.Player.TimeUpdate,this.bindTimeupdate),a.isLiveShift(this._player._options)&&y._liveshiftService.start(6e4,function(b){b={mediaId:y._player._options.vid||"",error_code:b.Code,error_msg:b.Message},y._player.logError(b),y._player.trigger(l.Player.Error,b)}),this._player.on(l.Private.LiveShiftQueryCompleted,function(){y._updateSeperator(),y._updateLayout()}),this._player.on(l.Private.LiveShiftSwitchToLive,function(){y._updateCursorPosition()}),this._player.on(l.Player.Pause,function(){y._liveshiftService.stop()}),u.IS_IPAD?this.interval=setInterval(function(){y._onProgress()},500):this._player.on(l.Video.Progress,function(){y._onProgress()})},_updateSeperator:function(){this._liveshiftService.currentTimeDisplay&&(this.seperatorNode.innerText=this._liveshiftService.currentTimeDisplay)},_updateLayout:function(){var v=this.seperatorNode.offsetWidth,y=this.el().offsetWidth,f=y-v;v!=0&&f!=0&&(o.css(this.progressNode,"width",100*(f-10)/y+"%"),o.css(this.seperatorNode,"right",-1*(v+10)+"px"))},_progressMove:function(v){var y=this._getSeconds(v),f=this._liveshiftService.availableLiveShiftTime,y=(this.timeNode.innerText="-"+r.formatTime(f-y),f?y/f:0),f=1-this.timeNode.clientWidth/this.el().clientWidth,S=(f<y&&(y=f),this.timeNode&&(o.css(this.timeNode,"display","block"),o.css(this.timeNode,"left",100*y+"%")),this);!u.IS_PC&&S._progressDown&&(S.progressSeekTimer&&clearTimeout(S.progressSeekTimer),S.progressSeekTimer=setTimeout(function(){S._progressDown||S._onMouseClick(v)},200))},_hideProgress:function(v){c.off(this.cursorNode,"mousedown"),c.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(v){var y=this;c.on(this.cursorNode,"mousedown",function(f){y._onMouseDown(f)}),c.on(this.cursorNode,"touchstart",function(f){y._onMouseDown(f)})},_canSeekable:function(v){var y=!0;return y=typeof this._player.canSeekable=="function"?this._player.canSeekable(v):y},_onMouseOver:function(v){this._updateCursorPosition(this._getCurrentTime()),o.css(this.timeNode,"display","block")},_onMouseOut:function(v){o.css(this.timeNode,"display","none")},_getSeconds:function(_){if(_.touches&&_.touches[0]){for(var y,f=this.el().offsetLeft,S=this.el();S.offsetParent;){var S=S.offsetParent,b=o.getTranslateX(S);f+=S.offsetLeft+b}S.tagName&&S.tagName.toLowerCase()==="body"&&(f+=document.getElementsByTagName("html")[0].offsetLeft),(y=(_.touches?_.touches[0]:_).pageX-f)<0&&(y=0)}else y=_.offsetX,_.target!==this.cursorNode&&_.target.offsetParent!==this.cursorNode||(y+=this.cursorNode.offsetLeft),_.target!==this._el&&(_.target.offsetParent,this._el);var _=this.progressNode.offsetWidth,g=this._liveshiftService.availableLiveShiftTime;return sec=(sec=(sec=g?y/_*g:0)<0?0:sec)>g?g:sec},_onMouseClick:function(f){var y=this,f=this._getSeconds(f),b=this._liveshiftService.availableLiveShiftTime,S=b-f,_=this._player._options,b=(S<=_.liveShiftMinOffset&&(f=b-(S=_.liveShiftMinOffset)),this._player.trigger(l.Private.SeekStart,{fromTime:this._getCurrentTime()}),this._liveshiftService.getSourceUrl(S)),_=a.isHls(y._player._options.source);y._player._loadByUrlInner(b,f,!0),y._player.trigger(l.Private.Play_Btn_Hide),y._liveshiftService.seekTime=f,y._player.trigger(l.Private.EndStart,{toTime:f}),y._updateProgressBar(this.playedNode,f),y._updateCursorPosition(f),setTimeout(function(){y._progressDown||y._onMouseOut()},500),_&&setTimeout(function(){y._player.play()})},_onMouseDown:function(v){var y=this;v.preventDefault(),this._player.trigger(l.Private.SeekStart,{fromTime:this._getCurrentTime()}),c.on(this.controlNode,"mousemove",function(f){y._onMouseMove(f)}),c.on(this.controlNode,"touchmove",function(f){y._onMouseMove(f)}),c.on(this.controlNode,"mouseup",function(f){y._onMouseUp(f)}),c.on(this.controlNode,"touchend",function(f){y._onMouseUp(f)})},_onMouseUp:function(v){v.preventDefault(),c.off(this.controlNode,"mousemove"),c.off(this.controlNode,"touchmove"),c.off(this._player.tag,"mouseup"),c.off(this._player.tag,"touchend"),c.off(this.controlNode,"mouseup"),c.off(this.controlNode,"touchend"),this._onMouseClick(v)},_onMouseMove:function(v){v.preventDefault()},_onTimeupdate:function(v){this._player._seeking||(u.IS_ANDROID&&u.IS_UC&&(this._hasResetFlagUC&&this._player.getCurrentTime()&&(this._hasResetFlagUC=!1,this._basePtsUC=this._player.getCurrentTime()),this._player.getCurrentTime()||(this._hasResetFlagUC=!0,this._basePtsUC=0)),this._updateProgressBar(this.playedNode,this._getCurrentTime()),this._updateCursorPosition(this._getCurrentTime()),this._player.trigger(l.Private.UpdateProgressBar,{time:this._getCurrentTime()}))},_getCurrentTime:function(){var v=this._liveshiftService.seekTime,v=(v==-1&&(v=0),this._player.getCurrentTime()+v);return u.IS_ANDROID&&u.IS_UC&&(v-=this._basePtsUC||0),v},_onProgress:function(v){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(v,y){var f,S;this._player._switchSourcing!=1&&(S=0,this._liveshiftService.seekTime==-1?S=1:1<(S=(f=this._liveshiftService.availableLiveShiftTime)?y/f:0)&&(this._liveshiftService.seekTime=-(S=1)),this.liveShiftStartDisplay,v)&&o.css(v,"width",100*S+"%")},_updateCursorPosition:function(v){var y,f,S,b;this._player.el()&&this._player._switchSourcing!=1&&(S=0,b=1,y=this._player.el().clientWidth,this._liveshiftService.seekTime==-1?S=1:1<(S=(f=this._liveshiftService.availableLiveShiftTime)?v/f:0)&&(this._liveshiftService.seekTime=-1),y!=0&&(b=1-(v=10/y),S-=v),S=S<0?0:S,this.cursorNode)&&(b<S?(o.css(this.cursorNode,"right","0px"),o.css(this.cursorNode,"left","auto")):(o.css(this.cursorNode,"right","auto"),o.css(this.cursorNode,"left",100*S+"%")))}});t.exports=h},{"../config":19,"../lang/index":28,"../lib/dom":37,"../lib/event":38,"../lib/function":40,"../lib/playerutil":50,"../lib/ua":53,"../lib/util":55,"../player/base/event/eventtype":77,"../ui/component":143}],18:[function(u,t,m){var d=u("../ui/component"),o=u("../lib/util"),c=u("../player/base/event/eventtype"),u=d.extend({init:function(s,r){d.call(this,s,r),this.className=r.className||"prism-live-time-display",this.addClass(this.className),this._liveshiftService=s._liveshiftService},createEl:function(){var s=d.prototype.createEl.call(this,"div");return s.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="end-time">00:00</span><span class="live-text">Live: </span><span class="live-time"></span>',s},bindEvent:function(){var s=this;this._player.on(c.Video.TimeUpdate,function(){var r,n=s._liveshiftService,a=document.querySelector("#"+s.id()+" .current-time");n.liveShiftStartDisplay&&n.availableLiveShiftTime>n.seekTime&&n.seekTime!=-1?(r=s._liveshiftService.getBaseTime(),r=o.formatTime(r+s._player.getCurrentTime()),a.innerText=r):n.currentTimeDisplay&&(a.innerText=n.currentTimeDisplay)}),this._player.on(c.Private.LiveShiftQueryCompleted,function(){s.updateTime()})},updateTime:function(){document.querySelector("#"+this.id()+" .end-time").innerText=this._liveshiftService.liveTimeRange.endDisplay,document.querySelector("#"+this.id()+" .live-time").innerText=this._liveshiftService.currentTimeDisplay}});t.exports=u},{"../lib/util":55,"../player/base/event/eventtype":77,"../ui/component":143}],19:[function(e,t,m){e=e("../package.json"),t.exports={domain:"g.alicdn.com",path:"/apsara-media-box/imp-web-player/",flashVersion:"2.8.2",h5Version:e.version.split("-")[0],rtsVersion:"2.9.1",cityBrain:!0,logDuration:3,logCount:100,logReportTo:"https://videocloud.cn-hangzhou.log.aliyuncs.com/logstores/newplayer/track",dumpLogReportTo:"https://web-video.cn-hangzhou.log.aliyuncs.com/logstores/player-dump/track"}},{"../package.json":15}],20:[function(e,t,m){(function(d){(function(){var o,c,u,s,r,n,l=e("../node_modules/@ali/mediabox-quality-tracer/dist/index.cjs").MediaboxQualityTracer,a=(e("./lib/patch-ssr").isSSR||(c=function(h){var v=window&&window.location.host||"";if(!(-1<v.indexOf("localhost")||/(?:\d{1,3}\.){3}\d{1,3}/.test(v))){if(h&&h.msg&&(["没有为播放器指定容器","playauth property is required"].some(function(y){return-1<h.msg.indexOf(y)})||/code:(\d+);msg:(.+)/.test(h.msg)))return void console.log("ignore error report");if(!(h.stack&&-1<h.stack.indexOf("alivc-im.iife.js")||h.file&&-1<h.file.indexOf("imp-interaction")))return h}console.log("ignore error report")},e("./lang/index").load(),u=e("./player/adaptiveplayer"),s=e("./lib/reloadInstanceUtil"),a=e("./lib/componentutil"),r=e("./config"),(n=function(h,v){o&&(o.updateOptions({cid:h.license&&h.license.key,region:h.env==="SEA"?"ap-southeast-1":"cn-hangzhou",beforeSend:c}),o.setReady());var y=u.create(h,v);return o&&o.updateOptions({beforeSend:function(f){if(f=c(f))return f.c3="likely_ri="+(y._monitor&&y._monitor.sessionId),f}}),s.storeUserEvents(y),y}).getVersion=function(){return r.h5Version},a.register(n),n.players={},n.reloadInstance=s.reloadInstance,typeof Uint8Array>"u")||Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),(o=new l({businessName:"imp-web-player",version:r.h5Version||"unknown",deferRegionSet:!0,env:d!=="dev"?"prod":"local",disabled:!0})).wrap(n)),l=window.Aliplayer=a;l.tracer=o,t.exports=l}).call(this)}).call(this,"prod")},{"../node_modules/@ali/mediabox-quality-tracer/dist/index.cjs":1,"./config":19,"./lang/index":28,"./lib/componentutil":32,"./lib/patch-ssr":49,"./lib/reloadInstanceUtil":51,"./player/adaptiveplayer":74}],21:[function(e,t,m){var d=e("../player/base/event/eventtype"),o=e("../lib/constants"),c=e("../lang/index");t.exports=(()=>{function u(r){var n=this;r===void 0&&(r={}),this.interval=3e3,this.player=null,this.timer=null,this.playerInitDone=!1,this.player=r.player,this.player.on(d.Player.Init,function(){n.playerInitDone=!0})}var s=u.prototype;return s.start=function(){var r=this;this.stop(),this.player&&this.player._options&&!this.player._options.preventRecord||(this.timer=setInterval(function(){r.playerInitDone&&r.check()},this.interval))},s.stop=function(){this.clearTimer()},s.check=function(){var r=!1,n=this.detectPrototype()||this.detectNativeFn();return(n||this.detectDeperateVideo())&&(console.log("isMediaSourceModified",n),this.clearTimer(),this.displayError(),this.setupErrorStyle(),this.destroyVideo(),localStorage.setItem("_intercept_mediastream_",""),r=!0),r},s.dispose=function(){this.stop(),this.player=null,this.playerInitDone=!1},s.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},s.displayError=function(){var r=this.player,n={mediaId:r._options&&r._options.vid?r._options.vid:"",error_code:o.ErrorCode.RecordNotAllowed,error_msg:c.get("Record_Not_Allowed")};r.logError(n),r.trigger(d.Player.Error,n)},s.setupErrorStyle=function(){this.hideRetry();var r=document.querySelector(".prism-ErrorMessage");r&&(r.style.opacity="1",r.style.visibility="visible")},s.hideRetry=function(){var r=document.querySelector("#"+this.player.id()+" .prism-button-retry");r&&(r.style.display="none")},s.destroyVideo=function(){this.player._drm&&this.player.destroy();var r=this.player.tag;r&&r.parentNode&&r.parentNode.removeChild(r)},s.detectPrototype=function(){var r=window,n=r.MediaSource;return n&&r.EventTarget&&n.__proto__.__proto__===r.EventTarget},s.detectNativeFn=function(){var r=window.MediaSource;return r&&!this.isNativeFn(r.prototype.addSourceBuffer)},s.isNativeFn=function(r){var n=RegExp("^".concat(Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),"$")),a=typeof r;return r!==null&&(a=="object"||a=="function")&&n.test(r)},s.detectDeperateVideo=function(){var r=this.player.tag;if(r)return(r.getAttribute("id")||"").indexOf("360")!==-1},u})()},{"../lang/index":28,"../lib/constants":33,"../player/base/event/eventtype":77}],22:[function(c,t,m){var d=c("../lib/oo"),o=c("../lang/index"),c=d.extend({init:function(s,r){this._player=s,this._options=s.options()}}),u=(c.prototype.handle=function(s){var r,n;this._options.autoPlayDelay&&(r=(r=this._options.autoPlayDelayDisplayText)||o.get("AutoPlayDelayDisplayText").replace("$$",this._options.autoPlayDelay),this._player.trigger("info_show",r),this._player.trigger("h5_loading_hide"),this._player.trigger("play_btn_hide"),(n=this)._timeHandler=setTimeout(function(){n._player.trigger("info_hide"),n._options.autoPlayDelay=0,s&&s()},1e3*this._options.autoPlayDelay),this._player.on("play",function(){u(n)}),this._player.on("pause",function(){u(n)}))},c.prototype.dispose=function(){u(this),this._player=null},function(s){s._timeHandler&&(clearTimeout(s._timeHandler),s._timeHandler=null)});t.exports=c},{"../lang/index":28,"../lib/oo":48}],23:[function(s,t,m){var d=s("../lib/event"),o=s("../lib/data"),c=s("../player/base/event/eventtype"),u=o.guid(),s={};function r(l){var h,v,y=this._options.keyFastForwardStep,f=this._options.isLive;switch(l&&l.keyCode){case 39:f||(l.preventDefault(),h=this.getDuration(),v=this.getCurrentTime()+y,this.seek(v=h<v?h:v),n.call(this,v),a.call(this,v));break;case 37:f||(l.preventDefault(),v=this.getCurrentTime()-y,this.seek(v=v<0?0:v),n.call(this,v),a.call(this,v));break;case 38:l.preventDefault(),this.getVolume()<1&&0<=this.getVolume()&&this.setVolume(Number((this.getVolume()+.1).toFixed(1)));break;case 40:l.preventDefault(),0<this.getVolume()&&this.getVolume()<=1&&this.setVolume(Number((this.getVolume()-.1).toFixed(1)));break;case 32:if(f)return;l.preventDefault(),this.tag.paused?this.play(!0):this.pause(!0)}}function n(l){this.trigger(c.Private.UpdateProgress,{targetTime:l})}function a(l){this.trigger(c.Private.UpdateCursorPosition,{targetTime:l})}s.init=function(){var l;this._options.keyShortCuts&&((l=r.bind(this)).guid=u,d.on(window.document,"keydown",l))},s.dispose=function(){var l;this._options.keyShortCuts&&((l=r.bind(this)).guid=u,d.off(window.document,"keydown",l))},t.exports=s},{"../lib/data":35,"../lib/event":38,"../player/base/event/eventtype":77}],24:[function(s,t,m){var d=typeof Promise>"u"?s("es6-promise").Promise:Promise,o=s("../lib/constants").LicenseResultCode,c=s("../lib/io"),u=((s={})[o.ResourceIncorrect]="license resource init error",s[o.LicenseKeyInvalid]="invalid license key",s[o.DomainInvalid]="invalid domain",s[o.CertInvalid]="invalid cert content",s[o.NotFound]="license not found",s[o.Expired]="license expired",s),s=(()=>{function r(){}return r.getLicense=function(n,a,l){var h=this;return this.isWasmSupported()?a?n?this.instance?d.resolve(this.instance):new d(function(v,y){h.resolvers.push(v),h.rejecters.push(y),h.resolvers.length===1&&c.loadJS("https://g.alicdn.com/apsara-media-components/amcom-web-license/0.5.1/index.js",function(){window.loadLicenseSource().then(function(f){var S=new f({business_id:2,domain_identity:n,license_key:a,region:l});return S.update().then(function(){h.instance=S,h.resolvers.forEach(function(b){b(S)})}).catch(function(b){h.rejecters.forEach(function(_){_(o.CertInvalid+"#"+(b||"").trim().split(":")[0])})})}).catch(function(){h.rejecters.forEach(function(f){f(o.ResourceIncorrect)})}).finally(function(){h.resolvers=[],h.rejecters=[]})},function(){h.rejecters.forEach(function(f){f(o.ResourceIncorrect)})})}):d.reject(o.DomainInvalid):d.reject(o.LicenseKeyInvalid):d.reject(o.WasmNotSupported)},r.isWasmSupported=function(){return typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"},r.logError=function(n){u[n]&&console.error(u[n])},r})();s.instance=void 0,s.resolvers=[],s.rejecters=[],t.exports=s},{"../lib/constants":33,"../lib/io":45,"es6-promise":13}],25:[function(v,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(f){for(var S=1;S<arguments.length;S++){var b,_=arguments[S];for(b in _)!{}.hasOwnProperty.call(_,b)||(f[b]=_[b])}return f}).apply(null,arguments)}function o(f,S){for(var b=0;b<S.length;b++){var _=S[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,(g=>typeof(g=((T,E)=>{if(typeof T!="object"||!T)return T;var w=T[Symbol.toPrimitive];if(w===void 0)return(E==="string"?String:Number)(T);if(typeof(w=w.call(T,E))!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")})(g,"string"))=="symbol"?g:g+"")(_.key),_)}}var c=v("../lib/event"),u="box",s="content",r="top-left",n="top-right",a="bottom-left",l="bottom-right",h="percentage",v=(()=>{function f(_){this._container=void 0,this._video=void 0,this._logoList=[],this._resizeDone=!0,this._observer=void 0,this._observer=new y,this._handleVideoResize=this._handleVideoResize.bind(this),this._handleWindowResize=this._handleWindowResize.bind(this),this._setLogo(_.logo),this._setElements(_.container,_.video)}var S,b=f.prototype;return b.dispose=function(){this._observer.dispose(),this._observer=void 0,c.off(this._video,"resize",this._handleVideoResize),c.off(document,"fullscreenchange",this._handleWindowResize),this._logoList.forEach(function(_){_.logo&&_.logo.remove()}),this._logoList=[],this._container=void 0,this._video=void 0,this._resizeDone=!0},b._setElements=function(_,g){this._container=_,this._video=g,this.loadedMeta?this._logoList.forEach(this._setupLogo.bind(this)):c.on(g,"resize",this._handleVideoResize),this._observer.observe(this._container,this._handleWindowResize),c.on(document,"fullscreenchange",this._handleWindowResize)},b._handleVideoResize=function(){!this._video.videoWidth||this._logoList.some(function(_){return _.logo})||this._logoList.forEach(this._setupLogo.bind(this))},b._handleWindowResize=function(){var _=this;this._container&&this._resizeDone&&this.loadedMeta&&(this._resizeDone=!1,window.requestAnimationFrame(function(){_._resizeDone=!0,_._logoList.forEach(_._placeLogo.bind(_))}))},b._setLogo=function(_){this._logoList=_.map(this._defauleValue)},b._setupLogo=function(_){var g=this,T=this._createLogo(_);(_.logo=T).onload=function(){g._placeLogo(_)}},b._createLogo=function(_){var g=document.createElement("img");return g.setAttribute("class","prism-logo"),g.src=_.src,g},b._placeLogo=function(_){var g=_.logo,T=this._calcSize(_),E=(T.width&&g.setAttribute("width",T.width+"px"),T.height&&g.setAttribute("height",T.height+"px"),this._calcMatrix(_));g.style.position="absolute",Object.keys(E).forEach(function(w){g.style[w]=E[w]+"px"}),this._container.appendChild(_.logo)},b._calcSize=function(_){return this._getPixel(_)},b._calcMatrix=function(_){var g=this._getPosition(_),T=this._getPixel(_,{width:_.offsetX,height:_.offsetY});return Object.keys(g).forEach(function(E){switch(E){case"top":g[E]+=T.height;break;case"bottom":g[E]-=T.height;break;case"left":g[E]+=T.width;break;case"right":g[E]-=T.width}}),g},b._getPosition=function(T){var g=T.origin,T=T.position,E=0,w=0;switch(g===s&&(E=Math.abs(this.videoSize.height-this.contentSize.height)/2,w=Math.abs(this.videoSize.width-this.contentSize.width)/2),T){case r:return{top:0+E,left:0+w};case n:return{top:0+E,right:0+w};case a:return{bottom:0+E,left:0+w};case l:return{bottom:0+E,right:0+w};default:return{top:0,left:0}}},b._formalize=function(_,g){var T=1,T=_.width/_.height>g.width/g.height?g.width/_.width:g.height/_.height;return{width:_.width*T,height:_.height*T}},b._getPixel=function(_,E){var E=E===void 0?{}:E,T=E.width,E=E.height,w=_.unit,x=_.origin;return isNaN(T)&&(T=_.width),isNaN(E)&&(E=_.height),w===h?{width:(_=x===u?this.videoSize:this.contentSize).width*T/100,height:_.height*E/100}:{width:T,height:E}},b._defauleValue=function(_){return d({},_,{position:_.position||r,offsetX:_.offsetX||0,offsetY:_.offsetY||0,origin:_.origin||u,unit:_.unit||h})},b=f,(S=[{key:"videoSize",get:function(){return this._video?{width:this._video.offsetWidth,height:this._video.offsetHeight}:{}}},{key:"contentSize",get:function(){var _;return this._video?(_={width:this._video.videoWidth,height:this._video.videoHeight},{width:(_=this._formalize(_,this.videoSize)).width,height:_.height}):{}}},{key:"loadedMeta",get:function(){return!!this._video.videoWidth}}])&&o(b.prototype,S),Object.defineProperty(b,"prototype",{writable:!1}),b})(),y=(t.exports=v,(()=>{function f(){this._frame=void 0}var S=f.prototype;return S.observe=function(b,_){var g=document.createElement("iframe");return g.style.cssText="position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none;",g.onload=function(){g.contentWindow.onresize=function(){_(b)}},b.appendChild(g),this._frame=g},S.dispose=function(){this._frame&&(this._frame.contentWindow.onresize=null,this._frame.remove(),this._frame=void 0)},f})())},{"../lib/event":38}],26:[function(e,t,m){var d=e("../lib/event"),o=e("../player/base/event/eventtype");t.exports=(()=>{function c(){this.player=void 0,this.ratio=void 0,this.resize=void 0,this.target=void 0,this.resize=this._resize.bind(this)}var u=c.prototype;return u.autoResize=function(s,r,n){n===void 0&&(n="height"),typeof s!="number"?console.warn("Parameter [ratio] should be a number, like 16/9"):(this.target=n,this.ratio=s,this.player=r,d.on(window,"resize",this.resize),this.resize())},u._resize=function(){var s,r,n;(s=this.player.fullscreenService)!=null&&s.isFullScreen||(s=(s=this.player)==null?void 0:s.el())&&(this.target==="height"?(n=(r=s.offsetWidth)/this.ratio,s.style.height=n+"px"):(r=(n=s.offsetHeight)*this.ratio,s.style.width=r+"px"),(s=this.player)!=null)&&s.trigger(o.Player.AutoResize,{width:r,height:n})},u.dispose=function(){d.off(window,"resize",this.resize),this.player=void 0,this.ratio=void 0,this.resize=void 0,this.target=void 0},c})()},{"../lib/event":38,"../player/base/event/eventtype":77}],27:[function(e,t,m){t.exports={OD:"OD",FD:"360p",LD:"540p",SD:"720p",HD:"1080p","2K":"2K","4K":"4K",FHD:"FHD",XLD:"XLD",SQ:"SQ",HQ:"HQ",Speed:"Speed",Speed_05X_Text:"0.5X",Speed_1X_Text:"Normal",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Speed_Long_Press:"2x speed",Refresh_Text:"Refresh",Cancel:"Cancel",Mute:"Mute",Click_To_Unmute:"Click to unmute",Snapshot:"Snapshot",Detection_Text:"Diagnose",Play_DateTime:"Time",Default:"Default",Quality_Change_Fail_Switch_Text:"Cannot play, switch to ",Quality_Change_Text:"Switching to ",Quality_Change_Result:"Switched to ",Quality_The_Url:"The url",AutoPlayDelayDisplayText:"Play in $$ seconds",Error_Load_Abort_Text:"Data abort erro",Error_Network_Text:"Loading failed due to network error",Error_Decode_Text:"Decode error",Error_No_Decoder_Text:"Unsupported codec",Error_Server_Network_NotSupport_Text:"Network error or  the format of video is unsupported",Error_Offline_Text:"The network is unreachable, please click Refresh",Error_Play_Text:"Error occured while playing",Error_Retry_Text:" Please close or refresh",Error_AuthKey_Text:"(HttpCode-403)Authentication expired or the domain is not in white list",Error_H5_Not_Support_Text:"The format/codec of video is not supported",Error_Not_Support_M3U8_Text:"The format of m3u8 is not supported by this explorer",Error_Not_Support_MP4_Text:"The format of mp4 is not supported by this explorer",Error_Not_Support_encrypt_Text:"To play the encrypted video,please set encryptType to 1",Error_Encrypt_Fetch_Failed_Text:"Failed to fetch the encrypted video",Error_Vod_URL_Is_Empty_Text:"The url is empty",Error_Vod_Fetch_Urls_Text:"Error occured when fetch urls from vod service，please close or refresh",Fetch_Playauth_Error:"Error occured when fetch playauth close or refresh",Error_Playauth_Decode_Text:"PlayAuth parse failed",Error_Vid_Not_Same_Text:"Cannot renew url due to vid changed",Error_Playauth_Expired_Text:"Playauth expired, please close or refresh",Error_MTS_Fetch_Urls_Text:"Error occurred while requesting mst server",Error_Load_M3U8_Failed_Text:"(HttpCode-0)The m3u8 file loaded failed,possibly due to HTTPS certificate issues, cross-origin problems, or DNS resolution failures",Error_Load_M3U8_Timeout_Text:"Timeout error occored when the m3u8 file loaded",Error_Liveshift_M3U8_Not_Found_Text:"No more liveshift video avaliable",Error_M3U8_Decode_Text:"The m3u8 file decoded failed",Error_TX_Decode_Text:"Video decoded failed",Error_Manifest_Decode_Text:"Failed to parse manifest",Error_Waiting_Timeout_Text:"Buffering timeout, please close or refresh",Error_Invalidate_Source:"Video shoud be mp4、mp3、m3u8、mpd or flv",Error_Empty_Source:"Video URL shouldn't be empty",Error_Vid_Empty_Source:"vid's video URL hasn't been fetched",Error_Mediaauth_Empty_Source:"mediaAuth's video URL hasn't been fetched",Error_Fetch_NotStream:"The vid has no stream to play",Error_Fetch_Media_Not_Found:"Data is not found",Error_Not_Found:"(HttpCode-404)Url is not found",Error_Drm_License_Request_Failed:"DRM license request failed",Error_Drm_Not_Supported:"DRM in not supported",Error_Drm_Load:"DRM load error",Error_Drm_No_Sts:"STS(accessKeyId/accessKeySecret/securityToken) is required for DRM playback",Error_Drm_Params_Missing:"Parameters for drm.widevine/fairplay, etc. are missing",Error_Region_Block_Text:"(HttpCode-403)This video is not available in your region",Error_SW_Conflict:"Service Worker conflict. Please try disabling browser extensions, restarting the browser, and closing other tabs.",Error_SW_Register_Failed:"Service Worker registration failed.",Error_SW_ScriptURL_Empty:"Please provide the swScriptURL parameter.",Error_SW_ScriptURL_Https:"The swScriptURL parameter must use an absolute address with https:// protocol.",Error_SW_ScriptURL_Scope:"The swScriptURL (subpath: @scope1@) and the current webpage (subpath: @scope2@) must be under the same subpath.",Error_SW_Version_Not_Match:"The version number of swScriptURL (@swVersion@) must match the player version (@playerVersion@).",Error_SW_ScriptURL_ILlegal:"Please provide a valid swScriptURL(@detail@).",Error_SW_Https_required:"Https is required when playing Vod's encription video",Tip_Err_Common:"please contact us for support, the error detail is:<br />",Tip_Err_Common_Short:"the error detail is:<br />",Tip_Drm_Request_Err:"The request failed with an error, please check the browser console to check whether it is caused by DNS, HTTPS certificates, or network problems. <br/> If the above tests are fine,",Tip_Drm_Secure_Context:"DRM can only be accessed under https, localhost, 127.0.0.1 web pages, and manifest and media segments must also use https.",Tip_Drm_Key_System_Unavailable:"1. This browser does not support Widevine or the current Widevine configuration<br/>2. The request that pops up in the browser was rejected by the user<br/>3. Please open the browser settings, look for the [Protected Content] setting and allow",Tip_Drm_File_Not_Allowed:"Do not use the file:// to open the file directly, you need to use a https:// to access the file",Tip_Drm_Playlist_Hierarchy:"HLS playlist level error, the main list needs to be master playlist",Tip_Drm_Info_Missing:"Please make sure the parameters of drm.widevine/fairplay you provided are valid",Tip_Drm_Unsupported:"Your browser does not currently support Widevine. If you are using Chrome, you can visit the URL chrome://components/ to locate the 'Widevine Content Decryption Module' and click on 'Update'. If this module is not present, the browser will be unable to play DRM-protected videos.",Tip_Err_Decode:"The decoding error refers to the current audio/video frame is not compatible with the browser, you can try the following methods: <br />1.chrome/edge browser open the chrome://flags, search for Hardware-accelerated video decode, select disabled<br />2.If the decoding error persists, please transcode the video to fix the problem frame",Tip_Err_Rts_Http_Failed:"The error indicates that the RTS streaming request encountered an HTTP error, which is usually related to HTTPS certificate, DNS resolution, or network connectivity issues. Due to browser restrictions on JavaScript, the player cannot obtain detailed error information. If you need further information, you can follow these steps:<br>Right-click on a blank area of the browser and select 'Inspect'.<br>2.In the newly opened interface, select 'Console'.<br>3.Check for any red error messages:<br>If you see 'SSL', it means that you have not correctly configured the HTTPS certificate for the streaming domain.<br>If you see 'NOT RESOLVED', it means that the DNS resolution for your domain has failed.<br>You can also use the <a style='color:white;text-decoration:underline;' href='https://live.console.aliyun.com/#/tool/url' target='_blank'>ApsaraVideo Live Diagnostic Tool</a> for self-diagnosis.",Tip_Err_Not_found:"For live streams, this might be due to the broadcast not starting yet, having ended, or being disrupted. For on-demand videos, it could indicate the video is unavailable.",Tip_Err_Blocked:"If you have a network proxy enabled, please try disabling it and then retrying.",Tip_Err_Splayer:"For best practices regarding playback of H.265/H.266 encoded videos, please refer to",Tip_Err_Splayer_Doc:" this document.",Tip_SW_Register:"1.Please access the webpage using HTTPS<br>2.Please ensure that the provided swScriptURL is a complete address starting with https:// and is accessible.",Tip_License_Required:"Starting 2024-12-01, the new version of the player must be configured with a license to use. The license for the basic functions of the player can be applied for free and is valid for 1 year. Please apply in advance to avoid any disruption in usage ",Tip_License_Params:"After completing the application, please refer to this document to pass the license information into the SDK ",Tip_License_Check:"Please ensure that the provided license key/domain parameters match exactly with what were obtained from the VOD/LIVE console.",Tip_License_Domain:"The current website domain does not match with your licensed domain",Tip_License_Feature:"The feature is not authorized by your license:",Tip_License_Reason:"The playback failed because your license verification was unsuccessful. Specific reason:",Live_End:"Live has finished",Play_Before_Fullscreen:"Please play before fullscreen",Can_Not_Seekable:"Can not seek to this position",Cancel_Text:"Cancel",OK_Text:"OK",Auto_Stream_Tip_Text:"Internet is slow, does switch to $$",Request_Block_Text:"This request is blocked, the video Url should be over https",Open_Html_By_File:"Html page should be on the server",Maybe_Cors_Error:"(HttpCode-0)there is a network error, possibly due to HTTPS certificate issues, cross-origin problems, or DNS resolution failures",Speed_Switch_To:"Speed switch to ",Curent_Volume:"Current volume:",Volume_Mute:"set to mute",Volume_UnMute:"set to unmute",ShiftLiveTime_Error:"Live start time should not be greater than over time",Error_Not_Support_Format_On_Mobile:"flv、rmtp can't be supported on mobile，please use m3u8",Error_Not_Support_Mse_Flv:"Flv is not supported by this browser.",Error_Not_Support_Mse_Dash:"Dash is not supported by this browser.",Error_Not_Support_RTMP:"RTMP is not supported by this browser.",SessionId_Ticket_Invalid:"please assign value for sessionId and ticket properties",Http_Error:" An HTTP network request failed with an error, but not from the server.",Http_Timeout:"A network request timed out",DRM_License_Expired:"DRM license is expired, please refresh",Not_Support_DRM:"Browser doesn't support DRM",CC_Switch_To:"Subtitle switch to ",AudioTrack_Switch_To:"Audio tracks switch to ",Subtitle:"Subtitle/CC",AudioTrack:"Audio Track",Quality:"Quality",Auto:"Auto",Quality_Switch_To:"Quality switching to ",Fullscreen:"Full Screen",Setting:"Settings",Volume:"Volume",Play:"Play",Pause:"Pause",CloseSubtitle:"Close CC",OpenSubtitle:"Open CC",ExistFullScreen:"Exit Full Screen",Muted:"Muted",Retry:"Retry",SwitchToLive:"Return to live",iOSNotSupportVodEncription:"Versions of iOS below 17.1 doesn't support Vod's private encription video",iOSVodEncriptionBlacklist:"Please use Safari/Chrome browser to play Vod's private encription video",UseChromeForVodEncription:"This browser desn't suport Vod's encription video, please use latest Chrome/Edge",Record_Not_Allowed:"Recording or playing in seperated window is not allowed, please disable related plugins or switch browser.",License_Empty:"License params are required",License_Not_Found:"Unregistered license",License_Expired:"Expired license",License_License_Key_Invalid:"Invalid license key",License_Domain_Invalid:"Unexpected domain",License_Feature_Unauthorized:"Unauthorized feature",Rts_Err_Http_Signal_Error:"(RTS)http signal error",Rts_Err_Play_Failed:"(RTS)play faild error",Rts_Err_No_Data_For:"s received no data",Rts_Err_Browser_Not_Support:"(RTS)browser not support",Rts_Err_Not_Support_Webrtc:"(RTS)not support webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)browser version too low",Rts_Err_Not_Support_H264:"(RTS)not support h264",Rts_Err_Create_Offer_Error:"(RTS)create offer error",Rts_Err_Play_Url_Error:"(RTS)play url error",Rts_Err_Subscribe_Nonthing:"(RTS)subscribe nonthing",Rts_Err_Http_Request_Failed:"(RTS)HTTP request failed",Rts_Err_Http_Answer_Failed:"(RTS)answer failed",Rts_Err_PeerConnection_Unknown:"(RTS)Unknown PeerConnection",Splayer_Err_Env_Check:"(SP)This browser can't play this media",Splayer_Err_Coroutine:"(SP)Coroutine error",Splayer_Err_Decoder:"(SP)Decode error",Splayer_Err_Buffering:"(SP)Buffering error",Splayer_Err_Parser_Not_Found:"(SP)Media container is not supported"}},{}],28:[function(e,t,m){function d(h,v,y){var f=l(h),b="",S=a(),b=S=="en-us"?e("./en-us"):S=="zh-cn"?e("./zh-cn"):v[S];y&&(b=Object.assign({},b,y[S])),c.set(f,JSON.stringify(b)),n(h,b),y&&e("../lib/constants").updateByLanguage()}var o=e("../config"),c=e("../lib/storage"),u=(e("../lib/io"),"aliplayer_lang_data"),s="aliplayer_lang",r=function(){var h;return window[s]!==void 0&&window[s]||(h=(h=(navigator.language||navigator.browserLanguage).toLowerCase())&&-1<h.indexOf("zh")?"zh-cn":"en-us",window[s]=h),window[s]},n=function(h,v){h=l(h),window[h]=v},a=function(){return r()},l=function(h){var v=a();return u+"_"+(h=h||"h5")+"_"+o.h5Version.replace(/\./g,"_")+"_"+v};t.exports.setCurrentLanguage=function(h,v,y,f){var S=window[s];(h=h!==void 0&&h?h:r())=="en-us"||h=="zh-cn"||y&&y[h]||(console.warn("There is no language resource for "+h+", please specify the language resource by languageTexts property"),h="zh-cn"),window[s]=h,d(v,y,f),h!=S&&e("../lib/constants").updateByLanguage()},t.exports.getCurrentLanguage=r,t.exports.getLanguageData=function(h,v){return h=l(h),window[h]},t.exports.load=d,t.exports.get=function(h,v,y){if(v=l(v=v||"h5"),v=window[v],v){var f=v[h];if(y)for(var S in y)f=f.replace(new RegExp("@"+S+"@","g"),y[S]);return f}}},{"../config":19,"../lib/constants":33,"../lib/io":45,"../lib/storage":52,"./en-us":27,"./zh-cn":29}],29:[function(e,t,m){t.exports={OD:"原画",FD:"流畅",LD:"标清",SD:"高清",HD:"超清","2K":"2K","4K":"4K",FHD:"全高清",XLD:"极速",SQ:"普通音质",HQ:"高音质",Speed:"倍速",Speed_05X_Text:"0.5X",Speed_1X_Text:"正常",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Speed_Long_Press:"倍速播放中",Quality_Change_Fail_Switch_Text:"不能播放，切换为",Quality_Change_Text:"正在为您切换到 ",Quality_Change_Result:"已切换到 ",Quality_The_Url:"此地址",Refresh_Text:"刷新",Detection_Text:"查看建议",Cancel:"取消",Mute:"静音",Click_To_Unmute:"点击取消静音",Snapshot:"截图",Play_DateTime:"播放时间",Default:"默认",AutoPlayDelayDisplayText:"$$秒以后开始播放",Error_Load_Abort_Text:"获取数据过程被中止",Error_Network_Text:"网络错误加载数据失败",Error_Decode_Text:"解码错误",Error_No_Decoder_Text:"不支持此编码格式",Error_Server_Network_NotSupport_Text:"服务器、网络错误或格式不支持",Error_Offline_Text:"网络不可用，请确定",Error_Play_Text:"播放出错啦",Error_Retry_Text:"请尝试退出重试或刷新",Error_AuthKey_Text:"【HttpCode-403】可能鉴权过期、域名不在白名单或请求被拦截",Error_H5_Not_Support_Text:"不支持此格式的视频",Error_Not_Support_M3U8_Text:"浏览器不支持m3u8视频播放",Error_Not_Support_MP4_Text:"浏览器不支持mp4视频播放",Error_Not_Support_encrypt_Text:"播放私有加密视频，请设置属性encryptType为1",Error_Encrypt_Fetch_Failed_Text:"请求加密地址失败",Error_Vod_URL_Is_Empty_Text:"获取播放地址为空",Error_Vod_Fetch_Urls_Text:"点播接口异常，请尝试退出重试或刷新",Fetch_Playauth_Error:"获取播放凭证出错啦，请尝试退出重试或刷新",Error_Playauth_Decode_Text:"playauth解析错误",Error_Vid_Not_Same_Text:"不能更新地址，vid和播放中的不一致",Error_Playauth_Expired_Text:"凭证已过期，请尝试退出重试或刷新",Error_MTS_Fetch_Urls_Text:"MTS获取取数失败",Error_Load_M3U8_Failed_Text:"【HttpCode-0】获取m3u8文件失败,可能是https证书、跨域问题或DNS解析失败",Error_Load_M3U8_Timeout_Text:"获取m3u8文件超时",Error_Liveshift_M3U8_Not_Found_Text:"没有更多时移视频了",Error_M3U8_Decode_Text:"获取m3u8文件解析失败",Error_TX_Decode_Text:"解析数据出错",Error_Manifest_Decode_Text:"Manifest解析出错",Error_Waiting_Timeout_Text:"缓冲数据超时，请尝试退出重试或刷新",Error_Invalidate_Source:"播放地址格式需要为mp4、mp3、m3u8、mpd或flv",Error_Empty_Source:"播放地址不能为空",Error_Vid_Empty_Source:"vid对应的视频地址还未获取到",Error_Mediaauth_Empty_Source:"mediaAuth对应的视频地址还未获取到",Error_Fetch_NotStream:"此vid没有可播放视频",Error_Fetch_Media_Not_Found:"数据不存在或已被删除",Error_Not_Found:"【HttpCode-404】播放地址不存在",Error_Drm_License_Request_Failed:"DRM License 请求失败",Error_Drm_Not_Supported:"当前浏览器不支持 DRM 播放",Error_Drm_Load:"DRM 播放错误",Error_Drm_No_Sts:"DRM 播放需要使用STS(accessKeyId/accessKeySecret/securityToken)",Error_Drm_Params_Missing:"缺少drm.widevine/fairplay等参数",Error_Region_Block_Text:"【HttpCode-403】您所在的地区无法观看该视频",Error_SW_Conflict:"ServiceWorker冲突，请尝试禁用浏览器插件、重启浏览器并关闭其他网页",Error_SW_Register_Failed:"Service Worker注册失败",Error_SW_ScriptURL_Empty:"请传入 swScriptURL 参数",Error_SW_ScriptURL_Https:"swScriptURL参数请使用 https:// 协议的绝对地址",Error_SW_ScriptURL_Scope:"swScriptURL(子路径:@scope1@)和当前网页(子路径:@scope2@)必须在同一个子路径下",Error_SW_Version_Not_Match:"swScriptURL的版本号(@swVersion@)必须和播放器版本(@playerVersion@)号一致",Error_SW_ScriptURL_ILlegal:"请传入合法的swScriptURL(@detail@)",Error_SW_Https_required:"私有加密播放需要使用 https 环境",Tip_Err_Common:"您可联系售后支持，错误详情:<br />",Tip_Err_Common_Short:"错误详情:<br />",Tip_Drm_Request_Err:"请求出错，请先查看浏览器控制台，检查是否由域名解析、https证书、或网络问题引起。<br />若以上检查没问题，",Tip_Drm_Secure_Context:"DRM仅可以在https、localhost、127.0.0.1网页下访问，同时manifest和切片也必须使用https。",Tip_Drm_Key_System_Unavailable:"1.此浏览器不支持Widevine或者当前的Widevine配置<br />2.浏览器弹出的请求被用户拒绝了<br />3.请打开浏览器设置，查找关于【受保护的内容】设置并允许",Tip_Drm_File_Not_Allowed:"请不要使用file://直接打开文件，需要使用https://访问文件",Tip_Drm_Playlist_Hierarchy:"HLS播放列表层级错误，主列表需要是 master playlist",Tip_Drm_Info_Missing:"请检查传入的drm.widevine/fairplay等参数是否有效",Tip_Drm_Unsupported:"您的浏览器不支持 Widevine，如果是 Chrome，可以访问 chrome://components/，查找 Widevine Content Decryption Module，并点击更新。如果没有此模块，则该浏览器无法播放 DRM 视频。",Tip_Err_Decode:"解码错误指的是当前音/视频帧与浏览器不兼容，可以尝试以下方式：<br />1.chrome/edge 浏览器打开chrome://flags，搜索 Hardware-accelerated video decode，选择 disabled<br />2.如果解码错误仍然存在，请对视频进行转码处理，以修复问题帧<br />3.firefox浏览器请打开about:support，下拉找到【解码器支持信息】，如果没有AAC字样，代表不支持音频解码，请更换浏览器",Tip_Err_Rts_Http_Failed:"该错误指的是RTS拉流请求遇到了一个http错误，一般来说是https证书、DNS解析或者网络连通性问题，由于浏览器对JS的限制，播放器无法取得详细的错误信息，需要进一步排查，您可按照以下操作：<br>1.右键浏览器空白处，选择【检查】2.在新打开的界面中选择【控制台】3.查看红色报错：<br>如果有SSL字样，则代表您没有为拉流域名正确地配置https证书<br>如果有NOT RESOLVED字样，则代表您的域名DNS解析失败<br>您也使用<a style='color:white;text-decoration:underline;' href='https://live.console.aliyun.com/#/tool/url' target='_blank'>阿里云直播诊断工具</a>进行自助排查",Tip_Err_Not_found:"如果是直播，可能是直播未开始/已停止/已断流；如果是点播，可能是视频不存在。",Tip_Err_Blocked:"如果您开启了网络代理，请关闭后重试。",Tip_Err_Splayer:"关于 H.265/H.266 播放的最佳实践，请参考",Tip_Err_Splayer_Doc:"此文档。",Tip_SW_Register:"1.请使用https访问网页<br>2.请确保传入的swScriptURL是以https://开头的完整地址，且可以正常访问",Tip_License_Required:"2024年12月1日起，新版本播放器需要配置License才可以使用，播放器基础功能License免费申请，有效期 1 年，请提前申请以避免无法使用",Tip_License_Params:"申请完成后，请参考此文档将License信息传入SDK",Tip_License_Check:"请确保传入的 license key/domain 参数和点播/直播控制台上获取的完全一致",Tip_License_Domain:"当前网页域名和您的 license 授权域名不一致",Tip_License_Feature:"您的license未授权功能：",Tip_License_Reason:"播放失败，因为您的 License 校验未通过，具体原因：",Live_End:"亲，直播已结束",Play_Before_Fullscreen:"播放后再全屏",Can_Not_Seekable:"不能seek到这里",Cancel_Text:"取消",OK_Text:"确认",Auto_Stream_Tip_Text:"网络不给力，是否切换到$$",Request_Block_Text:"浏览器安全策略视频地址不能为http协议，与网站https协议不一致",Open_Html_By_File:"不能直接在浏览器打开html文件，请部署到服务端",Maybe_Cors_Error:"【HttpCode-0】网络请求失败，可能是https证书、跨域问题或DNS解析失败",Speed_Switch_To:"倍速切换到 ",Curent_Volume:"当前音量：",Volume_Mute:"设置为静音",Volume_UnMute:"设置为非静音",ShiftLiveTime_Error:"直播开始时间不能大于直播结束时间",Error_Not_Support_Format_On_Mobile:"移动端不支持flv、rmtp视频，请使用m3u8",Error_Not_Support_Mse_Flv:"当前浏览器不支持 flv 视频",Error_Not_Support_Mse_Dash:"当前浏览器不支持 dash 视频",Error_Not_Support_RTMP:"浏览器不支持 rtmp 视频",SessionId_Ticket_Invalid:"DRM视频播放，sessionId和ticket属性不能为空",Http_Error:"Http网络请求失败",Http_Timeout:"http请求超时",DRM_License_Expired:"DRM license超时，请刷新",Not_Support_DRM:"浏览器不支持DRM视频的播放或未受到用户许可",CC_Switch_To:"字幕切换到 ",AudioTrack_Switch_To:"音轨切换到 ",Subtitle:"字幕",AudioTrack:"音轨",Quality:"清晰度",Auto:"自动",Quality_Switch_To:"正在切换清晰度至 ",Fullscreen:"全屏",Setting:"设置",Volume:"音量",Play:"播放",Pause:"暂停",CloseSubtitle:"关闭字幕",OpenSubtitle:"打开字幕",ExistFullScreen:"退出全屏",Muted:"静音",Retry:"重试",SwitchToLive:"返回直播",iOSNotSupportVodEncription:"iOS17.1以下不支持阿里云视频私有加密播放",iOSVodEncriptionBlacklist:"请使用Safari/Chrome浏览器播放加密视频",UseChromeForVodEncription:"浏览器不支持点播加密播放，请使用最新Chrome/Edge浏览器",Record_Not_Allowed:"禁止录屏或小窗口播放，请关闭插件或更换浏览器",License_Empty:"未配置License",License_Not_Found:"License未注册",License_Expired:"License已过期",License_License_Key_Invalid:"LicenseKey无效",License_Domain_Invalid:"域名不匹配",License_Feature_Unauthorized:"功能未授权",Rts_Err_Http_Signal_Error:"(RTS)信令请求失败",Rts_Err_Play_Failed:"(RTS)播放失败",Rts_Err_No_Data_For:"秒没有数据",Rts_Err_Browser_Not_Support:"(RTS)不支持此浏览器",Rts_Err_Not_Support_Webrtc:"(RTS)不支持webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)浏览器版本过低",Rts_Err_Not_Support_H264:"(RTS)不支持H264",Rts_Err_Create_Offer_Error:"(RTS)create offer失败",Rts_Err_Play_Url_Error:"(RTS)播放url协议错误",Rts_Err_Subscribe_Nonthing:"(RTS)参数设置错误",Rts_Err_Http_Request_Failed:"(RTS)HTTP请求失败",Rts_Err_Http_Answer_Failed:"(RTS)answer失败",Rts_Err_PeerConnection_Unknown:"(RTS)PeerConnection异常",Splayer_Err_Env_Check:"(SP)当前环境不支持播放该视频",Splayer_Err_Coroutine:"(SP)Coroutine 错误",Splayer_Err_Decode:"(SP)解码错误",Splayer_Err_Buffering:"(SP)缓冲区错误",Splayer_Err_Parser_Not_Found:"(SP)不支持的媒体容器"}},{}],30:[function(e,t,m){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(window.Uint8Array)for(var o=new Uint8Array(256),c=0;c<d.length;c++)o[d.charCodeAt(c)]=c;var u=function(s){for(var r="",n=0;n<s.length;n+=16e3){var a=s.subarray(n,n+16e3);r+=String.fromCharCode.apply(null,a)}return r};t.exports={decode:function(s){for(var r,n,a,l,y=.75*s.length,h=s.length,v=0,y=(s[s.length-1]==="="&&(y--,s[s.length-2]==="=")&&y--,new ArrayBuffer(y)),f=new Uint8Array(y),S=0;S<h;S+=4)r=o[s.charCodeAt(S)],n=o[s.charCodeAt(S+1)],a=o[s.charCodeAt(S+2)],l=o[s.charCodeAt(S+3)],f[v++]=r<<2|n>>4,f[v++]=(15&n)<<4|a>>2,f[v++]=(3&a)<<6|63&l;return y},encode:function(s){for(var r=new Uint8Array(s),n=r.length,a="",l=0;l<n;l+=3)a=(a=(a=(a+=d[r[l]>>2])+d[(3&r[l])<<4|r[l+1]>>4])+d[(15&r[l+1])<<2|r[l+2]>>6])+d[63&r[l+2]];return n%3==2?a=a.substring(0,a.length-1)+"=":n%3==1&&(a=a.substring(0,a.length-2)+"=="),a},unpackPlayReady:function(s){if(s=((v,y,f)=>{if(!v)return"";f||v.byteLength%2==0||console.log("Data has an incorrect length, must be even."),f=v instanceof ArrayBuffer?v:((f=new Uint8Array(v.byteLength)).set(new Uint8Array(v)),f.buffer);for(var S=Math.floor(v.byteLength/2),b=new Uint16Array(S),_=new DataView(f),g=0;g<S;g++)b[g]=_.getUint16(2*g,y);return u(b)})(s,!0,!0),s.indexOf("PlayReadyKeyMessage")!=-1){for(var s=new DOMParser().parseFromString(s,"application/xml"),r=s.getElementsByTagName("HttpHeader"),n={},a=0;a<r.length;++a){var l=r[a].querySelector("name"),h=r[a].querySelector("value");n[l.textContent]=h.textContent}return{header:n,changange:s.querySelector("Challenge").textContent}}console.log("PlayReady request is already unwrapped.")}}},{}],31:[function(e,t,m){function d(){d=function(){return l};var a,l={},h=Object.prototype,v=h.hasOwnProperty,I=typeof Symbol=="function"?Symbol:{},y=I.iterator||"@@iterator",f=I.asyncIterator||"@@asyncIterator",S=I.toStringTag||"@@toStringTag";function b(M,C,D,A){Object.defineProperty(M,C,{value:D,enumerable:!A,configurable:!A,writable:!A})}try{b({},"")}catch{b=function(M,C,D){return M[C]=D}}function _(M,P,D,A){var Q,ne,re,K,P=P&&P.prototype instanceof E?P:E,P=Object.create(P.prototype);return b(P,"_invoke",(Q=M,ne=D,re=new W(A||[]),K=1,function(q,Z){if(K===3)throw Error("Generator is already running");if(K===4){if(q==="throw")throw Z;return{value:a,done:!0}}for(re.method=q,re.arg=Z;;){var se=re.delegate;if(se&&(se=function pe(ce,ee){var F=ee.method,z=ce.i[F];return z===a?(ee.delegate=null,F==="throw"&&ce.i.return&&(ee.method="return",ee.arg=a,pe(ce,ee),ee.method==="throw")||F!=="return"&&(ee.method="throw",ee.arg=new TypeError("The iterator does not provide a '"+F+"' method")),T):(F=g(z,ce.i,ee.arg),F.type==="throw"?(ee.method="throw",ee.arg=F.arg,ee.delegate=null,T):(z=F.arg,z?z.done?(ee[ce.r]=z.value,ee.next=ce.n,ee.method!=="return"&&(ee.method="next",ee.arg=a),ee.delegate=null,T):z:(ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,T)))}(se,re),se)){if(se===T)continue;return se}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(K===1)throw K=4,re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);if(K=3,se=g(Q,ne,re),se.type==="normal"){if(K=re.done?4:2,se.arg===T)continue;return{value:se.arg,done:re.done}}se.type==="throw"&&(K=4,re.method="throw",re.arg=se.arg)}}),!0),P}function g(M,C,D){try{return{type:"normal",arg:M.call(C,D)}}catch(A){return{type:"throw",arg:A}}}l.wrap=_;var T={};function E(){}function w(){}function x(){}var I={},R=(b(I,y,function(){return this}),Object.getPrototypeOf),R=R&&R(R(B([]))),k=(R&&R!==h&&v.call(R,y)&&(I=R),x.prototype=E.prototype=Object.create(I));function L(M){["next","throw","return"].forEach(function(C){b(M,C,function(D){return this._invoke(C,D)})})}function N(M,C){var D;b(this,"_invoke",function(A,Q){function ne(){return new C(function(re,K){(function P(ee,Z,se,pe){var ce,ee=g(M[ee],M,Z);if(ee.type!=="throw")return(Z=(ce=ee.arg).value)&&typeof Z=="object"&&v.call(Z,"__await")?C.resolve(Z.__await).then(function(F){P("next",F,se,pe)},function(F){P("throw",F,se,pe)}):C.resolve(Z).then(function(F){ce.value=F,se(ce)},function(F){return P("throw",F,se,pe)});pe(ee.arg)})(A,Q,re,K)})}return D=D?D.then(ne,ne):ne()},!0)}function j(M){this.tryEntries.push(M)}function U(M){var C=M[4]||{};C.type="normal",C.arg=a,M[4]=C}function W(M){this.tryEntries=[[-1]],M.forEach(j,this),this.reset(!0)}function B(M){if(M!=null){var C,D=M[y];if(D)return D.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length))return C=-1,(D=function A(){for(;++C<M.length;)if(v.call(M,C))return A.value=M[C],A.done=!1,A;return A.value=a,A.done=!0,A}).next=D}throw new TypeError(typeof M+" is not iterable")}return b(k,"constructor",w.prototype=x),b(x,"constructor",w),b(x,S,w.displayName="GeneratorFunction"),l.isGeneratorFunction=function(M){return M=typeof M=="function"&&M.constructor,!!M&&(M===w||(M.displayName||M.name)==="GeneratorFunction")},l.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,x):(M.__proto__=x,b(M,S,"GeneratorFunction")),M.prototype=Object.create(k),M},l.awrap=function(M){return{__await:M}},L(N.prototype),b(N.prototype,f,function(){return this}),l.AsyncIterator=N,l.async=function(M,C,D,A,Q){Q===void 0&&(Q=Promise);var ne=new N(_(M,C,D,A),Q);return l.isGeneratorFunction(C)?ne:ne.next().then(function(re){return re.done?re.value:ne.next()})},L(k),b(k,S,"Generator"),b(k,y,function(){return this}),b(k,"toString",function(){return"[object Generator]"}),l.keys=function(M){var C,D=Object(M),A=[];for(C in D)A.unshift(C);return function Q(){for(;A.length;)if((C=A.pop())in D)return Q.value=C,Q.done=!1,Q;return Q.done=!0,Q}},l.values=B,W.prototype={constructor:W,reset:function(M){if(this.prev=this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(U),!M)for(var C in this)C.charAt(0)==="t"&&v.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=a)},stop:function(){this.done=!0;var M=this.tryEntries[0][4];if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var C=this;function D(q){ne.type="throw",ne.arg=M,C.next=q}for(var A=C.tryEntries.length-1;0<=A;--A){var Q=this.tryEntries[A],ne=Q[4],re=this.prev,K=Q[1],P=Q[2];if(Q[0]===-1)return D("end"),!1;if(!K&&!P)throw Error("try statement without catch or finally");if(Q[0]!=null&&Q[0]<=re){if(re<K)return this.method="next",this.arg=a,D(K),!0;if(re<P)return D(P),!1}}},abrupt:function(M,C){for(var D=this.tryEntries.length-1;0<=D;--D){var A=this.tryEntries[D];if(-1<A[0]&&A[0]<=this.prev&&this.prev<A[2]){var Q=A;break}}var ne=(Q=Q&&(M==="break"||M==="continue")&&Q[0]<=C&&C<=Q[2]?null:Q)?Q[4]:{};return ne.type=M,ne.arg=C,Q?(this.method="next",this.next=Q[2],T):this.complete(ne)},complete:function(M,C){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&C&&(this.next=C),T},finish:function(M){for(var C=this.tryEntries.length-1;0<=C;--C){var D=this.tryEntries[C];if(D[2]===M)return this.complete(D[4],D[3]),U(D),T}},catch:function(M){for(var C=this.tryEntries.length-1;0<=C;--C){var D,A,Q=this.tryEntries[C];if(Q[0]===M)return(D=Q[4]).type==="throw"&&(A=D.arg,U(Q)),A}throw Error("illegal catch attempt")},delegateYield:function(M,C,D){return this.delegate={i:B(M),r:C,n:D},this.method==="next"&&(this.arg=a),T}},l}function o(a,l,h,v,y,f,S){try{var b=a[f](S),_=b.value}catch(g){return h(g)}b.done?l(_):Promise.resolve(_).then(v,y)}var c=typeof Promise>"u"?e("es6-promise").Promise:Promise,u=e("./io"),s=e("../config");function r(){}function n(){var a;return a=d().mark(function l(h,v,y,f){var S,b;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(v===void 0&&(v={}),y===void 0&&(y=r),f===void 0&&(f=r),window.VideoxMuxer){_.next=14;break}_.prev=4,_.next=7;var g=v;return new c(function(T,E){var w="videox-muxer.min.js",x="https://"+s.domain+s.path+s.h5Version+"/splayer/"+w;g.assetPrefix&&(x=g.assetPrefix+"/splayer/"+w),u.loadJS(x,function(){T()},function(){E()})});case 7:_.next=14;break;case 9:return _.prev=9,_.t0=_.catch(4),console.error("load videox-demuxer failed"),f("load videox-demuxer failed"),_.abrupt("return");case 14:S=window.VideoxMuxer.Demuxer,(b=new S({progressive:!0})).on("loadedmetadata",function(T){T===void 0&&(T={}),b.suspend(),b.destroy(),b=null,y(T)}),b.on("error",function(T){f(T),b.suspend(),b.destroy(),b=null}),b.load(h);case 19:case"end":return _.stop()}},l,null,[[4,9]])}),(n=function(){var l=this,h=arguments;return new Promise(function(v,y){var f=a.apply(l,h);function S(_){o(f,v,y,S,b,"next",_)}function b(_){o(f,v,y,S,b,"throw",_)}S(void 0)})}).apply(this,arguments)}t.exports=function(a,l,h,v){return n.apply(this,arguments)}},{"../config":19,"./io":45,"es6-promise":13}],32:[function(e,t,m){var d=e("./oo"),o=e("../player/base/event/eventtype");t.exports.stopPropagation=function(c){window.event?window.event.cancelBubble=!0:c.stopPropagation()},t.exports.register=function(c){c.util={stopPropagation:t.exports.stopPropagation},c.Component=d.extend,c.EventType=o.Player}},{"../player/base/event/eventtype":77,"./oo":48}],33:[function(e,t,m){function d(){t.exports.VideoErrorCodeText={1:o.get("Error_Load_Abort_Text"),2:o.get("Error_Network_Text"),3:o.get("Error_Decode_Text"),4:o.get("Error_Server_Network_NotSupport_Text")},t.exports.VideoLevels={0:o.get("OD"),640:o.get("FD"),960:o.get("LD"),1280:o.get("SD"),1920:o.get("HD"),2580:o.get("2K"),3840:o.get("4K")},t.exports.QualityLevels={OD:o.get("OD"),LD:o.get("LD"),FD:o.get("FD"),SD:o.get("SD"),HD:o.get("HD"),"2K":o.get("2K"),"4K":o.get("4K"),XLD:o.get("XLD"),FHD:o.get("FHD"),SQ:o.get("SQ"),HQ:o.get("HQ")},t.exports.SpeedLevels=[{key:.5,text:o.get("Speed_05X_Text")},{key:1,text:o.get("Speed_1X_Text")},{key:1.25,text:o.get("Speed_125X_Text")},{key:1.5,text:o.get("Speed_15X_Text")},{key:2,text:o.get("Speed_2X_Text")}]}var o=e("../lang/index");t.exports.LOAD_START="loadstart",t.exports.LOADED_METADATA="loadedmetadata",t.exports.LOADED_DATA="loadeddata",t.exports.PROGRESS="progress",t.exports.CAN_PLAY="canplay",t.exports.CAN_PLYA_THROUGH="canplaythrough",t.exports.PLAY="play",t.exports.PAUSE="pause",t.exports.ENDED="ended",t.exports.PLAYING="playing",t.exports.WAITING="waiting",t.exports.ERROR="error",t.exports.SUSPEND="suspend",t.exports.STALLED="stalled",t.exports.DASH_QUALITY_PROTOCOL="quality_index://",t.exports.AuthKeyExpiredEvent="authkeyexpired",t.exports.USER_EVENT_NAME="__user_events__",t.exports.PLAYER_SCOPE="__aliplayerMessage__",t.exports.SW_MSG_EVT={SETUP:"setup",SETUP_ACK:"setupAck",DISPOSE:"dispose",ENC_SEGMENT:"encSegment",DEC_SEGMENT:"decSegment",ABORT_SEGMENT:"abortSegment"},t.exports.DM_MSG_EVT={SETUP:"setup",DEMUX:"demux",RESULT:"result",FLUSH:"flush",DISPOSE:"dispose",DISPOSED:"disposed",ERROR:"error"},t.exports.PLAYER_SDK_CODE_LEGACY=9201,t.exports.PLAYER_SDK_CODE=9203,t.exports.FEATURE_ID_H265=30001,t.exports.FEATURE_ID_H266=30002,t.exports.LicenseResultCode={Success:0,NotFound:1,Expired:2,CertInvalid:3,WasmNotSupported:4,ResourceIncorrect:5,LicenseKeyInvalid:6,DomainInvalid:7},t.exports.LicenseErrorKey={Empty:"License_Empty",NotFound:"License_Not_Found",Expired:"License_Expired",CertInvalid:"License_Cert_Invalid",LicenseKeyInvalid:"License_License_Key_Invalid",DomainInvalid:"License_Domain_Invalid",Unauthorized:"License_Feature_Unauthorized"},t.exports.DRMKeySystem={4:"com.microsoft.playready",5:"com.widevine.alpha"},t.exports.EncryptionType={Private:1,Standard:2,ChinaDRM:3,PlayReady:4,Widevine:5},t.exports.VodEncryptionType={AliyunVoDEncryption:1,HLSEncryption:2,Widevine:5,"Widevine-FairPlay":5},t.exports.DRMType={Widevine:"Widevine",PlayReady:"PlayReady"},t.exports.ErrorCode={InvalidParameter:4001,AuthKeyExpired:4002,InvalidSourceURL:4003,NotFoundSourceURL:4004,StartLoadData:4005,LoadedMetadata:4006,PlayingError:4007,LoadingTimeout:4008,RequestDataError:4009,EncrptyVideoNotSupport:4010,FormatNotSupport:4011,PlayauthDecode:4012,PlayDataDecode:4013,NetworkUnavaiable:4014,UserAbort:4015,NetworkError:4016,URLsIsEmpty:4017,DrmLicenseRequestFailed:4018,RecordNotAllowed:4019,MediaNotFound:4020,DrmNotSupported:4021,DrmLoadError:4022,RegionBlock:4023,ModuleLoadError:4034,LicenseError:4035,CrossDomain:4027,OtherError:4400,ServerAPIError:4500,FlashNotInstalled:4600,RtsSignalError:4100,RtsPlayFailedError:4200,RtsNotSupportWebRtc:4110,RtsBrowserNotSupport:4111,RtsBrowserVersionTooLow:4112,RtsNotSupportH264:4113,RtsCreateOfferError:4114,RtsAutoPLayFaild:4115,RtsPlayUrlError:4116,RtsSubscribeNonthing:4117,RtsHtmlElementError:4118,RtsHtmlElementNotMatch:4119,RtsBrowserNotSupportRtc:4120,RtsHttpRequestFaild:4121,RtsHttpAnswerFaild:4122,RtsPeerConnectionUnknown:4123,SplayerEnvCheckError:4300,SplayerCoroutineError:4301,SplayerDecodeError:4302,SplayerBufferingError:4303,SplayerParserNotFound:4304},t.exports.AuthKeyExpired=7200,t.exports.AuthKeyRefreshExpired=7e3,t.exports.AuthInfoExpired=100,t.exports.VideoErrorCode={1:4015,2:4016,3:4013,4:4400},t.exports.RegionBlockMessages=["black location","denied by region block"],t.exports.IconType={FontClass:"fontclass",Symbol:"symbol",Sprite:"Sprite"},t.exports.SelectedStreamLevel="selectedStreamLevel",t.exports.SelectedCC="selectedCC",t.exports.HWDetectHvc1="HWDetectHvc1",t.exports.HWDetectHvc1Hls="HWDetectHvc1Hls",t.exports.HWDetectHev1="HWDetectHev1",t.exports.HWDetectHev1Hls="HWDetectHev1Hls",t.exports.WidthMapToLevel={0:"OD",640:"FD",960:"LD",1280:"SD",1920:"HD",2580:"2K",3840:"4K"},d(),t.exports.updateByLanguage=d},{"../lang/index":28}],34:[function(e,t,m){t.exports.get=function(d){for(var o=d+"",c=document.cookie.split(";"),u=0;u<c.length;u++){var s=c[u].trim();if(s.indexOf(o)==0)return unescape(s.substring(o.length+1,s.length))}return""},t.exports.set=function(d,o,s){var u=new Date,s=(u.setTime(u.getTime()+24*s*60*60*1e3),"expires="+u.toGMTString());document.cookie=d+"="+escape(o)+"; "+s}},{}],35:[function(e,t,m){var d=e("./object");t.exports.cache={},t.exports.guid=function(o,c){var u,s,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(c=c||r.length,o)for(u=0;u<o;u++)n[u]=r[0|Math.random()*c];else for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",u=0;u<36;u++)n[u]||(s=0|16*Math.random(),n[u]=r[u==19?3&s|8:s]);return n.join("")},t.exports.expando="vdata"+new Date().getTime(),t.exports.getData=function(o){var c=o[t.exports.expando];return c||(c=o[t.exports.expando]=t.exports.guid(),t.exports.cache[c]={}),t.exports.cache[c]},t.exports.hasData=function(o){var c="";return!(!(c=o?o[t.exports.expando]:c)||d.isEmpty(t.exports.cache[c]))},t.exports.removeData=function(o){var c="";if(c=o?o[t.exports.expando]:c){delete t.exports.cache[c];try{delete o[t.exports.expando]}catch{o.removeAttribute?o.removeAttribute(t.exports.expando):o[t.exports.expando]=null}}}},{"./object":47}],36:[function(e,t,m){var d,o=typeof Promise>"u"?e("es6-promise").Promise:Promise;e=typeof self<"u"?self:this,d=function(){return u=[function(r,n,a){(function(l){n.b=function(y){for(var f=(y=y===void 0?{}:y).includes,y=y.excludes,y=y===void 0?[]:y,S=!1,b=!1,_=0,g=f===void 0?[]:f;_<g.length;_++)if(g[_]===!0){S=!0;break}for(var T=0,E=y;T<E.length;T++)if(E[T]===!0){b=!0;break}return S&&!b},n.c=function(y,f,S){return y=v.a[y],y!==void 0&&Object(h.compare)(y,f,S)},n.a=function(){return typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:this};var h=a(11),v=(a.n(h),a(4))}).call(n,a(10))},function(r,h,v){v.d(h,"c",function(){return y}),v.d(h,"d",function(){return f}),v.d(h,"b",function(){return S}),v.d(h,"f",function(){return b}),v.d(h,"a",function(){return _}),v.d(h,"e",function(){return g});var l,h=v(3),v=v(0),v=Object(v.a)(),y="InstallTrigger"in(v?.window||{})||/firefox/i.test(h.b),f=/trident/i.test(h.b)||/msie/i.test(h.b),S=/edge/i.test(h.b),b=/webkit/i.test(h.b)&&!S,_=((l=v?.window)==null?void 0:l.chrome)!==void 0||/chrome/i.test(h.b),g=(((v=(l=v?.window)==null?void 0:l.safari)==null?void 0:v.pushNotification)||!1).toString()==="[object SafariRemoteNotification]"||/safari/i.test(h.b)&&!_},function(r,n,a){a.d(n,"b",function(){return v}),a.d(n,"c",function(){return y}),a.d(n,"a",function(){return f});var l=a(1);function h(S){if(console){if(!l.d&&!l.b)return console[S];if(S==="log"||S==="clear")return function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];console[S].apply(console,b)}}return function(){}}var v=h("log"),y=h("table"),f=h("clear")},function(r,l,a){l.a=function(){for(var y,f=[],S=0;S<arguments.length;S++)f[S]=arguments[S];return h!=null&&h.document?(y=h.document).createElement.apply(y,f):{}},a.d(l,"b",function(){return v});var l=a(0),h=Object(l.a)(),v=((a=h?.navigator)==null?void 0:a.userAgent)||"xxxxx"},function(r,n,a){a.d(n,"a",function(){return l});for(var l={},h=0,v=(a(3).b||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];h<v.length;h++){var y=v[h].split("/"),f=y[0];l[f]=y[1]}},function(r,l,a){a.d(l,"b",function(){return h}),a.d(l,"d",function(){return v}),a.d(l,"c",function(){return y}),a.d(l,"a",function(){return f}),a.d(l,"e",function(){return S});var l=a(3),h=/ipad/i.test(l.b),v=/macintosh/i.test(l.b),y=/iphone/i.test(l.b),f=/android/i.test(l.b),S=/windows/i.test(l.b)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addListener=function(T){g.addListener(T)},n.removeListener=function(T){g.removeListener(T)},n.isLaunch=function(){return g.isLaunch()},n.launch=function(){g.launch()},n.stop=function(){g.stop()},n.setDetectDelay=function(T){g.setDetectDelay(T)};var l=a(7),h=a(8),v=(a.d(n,"DevtoolsDetector",function(){return l.a}),a.d(n,"checkers",function(){return h}),a(0)),y=(a.d(n,"match",function(){return v.b}),a.d(n,"specificVersionMatch",function(){return v.c}),a(1)),f=(a.d(n,"isFirefox",function(){return y.c}),a.d(n,"isIE",function(){return y.d}),a.d(n,"isEdge",function(){return y.b}),a.d(n,"isWebkit",function(){return y.f}),a.d(n,"isChrome",function(){return y.a}),a.d(n,"isSafari",function(){return y.e}),a(2)),S=(a.d(n,"log",function(){return f.b}),a.d(n,"table",function(){return f.c}),a.d(n,"clear",function(){return f.a}),a(17)),b=(a.d(n,"isMobile",function(){return S.a}),a(4)),_=(a.d(n,"versionMap",function(){return b.a}),a(5)),g=(a.d(n,"isIpad",function(){return _.b}),a.d(n,"isMac",function(){return _.d}),a.d(n,"isIphone",function(){return _.c}),a.d(n,"isAndroid",function(){return _.a}),a.d(n,"isWindows",function(){return _.e}),new l.a({checkers:[h.elementIdChecker,h.regToStringChecker,h.functionToStringChecker,h.depRegToStringChecker,h.dateToStringChecker,h.debuggerChecker]}));n.default=g},function(r,n,a){a.d(n,"a",function(){return v});var l=this&&this.__awaiter||function(f,S,b,_){return new(b=b||o)(function(g,T){function E(I){try{x(_.next(I))}catch(R){T(R)}}function w(I){try{x(_.throw(I))}catch(R){T(R)}}function x(I){var R;I.done?g(I.value):((R=I.value)instanceof b?R:new b(function(k){k(R)})).then(E,w)}x((_=_.apply(f,S||[])).next())})},h=this&&this.__generator||function(f,S){var b,_,g,T={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]},E={next:w(0),throw:w(1),return:w(2)};return typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function w(x){return function(I){var R=[x,I];if(b)throw new TypeError("Generator is already executing.");for(;T;)try{if(b=1,_&&(g=2&R[0]?_.return:R[0]?_.throw||((g=_.return)&&g.call(_),0):_.next)&&!(g=g.call(_,R[1])).done)return g;switch(_=0,(R=g?[2&R[0],g.value]:R)[0]){case 0:case 1:g=R;break;case 4:return T.label++,{value:R[1],done:!1};case 5:T.label++,_=R[1],R=[0];continue;case 7:R=T.ops.pop(),T.trys.pop();continue;default:if(!(g=0<(g=T.trys).length&&g[g.length-1])&&(R[0]===6||R[0]===2)){T=0;continue}if(R[0]===3&&(!g||R[1]>g[0]&&R[1]<g[3]))T.label=R[1];else if(R[0]===6&&T.label<g[1])T.label=g[1],g=R;else{if(!(g&&T.label<g[2])){g[2]&&T.ops.pop(),T.trys.pop();continue}T.label=g[2],T.ops.push(R)}}R=S.call(f,T)}catch(k){R=[6,k],_=0}finally{b=g=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}}},v=(y.prototype.launch=function(){this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop())},y.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},y.prototype.isLaunch=function(){return!this._detectLoopStopped},y.prototype.setDetectDelay=function(f){this._detectLoopDelay=f},y.prototype.addListener=function(f){this._listeners.push(f)},y.prototype.removeListener=function(f){this._listeners=this._listeners.filter(function(S){return S!==f})},y.prototype._broadcast=function(f){for(var S=0,b=this._listeners;S<b.length;S++){var _=b[S];try{_(f.isOpen,f)}catch{}}},y.prototype._detectLoop=function(){return l(this,void 0,void 0,function(){var f,S,b,_,g,T=this;return h(this,function(E){switch(E.label){case 0:f=!1,S="",b=0,_=this._checkers,E.label=1;case 1:return b<_.length?[4,(g=_[b]).isEnable()]:[3,6];case 2:return E.sent()?(S=g.name,[4,g.isOpen()]):[3,4];case 3:f=E.sent(),E.label=4;case 4:if(f)return[3,6];E.label=5;case 5:return b++,[3,1];case 6:return f!=this._isOpen&&(this._isOpen=f,this._broadcast({isOpen:f,checkerName:S})),0<this._detectLoopDelay?this._timer=setTimeout(function(){return T._detectLoop()},this._detectLoopDelay):this.stop(),[2]}})})},y);function y(f){f=f.checkers,this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=f.slice()}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var l=a(9),h=(a.d(n,"depRegToStringChecker",function(){return l.a}),a(12)),v=(a.d(n,"elementIdChecker",function(){return h.a}),a(13)),y=(a.d(n,"functionToStringChecker",function(){return v.a}),a(14)),f=(a.d(n,"regToStringChecker",function(){return y.a}),a(15)),S=(a.d(n,"debuggerChecker",function(){return f.a}),a(16));a.d(n,"dateToStringChecker",function(){return S.a})},function(r,n,a){a.d(n,"a",function(){return _});var l=a(1),h=a(2),v=a(0),y=this&&this.__awaiter||function(g,T,E,w){return new(E=E||o)(function(x,I){function R(N){try{L(w.next(N))}catch(j){I(j)}}function k(N){try{L(w.throw(N))}catch(j){I(j)}}function L(N){var j;N.done?x(N.value):((j=N.value)instanceof E?j:new E(function(U){U(j)})).then(R,k)}L((w=w.apply(g,T||[])).next())})},f=this&&this.__generator||function(g,T){var E,w,x,I={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]},R={next:k(0),throw:k(1),return:k(2)};return typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(L){return function(N){var j=[L,N];if(E)throw new TypeError("Generator is already executing.");for(;I;)try{if(E=1,w&&(x=2&j[0]?w.return:j[0]?w.throw||((x=w.return)&&x.call(w),0):w.next)&&!(x=x.call(w,j[1])).done)return x;switch(w=0,(j=x?[2&j[0],x.value]:j)[0]){case 0:case 1:x=j;break;case 4:return I.label++,{value:j[1],done:!1};case 5:I.label++,w=j[1],j=[0];continue;case 7:j=I.ops.pop(),I.trys.pop();continue;default:if(!(x=0<(x=I.trys).length&&x[x.length-1])&&(j[0]===6||j[0]===2)){I=0;continue}if(j[0]===3&&(!x||j[1]>x[0]&&j[1]<x[3]))I.label=j[1];else if(j[0]===6&&I.label<x[1])I.label=x[1],x=j;else{if(!(x&&I.label<x[2])){x[2]&&I.ops.pop(),I.trys.pop();continue}I.label=x[2],I.ops.push(j)}}j=T.call(g,I)}catch(U){j=[6,U],w=0}finally{E=x=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},S=/ /,b=!1,_=(S.toString=function(){return b=!0,_.name},{name:"dep-reg-to-string",isOpen:function(){return y(this,void 0,void 0,function(){return f(this,function(g){return b=!1,Object(h.c)({dep:S}),Object(h.a)(),[2,b]})})},isEnable:function(){return y(this,void 0,void 0,function(){return f(this,function(g){return[2,Object(v.b)({includes:[!0],excludes:[l.c,l.d]})]})})}})},function(r,n){var a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,n,a){var l;(n=typeof(l=function(){var h=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function v(g){var T=g.replace(/^v/,"").replace(/\+.*$/,""),E=function(x,I){return x.indexOf(I)===-1?x.length:x.indexOf(I)}(T,"-"),w=T.substring(0,E).split(".");return w.push(T.substring(E+1)),w}function y(g){return isNaN(Number(g))?g:Number(g)}function f(g){if(typeof g!="string")throw new TypeError("Invalid argument expected string");if(!h.test(g))throw new Error("Invalid argument not valid semver ('"+g+"' received)")}function S(g,T){[g,T].forEach(f);for(var E=v(g),w=v(T),x=0;x<Math.max(E.length-1,w.length-1);x++){var I=parseInt(E[x]||0,10),R=parseInt(w[x]||0,10);if(I>R)return 1;if(R>I)return-1}var k=E[E.length-1],L=w[w.length-1];if(k&&L){var N=k.split(".").map(y),j=L.split(".").map(y);for(x=0;x<Math.max(N.length,j.length);x++){if(N[x]===void 0||typeof j[x]=="string"&&typeof N[x]=="number")return-1;if(j[x]===void 0||typeof N[x]=="string"&&typeof j[x]=="number"||N[x]>j[x])return 1;if(j[x]>N[x])return-1}}else if(k||L)return k?-1:1;return 0}var b=[">",">=","=","<","<="],_={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return S.validate=function(g){return typeof g=="string"&&h.test(g)},S.compare=function(g,T,E){(function(x){if(typeof x!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof x);if(b.indexOf(x)===-1)throw new TypeError("Invalid operator, expected one of "+b.join("|"))})(E);var w=S(g,T);return _[E].indexOf(w)>-1},S})=="function"?l.apply(n,[]):l)!==void 0&&(r.exports=n)},function(r,y,a){a.d(y,"a",function(){return g});var l=a(1),h=a(2),v=a(0),y=a(3),f=this&&this.__awaiter||function(T,E,w,x){return new(w=w||o)(function(I,R){function k(j){try{N(x.next(j))}catch(U){R(U)}}function L(j){try{N(x.throw(j))}catch(U){R(U)}}function N(j){var U;j.done?I(j.value):((U=j.value)instanceof w?U:new w(function(W){W(U)})).then(k,L)}N((x=x.apply(T,E||[])).next())})},S=this&&this.__generator||function(T,E){var w,x,I,R={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]},k={next:L(0),throw:L(1),return:L(2)};return typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function L(N){return function(j){var U=[N,j];if(w)throw new TypeError("Generator is already executing.");for(;R;)try{if(w=1,x&&(I=2&U[0]?x.return:U[0]?x.throw||((I=x.return)&&I.call(x),0):x.next)&&!(I=I.call(x,U[1])).done)return I;switch(x=0,(U=I?[2&U[0],I.value]:U)[0]){case 0:case 1:I=U;break;case 4:return R.label++,{value:U[1],done:!1};case 5:R.label++,x=U[1],U=[0];continue;case 7:U=R.ops.pop(),R.trys.pop();continue;default:if(!(I=0<(I=R.trys).length&&I[I.length-1])&&(U[0]===6||U[0]===2)){R=0;continue}if(U[0]===3&&(!I||U[1]>I[0]&&U[1]<I[3]))R.label=U[1];else if(U[0]===6&&R.label<I[1])R.label=I[1],I=U;else{if(!(I&&R.label<I[2])){I[2]&&R.ops.pop(),R.trys.pop();continue}R.label=I[2],R.ops.push(U)}}U=E.call(T,R)}catch(W){U=[6,W],x=0}finally{w=I=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}},b=Object(y.a)("div"),_=!1,g=(Object.defineProperty(b,"id",{get:function(){return _=!0,g.name},configurable:!0}),{name:"element-id",isOpen:function(){return f(this,void 0,void 0,function(){return S(this,function(T){return _=!1,Object(h.b)(b),Object(h.a)(),[2,_]})})},isEnable:function(){return f(this,void 0,void 0,function(){return S(this,function(T){return[2,Object(v.b)({includes:[!0],excludes:[l.d,l.b,l.c]})]})})}})},function(r,n,a){a.d(n,"a",function(){return g});var l=a(1),h=a(2),v=a(5),y=a(0),f=this&&this.__awaiter||function(T,E,w,x){return new(w=w||o)(function(I,R){function k(j){try{N(x.next(j))}catch(U){R(U)}}function L(j){try{N(x.throw(j))}catch(U){R(U)}}function N(j){var U;j.done?I(j.value):((U=j.value)instanceof w?U:new w(function(W){W(U)})).then(k,L)}N((x=x.apply(T,E||[])).next())})},S=this&&this.__generator||function(T,E){var w,x,I,R={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]},k={next:L(0),throw:L(1),return:L(2)};return typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function L(N){return function(j){var U=[N,j];if(w)throw new TypeError("Generator is already executing.");for(;R;)try{if(w=1,x&&(I=2&U[0]?x.return:U[0]?x.throw||((I=x.return)&&I.call(x),0):x.next)&&!(I=I.call(x,U[1])).done)return I;switch(x=0,(U=I?[2&U[0],I.value]:U)[0]){case 0:case 1:I=U;break;case 4:return R.label++,{value:U[1],done:!1};case 5:R.label++,x=U[1],U=[0];continue;case 7:U=R.ops.pop(),R.trys.pop();continue;default:if(!(I=0<(I=R.trys).length&&I[I.length-1])&&(U[0]===6||U[0]===2)){R=0;continue}if(U[0]===3&&(!I||U[1]>I[0]&&U[1]<I[3]))R.label=U[1];else if(U[0]===6&&R.label<I[1])R.label=I[1],I=U;else{if(!(I&&R.label<I[2])){I[2]&&R.ops.pop(),R.trys.pop();continue}R.label=I[2],R.ops.push(U)}}U=E.call(T,R)}catch(W){U=[6,W],x=0}finally{w=I=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}};function b(){}var _=0,g=(b.toString=function(){return _++,""},{name:"function-to-string",isOpen:function(){return f(this,void 0,void 0,function(){return S(this,function(T){return _=0,Object(h.b)(b),Object(h.a)(),[2,_===2]})})},isEnable:function(){return f(this,void 0,void 0,function(){return S(this,function(T){return[2,Object(y.b)({includes:[!0],excludes:[l.c,(v.b||v.c)&&l.a]})]})})}})},function(r,n,a){a.d(n,"a",function(){return _});var l=a(2),h=a(1),v=a(0),y=this&&this.__awaiter||function(g,T,E,w){return new(E=E||o)(function(x,I){function R(N){try{L(w.next(N))}catch(j){I(j)}}function k(N){try{L(w.throw(N))}catch(j){I(j)}}function L(N){var j;N.done?x(N.value):((j=N.value)instanceof E?j:new E(function(U){U(j)})).then(R,k)}L((w=w.apply(g,T||[])).next())})},f=this&&this.__generator||function(g,T){var E,w,x,I={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]},R={next:k(0),throw:k(1),return:k(2)};return typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(L){return function(N){var j=[L,N];if(E)throw new TypeError("Generator is already executing.");for(;I;)try{if(E=1,w&&(x=2&j[0]?w.return:j[0]?w.throw||((x=w.return)&&x.call(w),0):w.next)&&!(x=x.call(w,j[1])).done)return x;switch(w=0,(j=x?[2&j[0],x.value]:j)[0]){case 0:case 1:x=j;break;case 4:return I.label++,{value:j[1],done:!1};case 5:I.label++,w=j[1],j=[0];continue;case 7:j=I.ops.pop(),I.trys.pop();continue;default:if(!(x=0<(x=I.trys).length&&x[x.length-1])&&(j[0]===6||j[0]===2)){I=0;continue}if(j[0]===3&&(!x||j[1]>x[0]&&j[1]<x[3]))I.label=j[1];else if(j[0]===6&&I.label<x[1])I.label=x[1],x=j;else{if(!(x&&I.label<x[2])){x[2]&&I.ops.pop(),I.trys.pop();continue}I.label=x[2],I.ops.push(j)}}j=T.call(g,I)}catch(U){j=[6,U],w=0}finally{E=x=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},S=/ /,b=!1,_=(S.toString=function(){return b=!0,_.name},{name:"reg-to-string",isOpen:function(){return y(this,void 0,void 0,function(){return f(this,function(g){return b=!1,Object(l.b)(S),Object(l.a)(),[2,b]})})},isEnable:function(){return y(this,void 0,void 0,function(){return f(this,function(g){return[2,Object(v.b)({includes:[!0],excludes:[h.f]})]})})}})},function(r,n,a){a.d(n,"a",function(){return y});var l=this&&this.__awaiter||function(f,S,b,_){return new(b=b||o)(function(g,T){function E(I){try{x(_.next(I))}catch(R){T(R)}}function w(I){try{x(_.throw(I))}catch(R){T(R)}}function x(I){var R;I.done?g(I.value):((R=I.value)instanceof b?R:new b(function(k){k(R)})).then(E,w)}x((_=_.apply(f,S||[])).next())})},h=this&&this.__generator||function(f,S){var b,_,g,T={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]},E={next:w(0),throw:w(1),return:w(2)};return typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function w(x){return function(I){var R=[x,I];if(b)throw new TypeError("Generator is already executing.");for(;T;)try{if(b=1,_&&(g=2&R[0]?_.return:R[0]?_.throw||((g=_.return)&&g.call(_),0):_.next)&&!(g=g.call(_,R[1])).done)return g;switch(_=0,(R=g?[2&R[0],g.value]:R)[0]){case 0:case 1:g=R;break;case 4:return T.label++,{value:R[1],done:!1};case 5:T.label++,_=R[1],R=[0];continue;case 7:R=T.ops.pop(),T.trys.pop();continue;default:if(!(g=0<(g=T.trys).length&&g[g.length-1])&&(R[0]===6||R[0]===2)){T=0;continue}if(R[0]===3&&(!g||R[1]>g[0]&&R[1]<g[3]))T.label=R[1];else if(R[0]===6&&T.label<g[1])T.label=g[1],g=R;else{if(!(g&&T.label<g[2])){g[2]&&T.ops.pop(),T.trys.pop();continue}T.label=g[2],T.ops.push(R)}}R=S.call(f,T)}catch(k){R=[6,k],_=0}finally{b=g=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}}};function v(){return(performance||Date).now()}var y={name:"debugger-checker",isOpen:function(){return l(this,void 0,void 0,function(){var f;return h(this,function(S){return f=v(),(function(){}).constructor("debugger")(),[2,100<v()-f]})})},isEnable:function(){return l(this,void 0,void 0,function(){return h(this,function(f){return[2,!0]})})}}},function(r,n,a){a.d(n,"a",function(){return _});var l=a(1),h=a(2),v=a(0),y=this&&this.__awaiter||function(g,T,E,w){return new(E=E||o)(function(x,I){function R(N){try{L(w.next(N))}catch(j){I(j)}}function k(N){try{L(w.throw(N))}catch(j){I(j)}}function L(N){var j;N.done?x(N.value):((j=N.value)instanceof E?j:new E(function(U){U(j)})).then(R,k)}L((w=w.apply(g,T||[])).next())})},f=this&&this.__generator||function(g,T){var E,w,x,I={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]},R={next:k(0),throw:k(1),return:k(2)};return typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function k(L){return function(N){var j=[L,N];if(E)throw new TypeError("Generator is already executing.");for(;I;)try{if(E=1,w&&(x=2&j[0]?w.return:j[0]?w.throw||((x=w.return)&&x.call(w),0):w.next)&&!(x=x.call(w,j[1])).done)return x;switch(w=0,(j=x?[2&j[0],x.value]:j)[0]){case 0:case 1:x=j;break;case 4:return I.label++,{value:j[1],done:!1};case 5:I.label++,w=j[1],j=[0];continue;case 7:j=I.ops.pop(),I.trys.pop();continue;default:if(!(x=0<(x=I.trys).length&&x[x.length-1])&&(j[0]===6||j[0]===2)){I=0;continue}if(j[0]===3&&(!x||j[1]>x[0]&&j[1]<x[3]))I.label=j[1];else if(j[0]===6&&I.label<x[1])I.label=x[1],x=j;else{if(!(x&&I.label<x[2])){x[2]&&I.ops.pop(),I.trys.pop();continue}I.label=x[2],I.ops.push(j)}}j=T.call(g,I)}catch(U){j=[6,U],w=0}finally{E=x=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},S=new Date,b=0,_=(S.toString=function(){return b++,""},{name:"date-to-string",isOpen:function(){return y(this,void 0,void 0,function(){return f(this,function(g){return b=0,Object(h.b)(S),Object(h.a)(),[2,b===2]})})},isEnable:function(){return y(this,void 0,void 0,function(){return f(this,function(g){return[2,Object(v.b)({includes:[l.a],excludes:[]})]})})}})},function(r,l,a){a.d(l,"a",function(){return h});var l=a(3),h=/mobile/i.test(l.b)}],s={},c.m=u,c.c=s,c.d=function(r,n,a){c.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:a})},c.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return c.d(n,"a",n),n},c.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},c.p="",c(c.s=6);function c(r){var n;return(s[r]||(n=s[r]={i:r,l:!1,exports:{}},u[r].call(n.exports,n,n.exports,c),n.l=!0,n)).exports}var u,s},typeof m=="object"&&typeof t=="object"?t.exports=d():typeof m=="object"?m.devtoolsDetector=d():e.devtoolsDetector=d()},{"es6-promise":13}],37:[function(e,t,m){var d=e("./object");t.exports.el=function(o){return document.getElementById(o)},t.exports.createEl=function(o,c){var u;return o=o||"div",c=c||{},u=document.createElement(o),d.each(c,function(s,r){s.indexOf("aria-")!==-1||s=="role"?u.setAttribute(s,r):u[s]=r}),u},t.exports.addClass=function(o,c){o&&(" "+o.className+" ").indexOf(" "+c+" ")==-1&&(o.className=o.className===""?c:o.className+" "+c)},t.exports.removeClass=function(o,c){var u,s;if(o.className.indexOf(c)!=-1){for(s=(u=o.className.split(" ")).length-1;0<=s;s--)u[s]===c&&u.splice(s,1);o.className=u.join(" ")}},t.exports.hasClass=function(o,c){return o.className.indexOf(c)!=-1},t.exports.getClasses=function(o){return o.className?o.className.split(" "):[]},t.exports.getElementAttributes=function(o){var c,u,s={};if(o&&o.attributes&&0<o.attributes.length)for(var r,n=(r=o.attributes).length-1;0<=n;n--)c=r[n].name,u=r[n].value,typeof o[c]!="boolean"&&",autoplay,controls,loop,muted,default,".indexOf(","+c+",")===-1||(u=u!==null),s[c]=u;return s},t.exports.insertFirst=function(o,c){c.firstChild?c.insertBefore(o,c.firstChild):c.appendChild(o)},t.exports.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},t.exports.unblockTextSelection=function(){document.onselectstart=function(){return!0}},t.exports.css=function(o,c,u){return!(!o||!o.style)&&(c&&u?(o.style[c]=u,!0):u||typeof c!="string"?!u&&typeof c=="object"&&(d.each(c,function(s,r){o.style[s]=r}),!0):o.style[c])},t.exports.getTransformName=function(o){for(var c=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],u=c[0],s=0,r=c.length;s<r;s++)if(o.style[c[s]]!==void 0){u=c[s];break}return u},t.exports.getTransformEventName=function(o,c){for(var u=["","Webkit","Moz","ms","O"],s=c.toLowerCase(),r=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],n=0,a=r.length;n<a;n++)if(o.style[r[n]]!==void 0){n!=0&&(s=u[n]+c);break}return s},t.exports.addCssByStyle=function(s){var c=document,u=c.createElement("style"),s=(u.setAttribute("type","text/css"),u.styleSheet?u.styleSheet.cssText=s:(s=c.createTextNode(s),u.appendChild(s)),c.getElementsByTagName("head"));(s.length?s[0]:c.documentElement).appendChild(u)},t.exports.getTranslateX=function(o){var c=0;if(o)try{var u=window.getComputedStyle(o),s=t.exports.getTransformName(o),c=new(window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)(u[s]).m41}catch(r){console.log(r)}return c},t.exports.getPointerPosition=function(r,c){var u={},a=t.exports.findPosition(r),s=r.offsetWidth,r=r.offsetHeight,n=a.top,a=a.left,l=c.pageY,h=c.pageX;return c.changedTouches&&(h=c.changedTouches[0].pageX,l=c.changedTouches[0].pageY),u.y=Math.max(0,Math.min(1,(n-l+r)/r)),u.x=Math.max(0,Math.min(1,(h-a)/s)),u},t.exports.findPosition=function(o){var c,u,s,r;return(c=o.getBoundingClientRect&&o.parentNode?o.getBoundingClientRect():c)?(o=document.documentElement,r=document.body,s=o.clientLeft||r.clientLeft||0,u=window.pageXOffset||r.scrollLeft,u=c.left+u-s,s=o.clientTop||r.clientTop||0,o=window.pageYOffset||r.scrollTop,r=c.top+o-s,{left:Math.round(u),top:Math.round(r)}):{left:0,top:0}}},{"./object":47}],38:[function(e,t,m){var d=e("./object"),o=e("./data"),c=e("./ua"),u=e("./fastclick");function s(r,n,a,l){d.each(a,function(h){r(n,h,l)})}t.exports.on=function(r,n,a){if(r){if(d.isArray(n))return s(t.exports.on,r,n,a);c.IS_MOBILE&&n=="click"&&u.attach(r);var l=o.getData(r);l.handlers||(l.handlers={}),l.handlers[n]||(l.handlers[n]=[]),a.guid||(a.guid=o.guid()),l.handlers[n].push(a),l.dispatcher||(l.disabled=!1,l.dispatcher=function(h){if(!l.disabled){h=t.exports.fixEvent(h);var v=l.handlers[h.type];if(v)for(var y=v.slice(0),f=0,S=y.length;f<S&&!h.isImmediatePropagationStopped();f++)y[f].call(r,h)}}),l.handlers[n].length==1&&(r.addEventListener?r.addEventListener(n,l.dispatcher,!1):r.attachEvent&&r.attachEvent("on"+n,l.dispatcher))}},t.exports.off=function(r,n,a){if(r&&o.hasData(r)){var l=o.getData(r);if(l.handlers){if(d.isArray(n))return s(t.exports.off,r,n,a);var h=function(S){l.handlers[S]=[],t.exports.cleanUpEvents(r,S)};if(n){var v=l.handlers[n];if(v)if(a){if(a.guid)for(var y=0;y<v.length;y++)v[y].guid===a.guid&&v.splice(y--,1);t.exports.cleanUpEvents(r,n)}else h(n)}else for(var f in l.handlers)h(f)}}},t.exports.cleanUpEvents=function(r,n){var a=o.getData(r);a.handlers[n].length===0&&(delete a.handlers[n],r.removeEventListener?r.removeEventListener(n,a.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+n,a.dispatcher)),d.isEmpty(a.handlers)&&(delete a.handlers,delete a.dispatcher,delete a.disabled),d.isEmpty(a)&&o.removeData(r)},t.exports.fixEvent=function(r){function n(){return!0}function a(){return!1}if(!r||!r.isPropagationStopped){var l,h,v,y=r||window.event;for(l in r={},y)l==="layerX"||l==="layerY"||l==="keyboardEvent.keyLocation"||l=="returnValue"&&y.preventDefault||(r[l]=y[l]);r.target||(r.target=r.srcElement||document),r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement,r.preventDefault=function(){y.preventDefault&&y.preventDefault(),r.returnValue=!1,r.isDefaultPrevented=n,r.defaultPrevented=!0},r.isDefaultPrevented=a,r.defaultPrevented=!1,r.stopPropagation=function(){y.stopPropagation&&y.stopPropagation(),r.cancelBubble=!0,r.isPropagationStopped=n},r.isPropagationStopped=a,r.stopImmediatePropagation=function(){y.stopImmediatePropagation&&y.stopImmediatePropagation(),r.isImmediatePropagationStopped=n,r.stopPropagation()},r.isImmediatePropagationStopped=a,r.clientX!=null&&(h=document.documentElement,v=document.body,r.pageX=r.clientX+(h&&h.scrollLeft||v&&v.scrollLeft||0)-(h&&h.clientLeft||v&&v.clientLeft||0),r.pageY=r.clientY+(h&&h.scrollTop||v&&v.scrollTop||0)-(h&&h.clientTop||v&&v.clientTop||0)),r.which=r.charCode||r.keyCode,r.button!=null&&(r.button=1&r.button?0:4&r.button?1:2&r.button?2:0)}return r},t.exports.trigger=function(r,n){var a,l,h;if(r)return a=o.hasData(r)?o.getData(r):{},l=r.parentNode||r.ownerDocument,typeof n=="string"&&(h=null,!r.paramData&&r.paramData!=0||(h=r.paramData,r.paramData=null,r.removeAttribute(h)),n={type:n,target:r,paramData:h}),n=t.exports.fixEvent(n),a.dispatcher&&a.dispatcher.call(r,n),l&&!n.isPropagationStopped()&&n.bubbles!==!1?t.exports.trigger(l,n):l||n.defaultPrevented||(h=o.getData(n.target),n.target[n.type]&&(h.disabled=!0,typeof n.target[n.type]=="function"&&n.target[n.type](),h.disabled=!1)),!n.defaultPrevented},t.exports.one=function(r,n,a){if(r){if(d.isArray(n))return s(t.exports.one,r,n,a);var l=function(){t.exports.off(r,n,l),a.apply(this,arguments)};l.guid=a.guid=a.guid||o.guid(),t.exports.on(r,n,l)}}},{"./data":35,"./fastclick":39,"./object":47,"./ua":53}],39:[function(e,t,m){function d(a,l){var h;if(l=l||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=l.touchBoundary||10,this.layer=a,this.tapDelay=l.tapDelay||200,this.tapTimeout=l.tapTimeout||700,!d.notNeeded(a)){for(var v=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],y=0,f=v.length;y<f;y++)this[v[y]]=((S,b)=>function(){return S.apply(b,arguments)})(this[v[y]],this);c&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(S,b,_){var g=Node.prototype.removeEventListener;S==="click"?g.call(a,S,b.hijacked||b,_):g.call(a,S,b,_)},a.addEventListener=function(S,b,_){var g=Node.prototype.addEventListener;S==="click"?g.call(a,S,b.hijacked||(b.hijacked=function(T){T.propagationStopped||b(T)}),_):g.call(a,S,b,_)}),typeof a.onclick=="function"&&(h=a.onclick,a.addEventListener("click",function(S){h(S)},!1),a.onclick=null)}}var o=0<=navigator.userAgent.indexOf("Windows Phone"),c=0<navigator.userAgent.indexOf("Android")&&!o,u=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,s=u&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=u&&/OS [6-7]_\d/.test(navigator.userAgent),n=0<navigator.userAgent.indexOf("BB10");d.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(u&&a.type==="file"||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},d.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},d.prototype.sendClick=function(a,l){var h;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),l=l.changedTouches[0],(h=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(a),!0,!0,window,1,l.screenX,l.screenY,l.clientX,l.clientY,!1,!1,!1,!1,0,null),h.forwardedTouchEvent=!0,a.dispatchEvent(h)},d.prototype.determineEventType=function(a){return c&&a.tagName.toLowerCase()==="select"?"mousedown":"click"},d.prototype.focus=function(a){var l;u&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"&&a.type!=="month"&&a.type!=="email"?(l=a.value.length,a.setSelectionRange(l,l)):a.focus()},d.prototype.updateScrollParent=function(a){var l,h=a.fastClickScrollParent;if(!h||!h.contains(a)){l=a;do if(l.scrollHeight>l.offsetHeight){h=l,a.fastClickScrollParent=l;break}while(l=l.parentElement)}h&&(h.fastClickLastScrollTop=h.scrollTop)},d.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},d.prototype.onTouchStart=function(a){var l,h,v;if(!(1<a.targetTouches.length)){if(l=this.getTargetElementFromEventTarget(a.target),h=a.targetTouches[0],u){if((v=window.getSelection()).rangeCount&&!v.isCollapsed)return!0;if(!s){if(h.identifier&&h.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=h.identifier,this.updateScrollParent(l)}}this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=l,this.touchStartX=h.pageX,this.touchStartY=h.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault()}return!0},d.prototype.touchHasMoved=function(l){var l=l.changedTouches[0],h=this.touchBoundary;return Math.abs(l.pageX-this.touchStartX)>h||Math.abs(l.pageY-this.touchStartY)>h},d.prototype.onTouchMove=function(a){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0},d.prototype.findControl=function(a){return a.control!==void 0?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},d.prototype.onTouchEnd=function(a){var l,h,v,y=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,l=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(v=a.changedTouches[0],(y=document.elementFromPoint(v.pageX-window.pageXOffset,v.pageY-window.pageYOffset)||y).fastClickScrollParent=this.targetElement.fastClickScrollParent),(v=y.tagName.toLowerCase())==="label"){if(h=this.findControl(y)){if(this.focus(y),c)return!1;y=h}}else if(this.needsFocus(y))return 100<a.timeStamp-l||u&&window.top!==window&&v==="input"?this.targetElement=null:(this.focus(y),this.sendClick(y,a),u&&v==="select"||(this.targetElement=null,a.preventDefault())),!1;return!(!u||s||!(h=y.fastClickScrollParent)||h.fastClickLastScrollTop===h.scrollTop)||(this.needsClick(y)||(a.preventDefault(),this.sendClick(y,a)),!1)},d.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},d.prototype.onMouse=function(a){return!this.targetElement||!(!a.forwardedTouchEvent&&a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),1))},d.prototype.onClick=function(a){return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):a.target.type==="submit"&&a.detail===0||((a=this.onMouse(a))||(this.targetElement=null),a)},d.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},d.notNeeded=function(a){var l,h;return window.ontouchstart===void 0||(h=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])&&(!c||(l=document.querySelector("meta[name=viewport]"))&&(l.content.indexOf("user-scalable=no")!==-1||31<h&&document.documentElement.scrollWidth<=window.outerWidth))||n&&10<=(h=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=h[2]&&(l=document.querySelector("meta[name=viewport]"))&&(l.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)?!0:a.style.msTouchAction==="none"||a.style.touchAction==="manipulation"||!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(l=document.querySelector("meta[name=viewport]"))&&(l.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth))||a.style.touchAction==="none"||a.style.touchAction==="manipulation"},d.attach=function(a,l){return new d(a,l)},t.exports=d},{}],40:[function(e,t,m){var d=e("./data");t.exports.bind=function(o,c,u){c.guid||(c.guid=d.guid());function s(){return c.apply(o,arguments)}return s.guid=u?u+"_"+c.guid:c.guid,s}},{"./data":35}],41:[function(e,t,m){function d(){d=function(){return n};var r,n={},a=Object.prototype,l=a.hasOwnProperty,w=typeof Symbol=="function"?Symbol:{},h=w.iterator||"@@iterator",v=w.asyncIterator||"@@asyncIterator",y=w.toStringTag||"@@toStringTag";function f(W,B,M,C){Object.defineProperty(W,B,{value:M,enumerable:!C,configurable:!C,writable:!C})}try{f({},"")}catch{f=function(W,B,M){return W[B]=M}}function S(W,re,M,C){var D,A,Q,ne,re=re&&re.prototype instanceof g?re:g,re=Object.create(re.prototype);return f(re,"_invoke",(D=W,A=M,Q=new j(C||[]),ne=1,function(K,P){if(ne===3)throw Error("Generator is already running");if(ne===4){if(K==="throw")throw P;return{value:r,done:!0}}for(Q.method=K,Q.arg=P;;){var q=Q.delegate;if(q&&(q=function Z(se,pe){var ce=pe.method,ee=se.i[ce];return ee===r?(pe.delegate=null,ce==="throw"&&se.i.return&&(pe.method="return",pe.arg=r,Z(se,pe),pe.method==="throw")||ce!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+ce+"' method")),_):(ce=b(ee,se.i,pe.arg),ce.type==="throw"?(pe.method="throw",pe.arg=ce.arg,pe.delegate=null,_):(ee=ce.arg,ee?ee.done?(pe[se.r]=ee.value,pe.next=se.n,pe.method!=="return"&&(pe.method="next",pe.arg=r),pe.delegate=null,_):ee:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,_)))}(q,Q),q)){if(q===_)continue;return q}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(ne===1)throw ne=4,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);if(ne=3,q=b(D,A,Q),q.type==="normal"){if(ne=Q.done?4:2,q.arg===_)continue;return{value:q.arg,done:Q.done}}q.type==="throw"&&(ne=4,Q.method="throw",Q.arg=q.arg)}}),!0),re}function b(W,B,M){try{return{type:"normal",arg:W.call(B,M)}}catch(C){return{type:"throw",arg:C}}}n.wrap=S;var _={};function g(){}function T(){}function E(){}var w={},x=(f(w,h,function(){return this}),Object.getPrototypeOf),x=x&&x(x(U([]))),I=(x&&x!==a&&l.call(x,h)&&(w=x),E.prototype=g.prototype=Object.create(w));function R(W){["next","throw","return"].forEach(function(B){f(W,B,function(M){return this._invoke(B,M)})})}function k(W,B){var M;f(this,"_invoke",function(C,D){function A(){return new B(function(Q,ne){(function re(pe,P,q,Z){var se,pe=b(W[pe],W,P);if(pe.type!=="throw")return(P=(se=pe.arg).value)&&typeof P=="object"&&l.call(P,"__await")?B.resolve(P.__await).then(function(ce){re("next",ce,q,Z)},function(ce){re("throw",ce,q,Z)}):B.resolve(P).then(function(ce){se.value=ce,q(se)},function(ce){return re("throw",ce,q,Z)});Z(pe.arg)})(C,D,Q,ne)})}return M=M?M.then(A,A):A()},!0)}function L(W){this.tryEntries.push(W)}function N(W){var B=W[4]||{};B.type="normal",B.arg=r,W[4]=B}function j(W){this.tryEntries=[[-1]],W.forEach(L,this),this.reset(!0)}function U(W){if(W!=null){var B,M=W[h];if(M)return M.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length))return B=-1,(M=function C(){for(;++B<W.length;)if(l.call(W,B))return C.value=W[B],C.done=!1,C;return C.value=r,C.done=!0,C}).next=M}throw new TypeError(typeof W+" is not iterable")}return f(I,"constructor",T.prototype=E),f(E,"constructor",T),f(E,y,T.displayName="GeneratorFunction"),n.isGeneratorFunction=function(W){return W=typeof W=="function"&&W.constructor,!!W&&(W===T||(W.displayName||W.name)==="GeneratorFunction")},n.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,E):(W.__proto__=E,f(W,y,"GeneratorFunction")),W.prototype=Object.create(I),W},n.awrap=function(W){return{__await:W}},R(k.prototype),f(k.prototype,v,function(){return this}),n.AsyncIterator=k,n.async=function(W,B,M,C,D){D===void 0&&(D=Promise);var A=new k(S(W,B,M,C),D);return n.isGeneratorFunction(B)?A:A.next().then(function(Q){return Q.done?Q.value:A.next()})},R(I),f(I,y,"Generator"),f(I,h,function(){return this}),f(I,"toString",function(){return"[object Generator]"}),n.keys=function(W){var B,M=Object(W),C=[];for(B in M)C.unshift(B);return function D(){for(;C.length;)if((B=C.pop())in M)return D.value=B,D.done=!1,D;return D.done=!0,D}},n.values=U,j.prototype={constructor:j,reset:function(W){if(this.prev=this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(N),!W)for(var B in this)B.charAt(0)==="t"&&l.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=r)},stop:function(){this.done=!0;var W=this.tryEntries[0][4];if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var B=this;function M(K){A.type="throw",A.arg=W,B.next=K}for(var C=B.tryEntries.length-1;0<=C;--C){var D=this.tryEntries[C],A=D[4],Q=this.prev,ne=D[1],re=D[2];if(D[0]===-1)return M("end"),!1;if(!ne&&!re)throw Error("try statement without catch or finally");if(D[0]!=null&&D[0]<=Q){if(Q<ne)return this.method="next",this.arg=r,M(ne),!0;if(Q<re)return M(re),!1}}},abrupt:function(W,B){for(var M=this.tryEntries.length-1;0<=M;--M){var C=this.tryEntries[M];if(-1<C[0]&&C[0]<=this.prev&&this.prev<C[2]){var D=C;break}}var A=(D=D&&(W==="break"||W==="continue")&&D[0]<=B&&B<=D[2]?null:D)?D[4]:{};return A.type=W,A.arg=B,D?(this.method="next",this.next=D[2],_):this.complete(A)},complete:function(W,B){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&B&&(this.next=B),_},finish:function(W){for(var B=this.tryEntries.length-1;0<=B;--B){var M=this.tryEntries[B];if(M[2]===W)return this.complete(M[4],M[3]),N(M),_}},catch:function(W){for(var B=this.tryEntries.length-1;0<=B;--B){var M,C,D=this.tryEntries[B];if(D[0]===W)return(M=D[4]).type==="throw"&&(C=M.arg,N(D)),C}throw Error("illegal catch attempt")},delegateYield:function(W,B,M){return this.delegate={i:U(W),r:B,n:M},this.method==="next"&&(this.arg=r),_}},n}function o(r,n,a,l,h,v,y){try{var f=r[v](y),S=f.value}catch(b){return a(b)}f.done?n(S):Promise.resolve(S).then(l,h)}function c(r){return function(){var n=this,a=arguments;return new Promise(function(l,h){var v=r.apply(n,a);function y(S){o(v,l,h,y,f,"next",S)}function f(S){o(v,l,h,y,f,"throw",S)}y(void 0)})}}var u,s=typeof Promise>"u"?e("es6-promise").Promise:Promise;e=self,u=function(){return(a={d:function(T,E){for(var w in E)a.o(E,w)&&!a.o(T,w)&&Object.defineProperty(T,w,{enumerable:!0,get:E[w]})},o:function(T,E){return Object.prototype.hasOwnProperty.call(T,E)}}).d(l={},{default:function(){return g}}),h=navigator.userAgent,v=/qqbrowser/i.test(h.toLowerCase()),y=/Edge/i.test(h),y=/Chrome/i.test(h)&&!y&&!v,f=/Safari/i.test(h)&&!y,v=h.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),y=v&&v[1],S=y&&Number(y.split(".")[0]),b=(()=>{var T=c(d().mark(function E(w){var x;return d().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,fetch(w);case 2:return x=I.sent,I.next=5,x.blob();case 5:return x=I.sent,I.abrupt("return",URL.createObjectURL(x));case 7:case"end":return I.stop()}},E)}));return function(E){return T.apply(this,arguments)}})(),_={includeSystemHijack:!0,showVideo:!1,format:"mp4",codecTags:["hev1","hvc1"],timeout:2e3},g=function(T){return T===void 0&&(T={}),new s((()=>{var E=c(d().mark(function w(x){var I,R,k,L,N,j,U,W,B,M,C,D,A;return d().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(L=Object.assign({},_,T),I=L.includeSystemHijack,R=L.showVideo,U=L.codecTags,k=L.format,L=L.timeout,N=performance.now(),j=-1<U.indexOf("hvc1"),U=-1<U.indexOf("hev1"),B=W=!1,!(f&&S&&11<=S)){Q.next=14;break}if(M=r("hvc1",k),Q.t0=I,Q.t0){Q.next=9;break}return Q.next=8,b(M);case 8:M=Q.sent;case 9:return Q.next=11,n(M,R,"hvc1",L);case 11:W=Q.sent,Q.next=34;break;case 14:if(!j){Q.next=24;break}if(C=r("hvc1",k),Q.t1=I,Q.t1){Q.next=21;break}return Q.next=20,b(C);case 20:C=Q.sent;case 21:return Q.next=23,n(C,R,"hvc1",L);case 23:W=Q.sent;case 24:if(!U){Q.next=34;break}if(D=r("hev1",k),Q.t2=I,Q.t2){Q.next=31;break}return Q.next=30,b(D);case 30:D=Q.sent;case 31:return Q.next=33,n(D,R,"hev1",L);case 33:B=Q.sent;case 34:A=performance.now(),x({isHvc1Supported:W,isHev1Supported:B,time:Math.ceil(A-N)});case 36:case"end":return Q.stop()}},w)}));return function(w){return E.apply(this,arguments)}})())},l.default;function r(T,E){var w=(E=E===void 0?"mp4":E)==="hls",x="";switch(T=T===void 0?"":T){case"hvc1":x=w?"https://player.alicdn.com/lib/detect-assets/01s_20x20_hvc1.m3u8":"https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hvc1.mp4";break;case"hev1":x=w?"https://player.alicdn.com/lib/detect-assets/01s_20x20_hev1.m3u8":"https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hev1.mp4";break;default:x=""}return x}function n(T,E,w,x){E===void 0&&(E=!1),w===void 0&&(w="");var I=performance.now(),R=x;return new s(function(k){L=T,(N=E?100:0)===void 0&&(N=100),(j=document.createElement("video")).setAttribute("width",""+N),j.setAttribute("height",""+N),j.setAttribute("muted","muted"),j.setAttribute("crossorigin","anonymous"),j.setAttribute("preload","preload"),j.setAttribute("autoplay","autoplay"),j.setAttribute("webkit-playsinline","webkit-playsinline"),j.setAttribute("playsinline","playsinline"),j.setAttribute("x-webkit-airplay","x-webkit-airplay"),j.setAttribute("playsinline","playsinline"),j.src=L;var L,N,j,U=j,W=setInterval(function(){var B,M,C,D,A;(performance.now()-I>R||U.videoWidth!==0)&&(clearInterval(W),B=U.videoWidth!==0,E?(U.setAttribute("controls","controls"),M=U,(C=w)===void 0&&(C=""),D=document.createElement("dv"),(A=document.createElement("h3")).innerText=C,D.appendChild(M),D.appendChild(A),document.body.appendChild(D)):(U.pause(),U=null),k(B))})})}var a,l,h,v,y,f,S,b,_,g},typeof m=="object"&&typeof t=="object"?t.exports=u():typeof m=="object"?m.hevcDetector=u():e.hevcDetector=u()},{"es6-promise":13}],42:[function(e,t,m){function d(u){for(var s in u=typeof u=="string"?this.parseAttrList(u):u)u.hasOwnProperty(s)&&(this[s]=u[s])}var o=/^(\d+)x(\d+)$/,c=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;d.prototype={decimalInteger:function(u){return u=parseInt(this[u],10),u>Number.MAX_SAFE_INTEGER?1/0:u},hexadecimalInteger:function(u){if(this[u]){for(var s=(1&(s=(this[u]||"0x").slice(2)).length?"0":"")+s,r=new Uint8Array(s.length/2),n=0;n<s.length/2;n++)r[n]=parseInt(s.slice(2*n,2*n+2),16);return r}return null},hexadecimalIntegerAsNumber:function(u){return u=parseInt(this[u],16),u>Number.MAX_SAFE_INTEGER?1/0:u},decimalFloatingPoint:function(u){return parseFloat(this[u])},enumeratedString:function(u){return this[u]},decimalResolution:function(u){if(u=o.exec(this[u]),u!==null)return{width:parseInt(u[1],10),height:parseInt(u[2],10)}},parseAttrList:function(u){var s,r={};for(c.lastIndex=0;(s=c.exec(u))!==null;){var n=s[2];n.indexOf('"')===0&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[s[1]]=n}return r}},t.exports=d},{}],43:[function(e,t,m){function d(){this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function o(){this.loaders={}}var c=e("../constants"),u=e("../playerutil"),s=e("./attrlist"),r=e("../io"),n=e("./urltoolkit"),a=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,l=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),v=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(PART-INF):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,y="RegionBlock",f=function(){this.method=null,this.key=null,this.iv=null,this._uri=null};d.prototype.getUrl=function(){return!this._url&&this.relurl&&(this._url=n.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},d.prototype.Seturl=function(S){this._url=S},d.prototype.getProgramDateTime=function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime},d.prototype.GetbyteRange=function(){var S,b,_;return this._byteRange||(S=this._byteRange=[],this.rawByteRange&&((b=this.rawByteRange.split("@",2)).length===1?(_=this.lastByteRangeEndOffset,S[0]=_||0):S[0]=parseInt(b[1]),S[1]=parseInt(b[0])+S[0])),this._byteRange},d.prototype.getByteRangeStartOffset=function(){return this.byteRange[0]},d.prototype.getByteRangeEndOffset=function(){return this.byteRange[1]},d.prototype.getDecryptdata=function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},o.prototype=((e={parseMasterPlaylist:function(S,b){var _=[];for(a.lastIndex=0;(E=a.exec(S))!=null;){var g={},T=g.attrs=new s(E[1]),E=(g.url=this.resolve(E[2],b),T.decimalResolution("RESOLUTION"));if(E&&(g.width=E.width,g.height=E.height),g.bitrate=T.decimalInteger("AVERAGE-BANDWIDTH")||T.decimalInteger("BANDWIDTH"),g.name=T.NAME,w=T.CODECS)for(var w=w.split(/[ ,]+/),x=0;x<w.length;x++){var I=w[x];I.indexOf("avc1")!==-1?g.videoCodec=this.avc1toavcoti(I):I.indexOf("hvc1")!==-1?g.videoCodec=I:g.audioCodec=I}_.push(g)}return _},parseMasterPlaylistMedia:function(S,b,_,g){var T=[],E=0;for(l.lastIndex=0;(x=l.exec(S))!=null;){var w={},x=new s(x[1]);x.TYPE===_&&(w.groupId=x["GROUP-ID"],w.name=x.NAME,w.type=_,w.default=x.DEFAULT==="YES",w.autoselect=x.AUTOSELECT==="YES",w.forced=x.FORCED==="YES",x.URI&&(w.url=this.resolve(x.URI,b)),w.lang=x.LANGUAGE,w.name||(w.name=w.lang),g&&(w.audioCodec=g),w.id=E++,T.push(w))}return T},avc1toavcoti:function(S){var b=S.split("."),_=2<b.length?(_=b.shift()+".",(_+=parseInt(b.shift()).toString(16))+("000"+parseInt(b.shift()).toString(16)).substr(-4)):S;return _},load:function(S,b,_){var g=this;r.get(S,function(T){var E,w,x,I=g.parseMasterPlaylist(T,S);I.length&&(E=g.parseMasterPlaylistMedia(T,S,"AUDIO",I[0].audioCodec),w=g.parseMasterPlaylistMedia(T,S,"SUBTITLES"),E.length)&&(x=!1,E.forEach(function(R){R.url||(x=!0)}),x===!1)&&I[0].audioCodec&&!I[0].attrs.AUDIO&&(console.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),E.unshift({type:"main",name:"main"})),b({levels:I,audioTracks:E,subtitles:w,url:S,string:T})},function(T,E,w){_&&((w=u.parseHttpHeaders(w)["x-tengine-error"])&&-1<c.RegionBlockMessages.indexOf(w)&&(T=y),_(T,E))})},loadMediaPlaylist:function(S,b,_){var g=this,T=(S=S||{}).string,E=S.url;T?(S=g.parseLevelPlaylist(T,E),b(S)):r.get(E,function(w){w=g.parseLevelPlaylist(w,E),b(w)},function(w){_&&_(w)})},resolve:function(S,b){return n.buildAbsoluteURL(b,S,{alwaysNormalize:!0})}}).parseMasterPlaylist=function(S,b){var _=[];for(a.lastIndex=0;(E=a.exec(S))!=null;){var g={},T=g.attrs=new s(E[1]),E=(g.url=this.resolve(E[2],b),T.decimalResolution("RESOLUTION"));if(E&&(g.width=E.width,g.height=E.height),g.bitrate=T.decimalInteger("AVERAGE-BANDWIDTH")||T.decimalInteger("BANDWIDTH"),g.name=T.NAME,w=T.CODECS)for(var w=w.split(/[ ,]+/),x=0;x<w.length;x++){var I=w[x];I.indexOf("avc1")!==-1?g.videoCodec=this.avc1toavcoti(I):I.indexOf("hvc1")!==-1?g.videoCodec=I:g.audioCodec=I}_.push(g)}return _},e.parseMasterPlaylistMedia=function(S,b,_,g){var T=[],E=0;for(l.lastIndex=0;(x=l.exec(S))!=null;){var w={},x=new s(x[1]);x.TYPE===_&&(w.groupId=x["GROUP-ID"],w.name=x.NAME,w.type=_,w.default=x.DEFAULT==="YES",w.autoselect=x.AUTOSELECT==="YES",w.forced=x.FORCED==="YES",x.URI&&(w.url=this.resolve(x.URI,b)),w.lang=x.LANGUAGE,w.name||(w.name=w.lang),g&&(w.audioCodec=g),w.id=E++,T.push(w))}return T},e.avc1toavcoti=function(S){var b=S.split("."),_=2<b.length?(_=b.shift()+".",(_+=parseInt(b.shift()).toString(16))+("000"+parseInt(b.shift()).toString(16)).substr(-4)):S;return _},e.parseLevelPlaylist=function(S,b,_,g){var T,E,w=0,x=0,I={type:null,version:null,url:b,fragments:[],live:!0,startSN:0},R=new f,k=0,L=null,N=new d;for(h.lastIndex=0;(T=h.exec(S))!==null;){var j=T[1];if(j){N.duration=parseFloat(j);var U=(" "+T[2]).slice(1);N.title=U||null,N.tagList.push(U?["INF",j,U]:["INF",j])}else if(T[3])isNaN(N.duration)||(U=w++,N.type=g,N.start=x,N.levelkey=R,N.sn=U,N.level=_,N.cc=k,N.baseurl=b,N.relurl=(" "+T[3]).slice(1),I.fragments.push(N),x+=(L=N).duration,N=new d);else if(T[4])N.rawByteRange=(" "+T[4]).slice(1),L&&(j=L.byteRangeEndOffset)&&(N.lastByteRangeEndOffset=j);else if(T[5])N.rawProgramDateTime=(" "+T[5]).slice(1),N.tagList.push(["PROGRAM-DATE-TIME",N.rawProgramDateTime]),I.programDateTime===void 0&&(I.programDateTime=new Date(new Date(Date.parse(T[5]))-1e3*x));else{for(T=T[0].match(v),E=1;E<T.length&&T[E]===void 0;E++);var W=(" "+T[E+1]).slice(1),B=(" "+T[E+2]).slice(1);switch(T[E]){case"#":N.tagList.push(B?[W,B]:[W]);break;case"PLAYLIST-TYPE":I.type=W.toUpperCase();break;case"MEDIA-SEQUENCE":w=I.startSN=parseInt(W);break;case"TARGETDURATION":I.targetduration=parseFloat(W);break;case"VERSION":I.version=parseInt(W);break;case"EXTM3U":break;case"ENDLIST":I.live=!1;break;case"DIS":k++,N.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":k=parseInt(W);break;case"KEY":var D=new s(W),M=D.enumeratedString("METHOD"),C=D.URI,D=D.hexadecimalInteger("IV");M&&(R=new f,C)&&0<=["AES-128","SAMPLE-AES"].indexOf(M)&&(R.method=M,R.baseuri=b,R.reluri=C,R.key=null,R.iv=D);break;case"START":M=new s(W).decimalFloatingPoint("TIME-OFFSET"),isNaN(M)||(I.startTimeOffset=M);break;case"MAP":C=new s(W),N.relurl=C.URI,N.rawByteRange=C.BYTERANGE,N.baseurl=b,N.level=_,N.type=g,N.sn="initSegment",I.initSegment=N,N=new d;break;case"PART-INF":D=new s(W),I.partTarget=D.decimalFloatingPoint("PART-TARGET");break;default:console.log("line parsed but not handled: "+T)}}}return(N=L)&&!N.relurl&&(I.fragments.pop(),x-=N.duration),I.totalduration=x,I.averagetargetduration=x/I.fragments.length,I.endSN=w-1,I},e),o.ERROR_REGION_BLOCK=y,t.exports=o},{"../constants":33,"../io":45,"../playerutil":50,"./attrlist":42,"./urltoolkit":44}],44:[function(e,t,m){var d=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/;?#]*)(.*)$/,c=/(?:\/|^)\.(?=\/)/g,u=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(v,n,a){if(a=a||{},v=v.trim(),!(n=n.trim())){if(!a.alwaysNormalize)return v;var l=s.parseURL(v);if(l)return l.path=s.normalizePath(l.path),s.buildURLFromParts(l);throw new Error("Error trying to parse base URL.")}if(l=s.parseURL(n),!l)throw new Error("Error trying to parse relative URL.");if(l.scheme)return a.alwaysNormalize?(l.path=s.normalizePath(l.path),s.buildURLFromParts(l)):n;if(n=s.parseURL(v),!n)throw new Error("Error trying to parse base URL.");!n.netLoc&&n.path&&n.path[0]!=="/"&&(v=o.exec(n.path),n.netLoc=v[1],n.path=v[2]),n.netLoc&&!n.path&&(n.path="/");var h,v={scheme:n.scheme,netLoc:l.netLoc,path:null,params:l.params,query:l.query,fragment:l.fragment};return l.netLoc||(v.netLoc=n.netLoc,l.path[0]!=="/"&&(l.path?(h=(h=n.path).substring(0,h.lastIndexOf("/")+1)+l.path,v.path=s.normalizePath(h)):(v.path=n.path,l.params||(v.params=n.params,l.query)||(v.query=n.query)))),v.path===null&&(v.path=a.alwaysNormalize?s.normalizePath(l.path):l.path),s.buildURLFromParts(v)},parseURL:function(r){return r=d.exec(r),r?{scheme:r[1]||"",netLoc:r[2]||"",path:r[3]||"",params:r[4]||"",query:r[5]||"",fragment:r[6]||""}:null},normalizePath:function(r){for(r=r.split("").reverse().join("").replace(c,"");r.length!==(r=r.replace(u,"")).length;);return r.split("").reverse().join("")},buildURLFromParts:function(r){return r.scheme+r.netLoc+r.path+r.params+r.query+r.fragment}};t.exports=s},{}],45:[function(e,t,m){var d=e("./url");t.exports.get=function(o,c,u,s,r,n){t.exports.ajax.call(this,"GET",o,{},c,u,s,r,void 0,n)},t.exports.post=function(o,c,u,s,r,n){var a={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"};t.exports.ajax("POST",o,c,u,s,r,n,a)},t.exports.postWithHeader=function(o,c,u,s,r){t.exports.ajax("POST",o,c,s,r,!0,!1,u)},t.exports.ajax=function(o,c,u,s,r,n,a,l,h){var v,y,f;r=r||function(){},typeof XMLHttpRequest>"u"&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("This browser does not support XMLHttpRequest.")}),y=new XMLHttpRequest,h&&(y.timeout=h),h=d.parseUrl(c),f=window.location,h.protocol+h.host===f.protocol+f.host||!window.XDomainRequest||"withCredentials"in y?(v=h.protocol=="file:"||f.protocol=="file:",y.onreadystatechange=function(){y.readyState===4&&(y.status===200||v&&y.status===0?s(y.responseText):r(y.responseText,y.status,y))}):((y=new window.XDomainRequest).onload=function(){s(y.responseText)},y.onerror=r,y.onprogress=function(){},y.ontimeout=r);try{if(n===void 0&&(n=!0),y.open(o,c,n),a&&(y.withCredentials=!0),l)for(var S in l)l.hasOwnProperty(S)&&y.setRequestHeader(S,l[S])}catch(b){return void r(b)}try{y.send(u)}catch(b){r(b)}},t.exports.jsonp=function(o,c,u){var s="jsonp_callback_"+Math.round(1e5*Math.random()),r=document.createElement("script");o&&(r.src=o+(0<=o.indexOf("?")?"&":"?")+"callback="+s+"&cb="+s,r.onerror=function(){delete window[s],document.body.removeChild(r),u()},r.onload=function(){setTimeout(function(){window[s]&&(delete window[s],document.body.removeChild(r))},0)},window[s]=function(n){delete window[s],document.body.removeChild(r),c(n)},document.body.appendChild(r))},t.exports.loadJS=function(o,c,u){var s=document.getElementsByTagName("HEAD").item(0),r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),o&&o.toLowerCase().indexOf("https://")<0&&o.toLowerCase().indexOf("http://")<0&&(o=document.URL.replace(/(\/[^\/]*?)$/i,"")+o),r.type="text/javascript",r.src=o,r.onload=function(){c&&c()},r.onerror=function(){u&&u()},s.appendChild(r)}},{"./url":54}],46:[function(e,t,m){var d=e("./dom");t.exports.render=function(o,r){var u=r.align||(r.className?"":"tl"),s=r.x||0,r=r.y||0,n=s.indexOf&&0<s.indexOf("%")?"":"px",a=r.indexOf&&0<r.indexOf("%")?"":"px";u==="tl"?d.css(o,{float:"left","margin-left":s+n,"margin-top":r+a}):u==="tr"?d.css(o,{float:"right","margin-right":s+n,"margin-top":r+a}):u==="tlabs"?d.css(o,{position:"absolute",left:s+n,top:r+a}):u==="trabs"?d.css(o,{position:"absolute",right:s+n,top:r+a}):u==="blabs"?d.css(o,{position:"absolute",left:s+n,bottom:r+a}):u==="brabs"?d.css(o,{position:"absolute",right:s+n,bottom:r+a}):u==="cc"&&d.addClass(o,"loading-center")}},{"./dom":37}],47:[function(e,t,m){var d=Object.prototype.hasOwnProperty;t.exports.create=Object.create||function(o){function c(){}return c.prototype=o,new c},t.exports.isArray=function(o){return Object.prototype.toString.call(arg)==="[object Array]"},t.exports.isEmpty=function(o){for(var c in o)if(o[c]!==null)return!1;return!0},t.exports.each=function(o,c,u){if(t.exports.isArray(o))for(var s=0,r=o.length;s<r&&c.call(u||this,o[s],s)!==!1;++s);else for(var n in o)if(d.call(o,n)&&c.call(u||this,n,o[n])===!1)break;return o},t.exports.merge=function(o,c){if(c)for(var u in c)d.call(c,u)&&(o[u]=c[u]);return o},t.exports.deepMerge=function(o,c){var u,s,r;for(u in o=t.exports.copy(o),c)d.call(c,u)&&(s=o[u],r=c[u],t.exports.isPlain(s)&&t.exports.isPlain(r)?o[u]=t.exports.deepMerge(s,r):o[u]=c[u]);return o},t.exports.copy=function(o){return t.exports.merge({},o)},t.exports.isPlain=function(o){return!!o&&typeof o=="object"&&o.toString()==="[object Object]"&&o.constructor===Object},t.exports.isArray=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},t.exports.unescape=function(o){return o.replace(/&([^;]+);/g,function(c,u){return{amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x60":"`"}[u.toLowerCase()]||c})}},{}],48:[function(e,t,m){var d,o=e("./object");(d=function(){}).extend=function(c){var u,s,r=(c=c||{}).init||this.prototype.init||function(){};for(s in(((u=function(){r.apply(this,arguments)}).prototype=o.create(this.prototype)).constructor=u).extend=d.extend,u.create=d.create,c)c.hasOwnProperty(s)&&(u.prototype[s]=c[s]);return u},d.create=function(){var c=o.create(this.prototype);return this.apply(c,arguments),c},t.exports=d},{"./object":47}],49:[function(e,t,m){var d=!new Function("try {return this===window;}catch(e){ return false;}")();t.exports.isSSR=d},{}],50:[function(e,t,m){var d=e("./object"),o=e("../config"),c=e("./dom"),u=e("./cookie"),s=e("./constants"),r=e("../lang/index"),n=e("./ua"),a=e("./io"),l=e("../player/base/plugin/defaultemptycomponent"),h=e("./hardware-decoding-detector"),v={preload:!0,autoplay:!0,autoplayPolicy:{fallbackToMute:!1,showUnmuteBtn:!0},useNativeControls:!1,width:"100%",height:"300px",cover:"",from:"",trackLog:!0,logBatched:!0,logReportTo:void 0,heartHeatInterval:30,isLive:!1,playsinline:!0,showBarTime:5e3,rePlay:!1,mute:!1,liveRetry:5,liveRetryInterval:1,liveRetryStep:0,disableVodHalfRetry:!1,disableLiveHalfRetry:!1,keyShortCuts:!1,keyFastForwardStep:10,isVBR:!1,vodRetry:3,format:"",definition:"",defaultDefinition:"",loadDataTimeout:20,waitingTimeout:60,waitingBufferedTime:3,delayLoadingShow:1,controlBarForOver:!1,controlBarVisibility:"hover",enableSystemMenu:!1,qualitySort:"asc",x5_video_position:"normal",x5_type:"",x5_fullscreen:!1,x5_orientation:"landscape|portrait",x5LandscapeAsFullScreen:!0,license:{},autoPlayDelay:0,autoPlayDelayDisplayText:"",useHlsPluginForSafari:!1,enableMSEForAndroid:!0,encryptType:0,language:"zh-cn",languageTexts:{},extLanguageTexts:{},mediaType:"video",outputType:"",playConfig:{},reAuthInfo:{},components:[],liveTimeShiftUrl:"",liveShiftSource:"",liveShiftTime:"",liveShiftMinOffset:30,videoHeight:"100%",videoWidth:"100%",enableWorker:!0,authTimeout:"",enableMockFullscreen:!1,region:"cn-shanghai",debug:!1,progressMarkers:[],ratio:void 0,snapshotWatermark:{left:"500",top:"100",text:"",font:"16px 宋体",fillColor:"#FFFFFF",strokeColor:"#FFFFFF"},liveStartTime:"",liveOverTime:"",enableStashBufferForFlv:!1,flvOption:{},hlsOption:{stopLoadAsPaused:!1},drmOption:{},hlsLoadingTimeOut:2e4,useHlsPlugOnMobile:!0,useFlvPlugOnMobile:!0,lowLatencyMode:!1,useHls2:!0,useDrm2:void 0,skipRtsSupportCheck:!1,rtsLoadDataTimeout:6e3,rtsOption:{},rtsFallback:!1,rtsFallbackSource:void 0,rtsFallbackType:void 0,rtsVersion:"",rtsSdkUrl:"",nudgeMaxRetry:5,tracks:[],recreatePlayer:function(){},diagnosisButtonVisible:!0,enableH265:!1,forceH265:!1,enableH266:!1,forceH266:!1,h265Threads:!0,h265Simd:!0,preventRecord:!1,traceId:"",mediaAuth:void 0,textTracks:void 0,_native:!0,hlsUriToken:"",thumbnailUrl:"",refreshAccessInfo:function(){},drmSessionTimeout:5e3,skinRes:"//"+o.domain+"/de/prismplayer-flash/"+o.flashVersion+"/atlas/defaultSkin",splayerUrl:null,splayerWasmDomain:null,logo:[],disablePip:!1,assetPrefix:null,clickPause:n.IS_PC,clickPauseDelay:200,statisticsReportInterval:5e3,skinLayoutIgnore:[],disableSeek:!1,dashjsUrl:null,dashOption:{},disableDumpBuffer:!1,useSW:!1,swScriptURL:void 0,env:"",autoSize:"",watchStartTime:void 0,watchEndTime:void 0,start:void 0,end:void 0,dbClickFullscreen:n.IS_PC,dbClickFullscreenDelay:200,enableHlsH265:!1,bitrateDisplayHandler:void 0,longPressFastForward:!n.IS_PC,dbClickSkip:!n.IS_PC,customData:void 0},y=(t.exports.getDefaultH5Layout=function(){return[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"unmuteButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:50},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},t.exports.getDefaultAudioLayout=function(){return[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"volume",align:"tr",x:5,y:10}]}]},t.exports.getDefaultFlashLayout=function(){return[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"nextButton",align:"tl",x:10,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:10,y:25}]},{name:"fullControlBar",align:"tlabs",x:0,y:0,children:[{name:"fullTitle",align:"tl",x:25,y:6},{name:"fullNormalScreenButton",align:"tr",x:24,y:13},{name:"fullTimeDisplay",align:"tr",x:10,y:12},{name:"fullZoom",align:"cc"}]}]},t.exports.canPlayType=function(f){var S=document.createElement("video");return S.canPlayType?S.canPlayType(f):""},t.exports.canPlayHls=function(){return t.exports.canPlayType("application/x-mpegURL")!=""},t.exports.isUsedHlsPluginOnMobile=function(f){return!!(n.IS_MOBILE&&(n.IS_CHROME||n.IS_FIREFOX||n.IS_X5||n.IS_EDGE_NEW)&&t.exports.isSupportHls())},t.exports.isSafariUsedHlsPlugin=function(f){return!!(n.os.pc&&n.browser.safari&&f)},t.exports.validateSource=function(f){return!0},t.exports.supportH5Video=function(){return document.createElement("video").canPlayType!==void 0},t.exports.createWrapper=function(f){var S=f.id,S=typeof S=="string"?(S.indexOf("#")===0&&(S=S.slice(1)),c.el(S)):S;if(S&&S.nodeName)return t.exports.adjustContainerLayout(S,f),S;throw new TypeError("没有为播放器指定容器")},t.exports.adjustContainerLayout=function(f,S){S.width&&!f.style.width&&(f.style.width=S.width),S.height&&!f.style.height&&(f.style.height=S.height)},t.exports.isSupportHls=function(){var f=window.MediaSource=window.MediaSource||window.WebKitMediaSource,S=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,f=f&&typeof f.isTypeSupported=="function"&&f.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),S=(n.IS_ANDROID&&n.is_X5&&(f=!0),!S||S.prototype&&typeof S.prototype.appendBuffer=="function"&&typeof S.prototype.remove=="function");return f&&S},t.exports.isSupportMMS=function(){return!!window.ManagedMediaSource},t.exports.isSupportFlv=function(){return t.exports.isSupportHls()},t.exports.isSupportMSE=function(){return t.exports.isSupportHls()||t.exports.isSupportMMS()},t.exports.isSupportedMediaSource=function(){return!!window.MediaSource&&!!MediaSource.isTypeSupported},t.exports.isSupportedDrm=function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)&&t.exports.isSupportMSE()},t.exports.isAudio=function(f,S){if(S)return t.exports.isMp3Format(S);S=!1;try{S=f&&new URL("http:"+f).pathname.split(".").pop().toLowerCase()==="mp3"}catch{return f&&0<f.toLowerCase().indexOf(".mp3")}return S},t.exports.isLiveShift=function(f){return f.isLive&&f.liveStartTime&&f.liveOverTime},t.exports.isHls=function(f,S){if(S)return t.exports.isHlsFormat(S);S=!1;try{S=f&&new URL("http:"+f).pathname.split(".").pop().toLowerCase()==="m3u8"}catch{return f&&0<f.toLowerCase().indexOf(".m3u8")}return S},t.exports.isDash=function(f,S){if(S)return t.exports.isDashFormat(S);S=!1;try{S=f&&new URL("http:"+f).pathname.split(".").pop().toLowerCase()==="mpd"}catch{return f&&0<f.toLowerCase().indexOf(".mpd")}return S},t.exports.isFlv=function(f,S){if(S)return t.exports.isFlvFormat(S);S=!1;try{S=f&&new URL("http:"+f).pathname.split(".").pop().toLowerCase()==="flv"}catch{return f&&0<f.toLowerCase().indexOf(".flv")}return S},t.exports.isRTMP=function(f){return f&&-1<f.toLowerCase().indexOf("rtmp:")},t.exports.isRts=function(f){return f&&-1<f.toLowerCase().indexOf("artc:")},t.exports.isMp4=function(f,S){if(S)return t.exports.isMp4Format(S);S=!1;try{S=f&&new URL("http:"+f).pathname.split(".").pop().toLowerCase()==="mp4"}catch{return f&&-1<f.toLowerCase().indexOf(".mp4")}return S},t.exports.isSupportedFormat=function(f){if(!f)return!1;try{var S=f.toLowerCase();return~["mp3","mp4","mpd","hls","m3u8","flv"].indexOf(S)}catch{return!1}},t.exports.isMp3Format=function(f){if(!f)return!1;try{var S=f.toLowerCase();return~["mp3"].indexOf(S)}catch{return!1}},t.exports.isMp4Format=function(f){if(!f)return!1;try{var S=f.toLowerCase();return~["mp4"].indexOf(S)}catch{return!1}},t.exports.isFlvFormat=function(f){if(!f)return!1;try{var S=f.toLowerCase();return~["flv"].indexOf(S)}catch{return!1}},t.exports.isHlsFormat=function(f){if(!f)return!1;try{var S=f.toLowerCase();return~["hls","m3u8"].indexOf(S)}catch{return!1}},t.exports.isDashFormat=function(f){if(!f)return!1;try{var S=f.toLowerCase();return~["mpd"].indexOf(S)}catch{return!1}},t.exports.getFormat=function(b){var S={artc:"rts",m3u8:"hls"},b=(b=/\.(mp4)|\.(mp3)|\.(m3u8)|\.(flv)|(artc):/.exec(b))==null?void 0:b[0];return b=b&&b.replace(/\.|:|artc|m3u8/gi,function(_){return S[_]||""})},t.exports.checkSecuritSupport=function(){return t.exports.isSupportMSE()?n.IS_IOS&&(n.IS_UC||n.IS_QUARK||n.IS_BAIDU)?r.get("iOSVodEncriptionBlacklist"):"":"serviceWorker"in navigator?void 0:location.protocol==="http:"?r.get("Error_SW_Https_required"):r.get("UseChromeForVodEncription")+"(SW not found)"},t.exports.nativeSupportH265=function(){return n.IS_IOS||n.IS_MAC_SAFARI},t.exports.findSelectedStreamLevel=function(f,S){var b=S;if(b||(b=u.get(s.SelectedStreamLevel))){for(var _=0;_<f.length;_++)if(f[_].definition==b)return _}else u.set(s.SelectedStreamLevel,f[0].definition,365);return 0},t.exports.getHistoryDetectResult=function(f,S){if(f)return S=S==="hls",f==="hvc1"?S?u.get(s.HWDetectHvc1Hls):u.get(s.HWDetectHvc1):f==="hev1"?S?u.get(s.HWDetectHev1Hls):u.get(s.HWDetectHev1):void 0},t.exports.setHistoryDetectResult=function(f,g,b){var _="unknownCodec",g=g==="hls";f==="hvc1"?_=g?s.HWDetectHvc1Hls:s.HWDetectHvc1:f==="hev1"&&(_=g?s.HWDetectHev1Hls:s.HWDetectHev1),u.set(_,b)},t.exports.handleOption=function(f,S){t.exports.isRts(f.source)&&(f.isLive=!0);var b,_=d.merge(d.copy(v),f),g=(f.autoplayPolicy&&(_.autoplayPolicy=d.merge(v.autoplayPolicy,f.autoplayPolicy)),[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]),T=!1;if(f.useFlashPrism||t.exports.isRTMP(f.source)?(T=!0,g=[{name:"liveIco",align:"tlabs",x:15,y:25},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"volume",align:"tr",x:10,y:25}]):(b=t.exports.isLiveShift(_))?(g.push({name:"liveShiftProgress",align:"tlabs",x:0,y:0}),g.push({name:"playButton",align:"tl",x:15,y:12}),g.push({name:"liveDisplay",align:"tl",x:15,y:6})):g.push({name:"liveDisplay",align:"tlabs",x:15,y:6}),f.isLive){if(f.skinLayout===void 0)_.skinLayout=[{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"unmuteButton",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:t.exports.isRts(f.source)?[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"volume",align:"tr",x:5,y:10},{name:"liveDisplay",align:"tlabs",x:15,y:6}]:g}];else if(f.skinLayout!=0){for(var E=f.skinLayout.length,w=[],x=-1,I=0;I<E;I++)if(_.skinLayout[I].name=="controlBar"){for(var x=I,R=_.skinLayout[I].children.length,k=0;k<R;k++){var L,N=_.skinLayout[I].children[k].name;N!="liveDisplay"&&N!="liveIco"&&N!="fullScreenButton"&&N!="volume"&&N!="snapshot"&&N!="setting"&&N!="subtitle"&&(!b||N!="progress"&&N!="playButton"&&N!="timeDisplay")||(L=_.skinLayout[I].children[k],N=="progress"?L.name="liveShiftProgress":N=="timeDisplay"?L.name="liveShiftTimeDisplay":T&&N=="liveDisplay"&&(L.name="liveIco"),w.push(L))}break}x!=-1&&(_.skinLayout[x].children=w)}}return(f.components===void 0||!f.components||d.isArray(f.components)&&f.components.length==0)&&f.components!="false"&&(_.components=[l]),_},t.exports.ignoreSkinLayouts=function(f,S){var b;if(S!=null&&S.length&&f!=null&&f.length)return b=f,S.forEach(function(_){var g,T,E;-1<_.indexOf(".")?(E=_.split("."),g=E[0],T=E[1],(E=b.find(function(w){return w.name===g}))&&(E.children=E.children.filter(function(w){return w.name!==T}))):b=b.filter(function(w){return w.name!==_})}),b},t.exports.getLiveHostByRegion=function(f){var S="live.aliyuncs.com";return f&&-1<["ap-southeast-1","eu-central-1"].indexOf(f)?"live."+f+".aliyuncs.com":S},t.exports.isVideoTag=function(f){return f&&typeof f.nodeName=="string"&&f.nodeName.toLowerCase()==="video"},t.exports.unqiueTextTracks=function(f){var S=[],S=(f=f===void 0?[]:f).reduce(function(_,g){var T;return _.some(function(E){return E.srclang===g.srclang})?_:((T=g).label=g.label||g.srclang,[].concat(_,[T]))},[]),b={};return S.forEach(function(_,g){b[_.label]?b[_.label].push(g):b[_.label]=[g]}),Object.keys(b).forEach(function(_){_=b[_]||[],1<_.length&&_.forEach(function(g){S[g].label=S[g].label+"("+S[g].srclang+")"})}),S},t.exports.isHvc1Codec=function(f){return-1<(f=f===void 0?"":f).indexOf("hvc1")},t.exports.isHev1Codec=function(f){return-1<(f=f===void 0?"":f).indexOf("hev1")},t.exports.isVvccCodec=function(f){return-1<(f=f===void 0?"":f).indexOf("vvcC")},t.exports.isVvc1Codec=function(f){return-1<(f=f===void 0?"":f).indexOf("vvc1")},t.exports.isVvi1Codec=function(f){return-1<(f=f===void 0?"":f).indexOf("vvi1")},t.exports.isH265Codec=function(f){return t.exports.isHvc1Codec(f=f===void 0?"":f)||t.exports.isHev1Codec(f)},t.exports.isH266Codec=function(f){return t.exports.isVvccCodec(f=f===void 0?"":f)||t.exports.isVvc1Codec(f)||t.exports.isVvi1Codec(f)},t.exports.isH264Codec=function(f){return-1<(f=f===void 0?"":f).indexOf("avc1")},t.exports.getVideoTrack=function(f){var S;return(f=f===void 0?[]:f).forEach(function(b){Number(b.type)===1&&(S=b)}),S},n.IS_ANDROID&&(n.dingTalk()||n.IS_UC||n.is_X5||n.IS_HUAWEI||n.IS_XIAOMI||n.IS_OPPO||n.IS_VIVO||n.IS_MEIZU||n.IS_SAMSUNG||n.IS_WEBVIEW)||n.os&&n.os.name==="windows"&&n.IS_UC);t.exports.shouldUseBasePlayer=function(E,S){var b,_,g,T=E.codecTag,E=E.url,w="unsupported";return!T||(g=t.exports.isHvc1Codec(T),b=t.exports.isMp4(E),E=t.exports.isHls(E),b&&t.exports.nativeSupportH265()&&g)||b&&(()=>{if(!(!y&&(n.IS_CHROME||n.IS_EDGE_NEW)))return!1;var x=0;try{x=n.USER_AGENT.match(/Chrome\/(\d+)/i)[1]}catch{x=0}return!(parseInt(x)<104||!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4;codecs="hvc1.1.6.L120.90"'))})()?S(!0):y?(g=t.exports.getHistoryDetectResult(T,_=E?"hls":"mp4"))==="supported"?S(!0):g===w?S(!1):void h({codecTags:[T],format:_,timeout:2e3}).then(function(x){if(x=x.isHev1Supported||x.isHvc1Supported,t.exports.setHistoryDetectResult(T,_,x?"supported":w),x)return S(!0);S(!1)}).catch(function(x){console.log("hevcDetector ERROR",x),S(!1)}):S(!1)},t.exports.parseHttpHeaders=function(f){if(f){var S={};try{f instanceof Response?f.headers.forEach(function(b,_){S[_]=b}):f.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(g){var g=g.split(": "),_=g.shift(),g=g.join(": ");S[_]=g})}catch{}return S}},t.exports.detectRegionBlock=function(f,S){a.get(f,function(){S(!1)},function(b,_,g){g=t.exports.parseHttpHeaders(g)["x-tengine-error"],_===403&&g&&-1<s.RegionBlockMessages.indexOf(g)?S(!0):S(!1)})},t.exports.enableDbClickSkip=function(f){return f.dbClickSkip&&!f.dbClickFullscreen},t.exports.drawSnapshotText=function(f,S){S=S.snapshotWatermark,S&&S.text&&(f.font=S.font,S.fillColor&&(f.fillStyle=S.fillColor,f.fillText(S.text,S.left,S.top)),S.strokeColor&&(f.strokeStyle=S.strokeColor,f.strokeText(S.text,S.left,S.top)),f.stroke())},t.exports.hasValue=function(f){return f!=null&&f!==""}},{"../config":19,"../lang/index":28,"../player/base/plugin/defaultemptycomponent":103,"./constants":33,"./cookie":34,"./dom":37,"./hardware-decoding-detector":41,"./io":45,"./object":47,"./ua":53}],51:[function(e,t,m){var d=e("./object"),o=e("../player/adaptiveplayer"),c=e("./constants").USER_EVENT_NAME;t.exports.reloadInstance=function(h,s,r){var n=r,a=(n.dispose(),h.readyCallback),l=h._readyCallbackCalled,h=o.create(h,function(v){s(v),l||a(v)});t.exports.restoreUserEvents(r,h),t.exports.removeAllProps(n),(n.__proto__=h)[c]=n[c]},t.exports.storeUserEvents=function(u){var s=u,r=s.__proto__.on,n={};s.on=function(a,l){typeof l=="function"&&(n[a]?n[a].push(l):n[a]=[l],this._el)&&(l.binded=!0,r.call(s,a,l))},s[c]=n},t.exports.restoreUserEvents=function(u,s){var r=u[c];r&&d.each(r,function(n){r[n].forEach(function(a){s.on(n,a)})})},t.exports.removeAllProps=function(u,s){for(var r in s=[].concat(s=s||[],[c]),u)u.hasOwnProperty(r)&&s.indexOf(r)===-1&&delete u[r]}},{"../player/adaptiveplayer":74,"./constants":33,"./object":47}],52:[function(e,t,m){t.exports.set=function(d,o){try{window.localStorage&&localStorage.setItem(d,o)}catch{window[d+"_localStorage"]=o}},t.exports.get=function(d){try{if(window.localStorage)return localStorage.getItem(d)}catch{return window[d+"_localStorage"]}return""}},{}],53:[function(e,t,m){var d,o,c;if(t.exports.USER_AGENT=navigator.userAgent,t.exports.IS_IPHONE=/iPhone/i.test(t.exports.USER_AGENT),t.exports.IS_IPAD=/iPad/i.test(t.exports.USER_AGENT),t.exports.IS_IPOD=/iPod/i.test(t.exports.USER_AGENT),t.exports.IS_MAC=/mac/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE=/Edge/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE_NEW=/Edg/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE,t.exports.IS_IE11=/Trident\/7.0/i.test(t.exports.USER_AGENT),t.exports.IS_X5=/qqbrowser/i.test(t.exports.USER_AGENT.toLowerCase()),t.exports.IS_CHROME=/Chrome/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE&&!t.exports.IS_EDGE_NEW&&!t.exports.IS_X5,t.exports.IS_SAFARI=/Safari/i.test(t.exports.USER_AGENT)&&!t.exports.IS_CHROME&&!t.exports.IS_EDGE_NEW,t.exports.IS_FIREFOX=/Firefox/i.test(t.exports.USER_AGENT),t.exports.IS_UC=/ucweb|UCBrowser|UBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_QUARK=/Quark/i.test(t.exports.USER_AGENT),t.exports.IS_HUAWEI=/HuaweiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_XIAOMI=/MiuiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_OPPO=/HeyTapBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_VIVO=/VivoBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_MEIZU=/MZBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_SAMSUNG=/samsungbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_BAIDU=/baiduboxapp/i.test(t.exports.USER_AGENT),document.all)try{var u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");t.exports.HAS_FLASH=!!u}catch{t.exports.HAS_FLASH=!1}else navigator.plugins&&0<navigator.plugins.length?(u=navigator.plugins["Shockwave Flash"],t.exports.HAS_FLASH=!!u):t.exports.HAS_FLASH=!1;t.exports.IS_MAC_SAFARI=t.exports.IS_MAC&&t.exports.IS_SAFARI&&!t.exports.IS_CHROME&&!t.exports.HAS_FLASH,t.exports.IS_IOS=t.exports.IS_IPHONE||t.exports.IS_IPAD||t.exports.IS_IPOD,t.exports.IOS_VERSION=(()=>{var s=t.exports.USER_AGENT.match(/OS (\d+)_/i);if(s&&s[1])return s[1]})(),t.exports.IOS_FULL_VERSION=(()=>{var s=t.exports.USER_AGENT.match(/OS (\d+)_(\d+)_?/i);if(s&&s[1]&&s[2])return s[1]+"."+s[2]})(),t.exports.IS_HARMONY=/OpenHarmony/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID=/Android/i.test(t.exports.USER_AGENT)||t.exports.IS_HARMONY,t.exports.ANDROID_VERSION=(u=t.exports.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(o=u[1]&&parseFloat(u[1]),d=u[2]&&parseFloat(u[2]),o&&d?parseFloat(u[1]+"."+u[2]):o||null):null,t.exports.IS_OLD_ANDROID=t.exports.IS_ANDROID&&/webkit/i.test(t.exports.USER_AGENT)&&t.exports.ANDROID_VERSION<2.3,t.exports.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),t.exports.IS_MOBILE=t.exports.IS_IOS||t.exports.IS_ANDROID,t.exports.IS_H5=t.exports.IS_MOBILE||!t.exports.HAS_FLASH,t.exports.IS_PC=!t.exports.IS_MOBILE,t.exports.is_X5=/micromessenger/i.test(t.exports.USER_AGENT)||/qqbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID_FIREFOX=t.exports.IS_ANDROID&&t.exports.IS_FIREFOX,t.exports.CHROME_VERSION=t.exports.IS_CHROME&&t.exports.USER_AGENT.match(/Chrome\/(\d+)/i)[1],t.exports.getHost=function(s){var r,n,a="";return s===void 0||s==null||s==""?"":(r=s.indexOf("//"),n=s,a=n=-1<r?s.substring(r+2):n,(s=(a=(s=n.split("/"))&&0<s.length?s[0]:a).split(":"))&&0<s.length?s[0]:a)},t.exports.dingTalk=function(){var s=t.exports.USER_AGENT.toLowerCase();return/dingtalk/i.test(s)},t.exports.IS_DINGTALK=t.exports.dingTalk(),t.exports.wechat=function(){var s=t.exports.USER_AGENT.toLowerCase();return/micromessenger/i.test(s)},t.exports.inIFrame=function(){return self!=top},t.exports.getReferer=function(){var s=document.referrer;if(t.exports.inIFrame())try{s=top.document.referrer}catch{s=document.referrer}return s},t.exports.getHref=function(){if(t.exports.inIFrame())try{top.location.href}catch{}return location.href},t.exports.check360=function(){return navigator.userAgent.indexOf("Safari")!=-1?(()=>{var s=navigator.userAgent.split(" ");if(s[s.length-1].indexOf("Safari")!=-1){for(var r in navigator.plugins)if(navigator.plugins[r].filename=="np-mswmp.dll")return!0}return!1})():(navigator.msPointerEnabled==null||navigator.msPointerEnabled)&&(navigator.msDoNotTrack==1||window.doNotTrack==1)&&(!!Number(window.screenX)&&window.screenLeft-window.screenX!=8||(navigator.userAgent.indexOf("MSIE 7.0")!=-1||navigator.userAgent.indexOf("MSIE 8.0")!=-1)&&console.count==null)},(function(s,_){var n=this.os={},a=this.browser={},l=s.match(/Web[kK]it[\/]{0,1}([\d.]+)/),h=s.match(/(Android);?[\s\/]+([\d.]+)?/),v=!!s.match(/\(Macintosh\; Intel /),y=s.match(/(iPad).*OS\s([\d_]+)/),f=s.match(/(iPod)(.*OS\s([\d_]+))?/),S=!y&&s.match(/(iPhone\sOS)\s([\d_]+)/),b=s.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),_=/Win\d{2}|Windows/.test(_),g=s.match(/Windows Phone ([\d.]+)/),T=b&&s.match(/TouchPad/),E=s.match(/Kindle\/([\d.]+)/),w=s.match(/Silk\/([\d._]+)/),x=s.match(/(BlackBerry).*Version\/([\d.]+)/),I=s.match(/(BB10).*Version\/([\d.]+)/),R=s.match(/(RIM\sTablet\sOS)\s([\d.]+)/),k=s.match(/PlayBook/),L=s.match(/Chrome\/([\d.]+)/)||s.match(/CriOS\/([\d.]+)/),N=s.match(/Firefox\/([\d.]+)/),j=s.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),U=s.match(/MSIE\s([\d.]+)/)||s.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),W=!L&&s.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),B=W||s.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(a.webkit=!!l)&&(a.version=l[1]),h&&(n.android=!0,n.version=h[2]),S&&!f&&(n.ios=n.iphone=!0,n.version=S[2].replace(/_/g,".")),y&&(n.ios=n.ipad=!0,n.version=y[2].replace(/_/g,".")),f&&(n.ios=n.ipod=!0,n.version=f[3]?f[3].replace(/_/g,"."):null),g&&(n.wp=!0,n.version=g[1]),b&&(n.webos=!0,n.version=b[2]),T&&(n.touchpad=!0),x&&(n.blackberry=!0,n.version=x[2]),I&&(n.bb10=!0,n.version=I[2]),R&&(n.rimtabletos=!0,n.version=R[2]),k&&(a.playbook=!0),E&&(n.kindle=!0,n.version=E[1]),w&&(a.silk=!0,a.version=w[1]),!w&&n.android&&s.match(/Kindle Fire/)&&(a.silk=!0),L&&(a.chrome=!0,a.version=L[1]),N&&(a.firefox=!0,a.version=N[1]),j&&(n.firefoxos=!0,n.version=j[1]),U&&(a.ie=!0,a.version=U[1]),B&&(v||n.ios||_||h)&&(a.safari=!0,n.ios||n.android||(a.version=B[1])),n.ios&&(a.version=n.version),W&&(a.webview=!0),v&&((l=s.match(/[\d]*_[\d]*_[\d]*/))&&0<l.length&&l[0]&&(n.version=l[0].replace(/_/g,".")),/MQBHD/.test(s))&&(a.version=((s.match(/.*OS\s([\d_]+)/)||[])[1]||"").replace(/_/g,".")),n.tablet=!!(y||k||h&&!s.match(/Mobile/)||N&&s.match(/Tablet/)||U&&!s.match(/Phone/)&&s.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(h||S||b||x||I||L&&s.match(/Android/)||L&&s.match(/CriOS\/([\d.]+)/)||N&&s.match(/Mobile/)||U&&s.match(/Touch/))),n.pc=!n.tablet&&!n.phone,v?n.name="macOS":_?(n.name="windows",n.version=(()=>{var M=navigator.userAgent,C="";return(-1<M.indexOf("Windows NT 5.0")||-1<M.indexOf("Windows 2000"))&&(C="2000"),(-1<M.indexOf("Windows NT 5.1")||-1<M.indexOf("Windows XP"))&&(C="XP"),(-1<M.indexOf("Windows NT 5.2")||-1<M.indexOf("Windows 2003"))&&(C="2003"),(-1<M.indexOf("Windows NT 6.0")||-1<M.indexOf("Windows Vista"))&&(C="Vista"),(-1<M.indexOf("Windows NT 6.1")||-1<M.indexOf("Windows 7"))&&(C="7"),(-1<M.indexOf("Windows NT 6.2")||-1<M.indexOf("Windows 8"))&&(C="8"),(-1<M.indexOf("Windows NT 6.3")||-1<M.indexOf("Windows 8.1"))&&(C="8.1"),C=-1<M.indexOf("Windows NT 10")||-1<M.indexOf("Windows 10")?"10":C})()):n.name=(()=>{var M=navigator.userAgent,C="other",D=t.exports.os;return D.ios?"iOS":D.android?"android":-1<M.indexOf("OpenHarmony")?"ohos":-1<M.indexOf("Baiduspider")?"Baiduspider":-1<M.indexOf("PlayStation")?"PS4":(D=navigator.platform=="Win32"||navigator.platform=="Windows"||-1<M.indexOf("Windows"),(M=navigator.platform=="Mac68K"||navigator.platform=="MacPPC"||navigator.platform=="Macintosh"||navigator.platform=="MacIntel")&&(C="macOS"),navigator.platform!="X11"||D||M||(C="Unix"),-1<String(navigator.platform).indexOf("Linux")&&(C="Linux"),D?"windows":C)})(),a.name=(f=navigator.userAgent.toLowerCase(),(g=t.exports.browser).firefox?"Firefox":g.ie?/edge/.test(f)?"Edge":"IE":t.exports.IS_EDGE_NEW?"EdgeChromium":/micromessenger/.test(f)?"微信内置浏览器":/qqbrowser/.test(f)?"QQ浏览器":t.exports.IS_UC?"UC":t.exports.IS_QUARK?"Quark":t.exports.IS_DINGTALK?"Dingtalk":t.exports.IS_HUAWEI?"HuaweiBrowser":t.exports.IS_XIAOMI?"MiBrowser":t.exports.IS_OPPO?"OppoBrowser":t.exports.IS_VIVO?"VivoBrowser":t.exports.IS_MEIZU?"MeizuBrowser":t.exports.IS_SAMSUNG?"SamsungBrowser":t.exports.IS_WEBVIEW||/MQBHD/.test(f)?"webview":g.chrome?"Chrome":g.safari?"Safari":/baiduspider/.test(f)?"Baiduspider":/opera/.test(f)?"Opera":/360se/.test(f)?"360浏览器":/bidubrowser/.test(f)?"百度浏览器":/metasr/.test(f)?"搜狗浏览器":/lbbrowser/.test(f)?"猎豹浏览器":/playstation/.test(f)?"PS4浏览器":void 0)}).call(t.exports,navigator.userAgent,navigator.platform),t.exports.IS_WEBVIEW=(d=t.exports.USER_AGENT,o=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(Version).*(wv|.0.0.0)","Linux; U; Android"].join("|")+")","ig"),c=new RegExp("("+["VivoBrowser","MZBrowser","MiuiBrowser"].join("|")+")","ig"),!!d.match(o)&&!d.match(c))},{}],54:[function(e,t,m){var d=e("./dom");t.exports.getAbsoluteURL=function(o){return o=o.match(/^https?:\/\//)?o:d.createEl("div",{innerHTML:'<a href="'+o+'">x</a>'}).firstChild.href},t.exports.parseUrl=function(o){var c,u=["protocol","hostname","port","pathname","search","hash","host"],s=d.createEl("a",{href:o}),r=s.host===""&&s.protocol!=="file:";r&&((c=d.createEl("div")).innerHTML='<a href="'+o+'"></a>',s=c.firstChild,c.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(c));for(var n={},a=0;a<u.length;a++)n[u[a]]=s[u[a]];return n.segments=s.pathname.replace(/^\//,"").split("/"),r&&document.body.removeChild(c),n}},{"./dom":37}],55:[function(e,t,m){var d=e("./dom"),o=e("./ua"),c=e("./playerutil");t.exports.formatTime=function(r){r=Math.max(0,r||0);var s,r=Math.floor(r),n=Math.floor(r/3600);return r%=3600,s=Math.floor(r/60),r=r%60,!(n===1/0||isNaN(n)||s===1/0||isNaN(s)||r==1/0||isNaN(r))&&((n=10<=n?n:"0"+n)==="00"?"":n+":")+(10<=s?s:"0"+s)+":"+(10<=r?r:"0"+r)},t.exports.extractTime=function(u){var s;return u?((s=10<=(s=parseInt(u.getHours()))?s:"0"+s)==="00"?"":s+":")+(s=10<=(s=parseInt(u.getMinutes()))?s:"0"+s)+":"+(s=10<=(s=parseInt(u.getSeconds()))?s:"0"+s):""},t.exports.convertToTimestamp=function(u,s){var r="";return u&&(s?r=u.gettime():(r=Date.parse(u),r/=1e3)),r},t.exports.convertToDate=function(u,s){var r="";return u&&(r=new Date).setTime(1e3*u),r},t.exports.parseTime=function(u){var s,r,n;return u?(n=r=s=0,(u=u.split(":")).length===3?(s=u[0],r=u[1],n=u[2]):u.length===2?(r=u[0],n=u[1]):u.length===1&&(n=u[0]),3600*(s=parseInt(s,10))+60*(r=parseInt(r,10))+(n=Math.ceil(parseFloat(n)))):"00:00:00"},t.exports.formatDate=function(u,s){var r,n={"M+":u.getMonth()+1,"d+":u.getDate(),"H+":u.getHours(),"m+":u.getMinutes(),"s+":u.getSeconds(),"q+":Math.floor((u.getMonth()+3)/3),S:u.getMilliseconds()};for(r in/(y+)/.test(s)&&(s=s.replace(RegExp.$1,(u.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(s)&&(s=s.replace(RegExp.$1,RegExp.$1.length==1?n[r]:("00"+n[r]).substr((""+n[r]).length)));return s},t.exports.sleep=function(u){},t.exports.htmlEncodeAll=function(u){return u==null?"":u.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},t.exports.toBinary=function(u){if(!window.atob)return"";for(var s=atob(u),r=s.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=s.charCodeAt(a);return n},t.exports.readyBinary=function(u){for(var s=new Uint8Array(u),r=s.length,n="",a=0;a<r;a++)n+=s[a];return n},t.exports.delayHide=function(u,s){u&&(s===void 0&&(s=1e3),u.delayHanlder&&clearTimeout(u.delayHanlder),u.delayHanlder=setTimeout(function(){d.css(u,"display","none")},s))},t.exports.openInFile=function(){return window.location.protocol.toLowerCase().indexOf("file")!=-1},t.exports.contentProtocolMixed=function(u,s,r){return!!((o.os.pc&&(c.isHls(u,r)&&!o.browser.safari||c.isFlv(u,r))||s)&&window.location.protocol.toLowerCase()=="https:"&&u&&-1<u.toLowerCase().indexOf("http://"))},t.exports.queryString=function(u){var s,r,n;return(u=(u=decodeURIComponent(u)).split("?")).length===2&&(s=u[1].split("&"))?(r={},n=0,$(s).each(function(){var a=s[n].split("=");a.length===2&&(r[a[0]]=a[1].replace(/\+/g," ")),n++}),r):{}},t.exports.log=function(u){var s=window.location.href,s=t.exports.queryString(s);s&&s.debug==1&&console.log(u)},t.exports.arrayBufferToB64=function(u){for(var s="",r=new Uint8Array(u),n=r.byteLength,a=0;a<n;a++)s+=String.fromCharCode(r[a]);return window.btoa(s)},t.exports.b64ToArrayBuffer=function(u){for(var s=atob(u),r=new Uint8Array(s.length),n=0;n<s.length;n++)r[n]=s.charCodeAt(n);return r.buffer},t.exports.throttle=function(u,s){var r=null,n=0;return function(){for(var a=this,l=arguments.length,h=new Array(l),v=0;v<l;v++)h[v]=arguments[v];var y=Date.now(),f=s-(y-n);f<=0?(u.apply(this,h),n=y):(clearTimeout(r),r=setTimeout(function(){u.apply(a,h),n=Date.now()},f))}}},{"./dom":37,"./playerutil":50,"./ua":53}],56:[function(e,t,m){function d(c){for(var u=5381,s=c.length;s;)u=33*u^c.charCodeAt(--s);return(u>>>0).toString()}var o=e("./vttparse");t.exports={parse:function(n,u,s){var r,n=n.trim().replace(/\r\n|\n\r|\n|\r/g,`
`).split(`
`),a=[],l=new o;l.oncue=function(h){h.id=d(h.startTime)+d(h.endTime)+d(h.text),h.text=decodeURIComponent(escape(h.text)),h.isBig=!1;var v=h.text.split("#xywh=");v.length==2&&(v=v[1].split(","),h.x=v[0],h.y=v[1],h.w=v[2],h.h=v[3],h.isBig=!0),0<h.endTime&&a.push(h)},l.onparsingerror=function(h){r=h},l.onflush=function(){r&&s?(s(r),console.log(r)):u(a)},n.forEach(function(h){l.parse(h+`
`)}),l.flush()}}},{"./vttparse":58}],57:[function(e,t,m){function d(r){return typeof r=="string"&&!!s[r.toLowerCase()]&&r.toLowerCase()}function o(r){for(var n=1;n<arguments.length;n++){var a,l=arguments[n];for(a in l)r[a]=l[a]}return r}function c(r,n,a){var l=this,h=(()=>{if(typeof navigator<"u")return/MSIE\s8\.0/.test(navigator.userAgent)})(),v={},y=(h?l=document.createElement("custom"):v.enumerable=!0,l.hasBeenReset=!1,""),f=!1,S=r,b=n,_=a,g=null,T="",E=!0,w="auto",x="start",I=50,R="middle",k=50,L="middle";if(Object.defineProperty(l,"id",o({},v,{get:function(){return y},set:function(N){y=""+N}})),Object.defineProperty(l,"pauseOnExit",o({},v,{get:function(){return f},set:function(N){f=!!N}})),Object.defineProperty(l,"startTime",o({},v,{get:function(){return S},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");S=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"endTime",o({},v,{get:function(){return b},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");b=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"text",o({},v,{get:function(){return _},set:function(N){_=""+N,this.hasBeenReset=!0}})),Object.defineProperty(l,"region",o({},v,{get:function(){return g},set:function(N){g=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"vertical",o({},v,{get:function(){return T},set:function(N){if(N=typeof(N=N)=="string"&&!!u[N.toLowerCase()]&&N.toLowerCase(),N===!1)throw new SyntaxError("An invalid or illegal string was specified.");T=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"snapToLines",o({},v,{get:function(){return E},set:function(N){E=!!N,this.hasBeenReset=!0}})),Object.defineProperty(l,"line",o({},v,{get:function(){return w},set:function(N){if(typeof N!="number"&&N!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");w=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"lineAlign",o({},v,{get:function(){return x},set:function(N){if(N=d(N),!N)throw new SyntaxError("An invalid or illegal string was specified.");x=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"position",o({},v,{get:function(){return I},set:function(N){if(N<0||100<N)throw new Error("Position must be between 0 and 100.");I=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"positionAlign",o({},v,{get:function(){return R},set:function(N){if(N=d(N),!N)throw new SyntaxError("An invalid or illegal string was specified.");R=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"size",o({},v,{get:function(){return k},set:function(N){if(N<0||100<N)throw new Error("Size must be between 0 and 100.");k=N,this.hasBeenReset=!0}})),Object.defineProperty(l,"align",o({},v,{get:function(){return L},set:function(N){if(N=d(N),!N)throw new SyntaxError("An invalid or illegal string was specified.");L=N,this.hasBeenReset=!0}})),l.displayState=void 0,h)return l}var u,s;t.exports=typeof window<"u"&&window.VTTCue?window.VTTCue:(u={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0},c.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},c)},{}],58:[function(e,t,m){function d(){return{decode:function(l){if(!l)return"";if(typeof l!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(l))}}}var o=e("./vttcue");function c(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new d,this.regionList=[]}function u(){this.values=Object.create(null)}function s(l,h,v,y){var f,S,b=y?l.split(y):[l];for(f in b)typeof b[f]=="string"&&(S=b[f].split(v)).length===2&&h(S[0],S[1])}u.prototype={set:function(l,h){this.get(l)||h===""||(this.values[l]=h)},get:function(l,h,v){return v?this.has(l)?this.values[l]:h[v]:this.has(l)?this.values[l]:h},has:function(l){return l in this.values},alt:function(l,h,v){for(var y=0;y<v.length;++y)if(h===v[y]){this.set(l,h);break}},integer:function(l,h){/^-?\d+$/.test(h)&&this.set(l,parseInt(h,10))},percent:function(l,h){return!!(h.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(h=parseFloat(h))&&h<=100)&&(this.set(l,h),!0)}};var r=new o(0,0,0),n=r.align==="middle"?"middle":"center";function a(l,h,v){var y,f,S=l;function b(){var g,T=(T=(T=l).match(/^(\d+):(\d{2})(:\d{2})?(\.\d{3})?/))?(g=(g=T[4])&&g.replace(".",""),T[3]?E(T[1],T[2],T[3].replace(":",""),g):59<T[1]?E(T[1],T[2],0,g):E(0,T[1],T[2],g)):null;function E(w,x,I,R){return 3600*(0|w)+60*(0|x)+(0|I)+(0|R)/1e3}if(T===null)throw new Error("Malformed timestamp: "+S);return l=l.replace(/^[^\sa-zA-Z-]+/,""),T}function _(){l=l.replace(/^\s+/,"")}if(_(),h.startTime=b(),_(),l.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+S);l=l.substr(3),_(),h.endTime=b(),_(),y=l,h=h,f=new u,s(y,function(g,T){switch(g){case"region":for(var E=v.length-1;0<=E;E--)if(v[E].id===T){f.set(g,v[E].region);break}break;case"vertical":f.alt(g,T,["rl","lr"]);break;case"line":var w=T.split(","),x=w[0];f.integer(g,x),f.percent(g,x)&&f.set("snapToLines",!1),f.alt(g,x,["auto"]),w.length===2&&f.alt("lineAlign",w[1],["start",n,"end"]);break;case"position":w=T.split(","),f.percent(g,w[0]),w.length===2&&f.alt("positionAlign",w[1],["start",n,"end","line-left","line-right","auto"]);break;case"size":f.percent(g,T);break;case"align":f.alt(g,T,["start",n,"end","left","right"])}},/:/,/\s/),h.region=f.get("region",null),h.vertical=f.get("vertical",""),(y=f.get("line","auto"))==="auto"&&r.line===-1&&(y=-1),h.line=y,h.lineAlign=f.get("lineAlign","start"),h.snapToLines=f.get("snapToLines",!0),h.size=f.get("size",100),h.align=f.get("align",n),(y=f.get("position","auto"))==="auto"&&r.position===50&&(y=h.align==="start"||h.align==="left"?0:h.align==="end"||h.align==="right"?100:50),h.position=y}c.prototype={parse:function(l){var h=this;function v(){for(var _=0,g=(g=h.buffer).replace(/<br(?: \/)?>/gi,`
`);_<g.length&&g[_]!=="\r"&&g[_]!==`
`;)++_;var T=g.substr(0,_);return g[_]==="\r"&&++_,g[_]===`
`&&++_,h.buffer=g.substr(_),T}l&&(h.buffer+=h.decoder.decode(l,{stream:!0}));try{if(h.state==="INITIAL"){if(!/\r\n|\n/.test(h.buffer))return this;var y,f=(y=v()).match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new Error("Malformed WebVTT signature.");h.state="HEADER"}for(var S=!1;h.buffer;){if(!/\r\n|\n/.test(h.buffer))return this;switch(S?S=!1:y=v(),h.state){case"HEADER":/:/.test(y)?s(y,function(_,g){_==="Region"&&console.log("parse region",g)},/:/):y||(h.state="ID");continue;case"NOTE":y||(h.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(y)){h.state="NOTE";break}if(!y)continue;if(h.cue=new o(0,0,""),h.state="CUE",y.indexOf("-->")===-1){h.cue.id=y;continue}case"CUE":try{a(y,h.cue,h.regionList)}catch{h.cue=null,h.state="BADCUE";continue}h.state="CUETEXT";continue;case"CUETEXT":var b=y.indexOf("-->")!==-1;if(!y||b&&(S=!0)){h.oncue&&h.oncue(h.cue),h.cue=null,h.state="ID";continue}h.cue.text&&(h.cue.text+=`
`),h.cue.text+=y;continue;case"BADCUE":y||(h.state="ID");continue}}}catch{h.state==="CUETEXT"&&h.cue&&h.oncue&&h.oncue(h.cue),h.cue=null,h.state=h.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&this.state!=="HEADER"||(this.buffer+=`

`,this.parse()),this.state==="INITIAL")throw new Error("Malformed WebVTT signature.")}catch(l){throw l}return this.onflush&&this.onflush(),this}},t.exports=c},{"./vttcue":57}],59:[function(y,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(S){for(var b=1;b<arguments.length;b++){var _,g=arguments[b];for(_ in g)!{}.hasOwnProperty.call(g,_)||(S[_]=g[_])}return S}).apply(null,arguments)}function o(S,b){for(var _=0;_<b.length;_++){var g=b[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(S,(T=>typeof(T=((E,w)=>{if(typeof E!="object"||!E)return E;var x=E[Symbol.toPrimitive];if(x===void 0)return(w==="string"?String:Number)(E);if(typeof(x=x.call(E,w))!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")})(T,"string"))=="symbol"?T:T+"")(g.key),g)}}function c(S,b,_){return b&&o(S.prototype,b),Object.defineProperty(S,"prototype",{writable:!1}),S}var u=y("./vtt-parser"),s=y("./vtt-renderer"),r=y("./vtt-loader"),n=y("../../player/base/event/eventtype"),a=y("../../lib/ua"),l=y("../../lib/event"),h=y("../../ui/component/util"),v=s.CTR_BAR_HEIGHT,y=(()=>{function S(_){this.parser=null,this.activeRenderer=null,this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.tickTimer=null,this.prevPosition=null,this._enabled=!1,this._isShow=!1,this.sleeper=new f,this.player=(_=_||{}).player,this.loader=new r,this.parser=new u,this.createRendererInstance(),this.bindEvents()}var b=S.prototype;return b.bindEvents=function(){function _(I){I.paramData.splayer&&T.switchRenderer(s.VttBasicRenderer.RENDER_TYPE_CUSTOM)}var g,T=this,E=this,w=this.player,x=(w.on(n.Private.TextTrackFounded,function(I){if(I.paramData.from==="user")T.hasUserTracks=!0;else if(T.hasUserTracks)return;I=I.paramData.textTracks,I&&I.length&&(T.enabled=!0,T.trackConfigs=I.map(function(R){return d({},R,{label:R.label||R.srclang,language:R.srclang})}),T.trackConfigs.forEach(function(R){T.activeRenderer.addTrack(R),w.getOptions().controlBarVisibility==="always"&&T.activeRenderer.forceUpdateCuesStyle({transform:"translateY("+("-"+v+"px")+")"},T.parser.cues)}))}),w.on(n.Private.UserTrackReset,function(){T.hasUserTracks=!1}),w.on(n.Player.H265PlayInfo,_),w.on(n.Player.H266PlayInfo,_),a.IS_IOS?(g=!1,w.on(n.Player.RequestFullScreen,function(){g=!0}),l.on(w.tag,"webkitendfullscreen",function(){g=!1}),l.on(w.tag.textTracks,"change",function(){var I;T.sleeper.isSleep||(T.sleeper.sleep(1e3),T.isCustomRenderer)||g&&(I=w.tag.textTracks,(I=Array.from(I).find(function(R){return R.mode==="showing"}))?T.activeTrackConfig&&T.activeTrackConfig.language===I.language||(T.switchTrack(I.language),w.trigger(n.Private.SelectorValueChange,{type:"cc",text:I.label})):w.trigger(n.Private.CCStateChanged,{value:"off",lang:""}))})):(w.on(n.Player.RequestFullScreen,this.adjustLayout.bind(this)),w.on(n.Player.CancelFullScreen,this.adjustLayout.bind(this)),x=h.debounce(function(){E.isCustomRenderer&&E.activeRenderer.resetCuesStyle(T.parser.cues)},100),l.on(window,"resize",x)),h.throttle(function(){E.isShow&&(E.activeRenderer.forceUpdateCuesStyle({transform:"translateY("+("-"+v+"px")+")"},E.parser.cues),E.isCustomRenderer)&&E.player.paused()&&(E.activeRenderer.hide(),E.activeRenderer.restore())},100)),x=(w.on(n.Private.ShowBar,x),h.throttle(function(){E.isShow&&(E.activeRenderer.forceUpdateCuesStyle({transform:"none"},E.parser.cues),E.isCustomRenderer)&&E.player.paused()&&(E.activeRenderer.hide(),E.activeRenderer.restore())},100));w.on(n.Private.HideBar,x),w.on(n.Private.VttHide,function(){T.hide()}),w.on(n.Private.VttSwitchTrack,function(I){T.switchTrack(I.paramData)}),w.on(n.Private.VttClearTracks,function(){T.reset()})},b.createRendererInstance=function(_){this.activeRenderer&&this.activeRenderer.dispose();var g=this.player.getOptions(),T={player:this.player};this.adaptPlatform(),_?_===s.VttBasicRenderer.RENDER_TYPE_NATIVE?this.activeRenderer=new s.NativeRenderer(T):(T.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(T)):g.useNativeTextRenderer?this.activeRenderer=new s.NativeRenderer(T):(T.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(T))},b.switchTrack=function(_){var g,T=this;this.trackConfigs&&this.trackConfigs.length&&(this.activeTrackConfig&&(this.parser.dispose(),this.parser=new u,this.activeRenderer.clearTrack(this.activeTrackConfig.language),this.activeRenderer.hide()),this.activeTrackConfig=_,g=this.trackConfigs.find(function(E){return E.language===_}))&&(g=g._loaded?"":(g||{}).src,this.loadVtt(g,function(){T.parseVtt(),T.activeRenderer.addCues(T.parser.cues,T.activeTrackConfig.language),T.show()}))},b.adaptPlatform=function(){var _=this.player.getOptions();a.IS_IOS&&(_.useNativeTextRenderer=!0)},b.loadVtt=function(_,g){var T=this;_?this.loader.loadFromUrl(_,function(E){T.activeTrackConfig._loaded=!0,T.vttText[T.activeTrackConfig.language]=E,g&&g()}):g&&g()},b.show=function(){this._isShow=!0,this.isCustomRenderer&&this.startTickTimeListener(),this.activeRenderer.show(this.activeTrackConfig.language);var _=this.player.el().getElementsByClassName("prism-controlbar")[0];_&&((_=_.style)==null?void 0:_.display)==="block"&&this.activeRenderer.forceUpdateCuesStyle({transform:"translateY("+("-"+v+"px")+")"},this.parser.cues)},b.hide=function(){this._isShow=!1,this.clearTicker(),this.activeRenderer.hide()},b.switchRenderer=function(_){var g=this,T=s.VttBasicRenderer.RENDER_TYPE_NATIVE,E=s.VttBasicRenderer.RENDER_TYPE_CUSTOM;(_===T&&this.activeRenderer.type!==T||_===E&&this.activeRenderer.type!==E)&&(this.createRendererInstance(_),this.trackConfigs.forEach(function(w){return g.activeRenderer.addTrack(w)}),this.activeRenderer.addCues(this.parser.cues,this.activeTrackConfig.language),this.show())},b.parseVtt=function(){this.parser.parse(this.vttText[this.activeTrackConfig.language])},b.adjustLayout=function(){var _=this;this.isShow&&this.isCustomRenderer&&(this.activeRenderer.hide(),setTimeout(function(){_.activeRenderer.restore()},300))},b.startTickTimeListener=function(){var _=this;this.clearTicker(),this.tick(function(){var g=_.player.getCurrentTime();isNaN(g)||_.activeRenderer.renderCues(_.findTargetCues(g))})},b.tick=function(_){var g=this;this.tickTimer=requestAnimationFrame(function(){try{_()}catch(T){console.log("e",T)}g.tick(_)})},b.clearTicker=function(){this.tickTimer&&(cancelAnimationFrame(this.tickTimer),this.tickTimer=null)},b.getOverlayId=function(){var _=(this.player.el().getElementsByClassName("prism-text-overlay")||[])[0];if(_)return _.id},b.findTargetCues=function(_){if(this.parser&&_!==this.prevPosition){this.prevPosition=_;for(var g=[],T=0;T<this.parser.cues.length;T++){var E=this.parser.cues[T];if(_>=E.startTime&&_<=E.endTime)g.push(E);else if(_<E.startTime)break}return g}},b.reset=function(){this.clearTicker(),this.parser&&this.parser.reset(),this.activeRenderer&&this.activeRenderer.reset()},b.dispose=function(){this.clearTicker(),this.parser&&(this.parser.dispose(),this.parser=null),this.activeRenderer&&(this.activeRenderer.dispose(),this.activeRenderer=null),this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.prevPosition=null,this._enabled=!1,this._isShow=!1},c(S,[{key:"isShow",get:function(){return this._isShow}},{key:"enabled",get:function(){return this._enabled},set:function(_){this._enabled=_}},{key:"isCustomRenderer",get:function(){if(this.activeRenderer)return this.activeRenderer.type===s.VttBasicRenderer.RENDER_TYPE_CUSTOM}},{key:"activeTrackConfig",get:function(){var _;return(_=this.trackConfigs)==null?void 0:_.find(function(g){return g._isActive})},set:function(_){this.trackConfigs.forEach(function(g){return g._isActive=g.language===_})}}])})(),f=(()=>{function S(){this.value=!1,this.timer=null}return S.prototype.sleep=function(b){var _=this;this.timer&&clearTimeout(this.timer),this.value=!0,this.timer=setTimeout(function(){_.value=!1},b)},c(S,[{key:"isSleep",get:function(){return this.value}}])})();t.exports=y},{"../../lib/event":38,"../../lib/ua":53,"../../player/base/event/eventtype":77,"../../ui/component/util":173,"./vtt-loader":61,"./vtt-parser":62,"./vtt-renderer":63}],60:[function(l,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(v){for(var y=1;y<arguments.length;y++){var f,S=arguments[y];for(f in S)!{}.hasOwnProperty.call(S,f)||(v[f]=S[f])}return v}).apply(null,arguments)}function o(v,y){v.prototype=Object.create(y.prototype),c(v.prototype.constructor=v,y)}function c(v,y){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,S){return f.__proto__=S,f})(v,y)}function u(v,y){for(var f=0;f<y.length;f++){var S=y[f];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,(b=>typeof(b=((_,g)=>{if(typeof _!="object"||!_)return _;var T=_[Symbol.toPrimitive];if(T===void 0)return(g==="string"?String:Number)(_);if(typeof(T=T.call(_,g))!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")})(b,"string"))=="symbol"?b:b+"")(S.key),S)}}function s(v,y,f){return y&&u(v.prototype,y),Object.defineProperty(v,"prototype",{writable:!1}),v}var r=l("../../lib/data"),n={DISABLED:"disabled",SHOWING:"showing",HIDDEN:"hidden"},a={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",METADATA:"metadata",CHAPTERS:"chapters"},l=(v=>{function y(b){var b=d({},b=b===void 0?{}:b,{kind:b.kind||a.SUBTITLES,language:b.language||b.srclang||""}),_=b.mode||n.DISABLED;return-1<[a.METADATA,a.CHAPTERS].indexOf(b.kind)&&(_=n.HIDDEN),b.mode=_,(_=v.call(this,b)||this)._cues=[],_._activeCues=[],_._settings={},_._nativeTrack=null,_._extData={},_._settings=b,_}o(y,v);var f=y.prototype;return f.setExtData=function(S){this._extData=d({},this._extData,S=S===void 0?{}:S)},f.addCue=function(S){this._cues.push(S),this.nativeTrack&&this.nativeTrack.addCue(S)},f.removeCue=function(S){this._cues=this._cues.filter(function(b){return b!==S}),this.nativeTrack&&this.nativeTrack.removeCue(S)},s(y,[{key:"default",get:function(){return this._settings.default}},{key:"mode",get:function(){return this._settings.mode},set:function(S){this._settings.mode=S,this.nativeTrack&&(this.nativeTrack.mode=S)}},{key:"language",get:function(){return this._settings.language},set:function(S){this._settings.language=S,this.nativeTrack&&(this.nativeTrack.language=S)}},{key:"cues",get:function(){return this._cues}},{key:"activeCues",get:function(){return this._activeCues}},{key:"nativeTrack",get:function(){return this._nativeTrack},set:function(S){this._nativeTrack=S}}])})(s(function(v){this._id=(v=v===void 0?{}:v).id||"prism-track-"+r.guid(),this._kind=v.kind||"",this._language=v.language||"",this._label=v.label||""},[{key:"label",get:function(){return this._label},set:function(v){this._label=v}},{key:"id",get:function(){return this._id}},{key:"kind",get:function(){return this._kind}},{key:"language",get:function(){return this._language}}])),h=(v=>{function y(){return v.call(this)||this}return o(y,v),y})((()=>{function v(){this._trackList=[]}return v.prototype.addTrack=function(y){var f=this.length;""+f in this||Object.defineProperty(this,f,{get:function(){return this._trackList[f]}}),this._trackList.indexOf(y)===-1&&this._trackList.push(y)},s(v,[{key:"length",get:function(){return this._trackList.length}},{key:"list",get:function(){return this._trackList}}])})());t.exports.TextTrack=l,t.exports.TextTrackList=h,t.exports.TRACK_MODE=n,t.exports.TRACK_KIND=a},{"../../lib/data":35}],61:[function(e,t,m){var d=e("../io");t.exports=(()=>{function o(){}return o.prototype.loadFromUrl=function(c,u){d.get(c,function(s){u(s)},function(s,r){console.log("ERR",s,r)})},o})()},{"../io":45}],62:[function(c,t,m){function d(u,s){for(var r=0;r<s.length;r++){var n=s[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,(a=>typeof(a=((l,h)=>{if(typeof l!="object"||!l)return l;var v=l[Symbol.toPrimitive];if(v===void 0)return(h==="string"?String:Number)(l);if(typeof(v=v.call(l,h))!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")})(a,"string"))=="symbol"?a:a+"")(n.key),n)}}var o=c("./vttjs").WebVTT,c=(()=>{function u(){var n=this;this._cues=[],this._regions=[],this.parser=new o.Parser(window,o.StringDecoder()),this.parser.onregion=function(a){n._regions.push(a)},this.parser.oncue=function(a){n._cues.push(a)},this.parser.onflush=function(){},this.parser.onparsingerror=function(a){}}var s,r=u.prototype;return r.parse=function(n){this.parser.parse(n),this.parser.flush()},r.reset=function(){this.parser.flush(),this._cues=[],this._regions=[]},r.dispose=function(){this.parser.flush(),this.parser=null,this._cues=[],this._regions=[]},r=u,(s=[{key:"cues",get:function(){return this._cues}}])&&d(r.prototype,s),Object.defineProperty(r,"prototype",{writable:!1}),r})();t.exports=c},{"./vttjs":64}],63:[function(v,t,m){function d(f,S){for(var b=0;b<S.length;b++){var _=S[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,(g=>typeof(g=((T,E)=>{if(typeof T!="object"||!T)return T;var w=T[Symbol.toPrimitive];if(w===void 0)return(E==="string"?String:Number)(T);if(typeof(w=w.call(T,E))!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")})(g,"string"))=="symbol"?g:g+"")(_.key),_)}}function o(){return(o=Object.assign?Object.assign.bind():function(f){for(var S=1;S<arguments.length;S++){var b,_=arguments[S];for(b in _)!{}.hasOwnProperty.call(_,b)||(f[b]=_[b])}return f}).apply(null,arguments)}function c(f,S){f.prototype=Object.create(S.prototype),u(f.prototype.constructor=f,S)}function u(f,S){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,_){return b.__proto__=_,b})(f,S)}v("../../player/base/event/eventtype");var y=v("./text-track"),s=v("./vttjs").WebVTT,r=v("../../lib/dom"),n=y.TextTrack,a=y.TextTrackList,l=y.TRACK_MODE,h=(y.TRACK_KIND,(()=>{function f(b){this.player=null,this.type=null,this.trackList=null,this.overrideStyle={},this.player=(b=b||{}).player,this.defineTextTrackGetter(),this.trackList=new a}var S=f.prototype;return S.log=function(){for(var b,_=arguments.length,g=new Array(_),T=0;T<_;T++)g[T]=arguments[T];(b=console).log.apply(b,["[LOG:"+this.type+"]"].concat(g))},S.defineTextTrackGetter=function(){var b=this;this.player.getTextTracks=function(){return b.trackList||[]}},S.show=function(b){b=this.findTrackByLanguage(b),b&&(b.mode=l.SHOWING)},S.findTrackByLanguage=function(b){return this.trackList.list.find(function(_){return _.language===b})},S.clearCurrentCues=function(b){if(b){var _=b.mode;if(_===l.DISABLED&&(b.mode=l.HIDDEN),b.cues)for(var g=b.cues.length;g--;)b.removeCue(b.cues[g]);_===l.DISABLED&&(b.mode=_)}},S.addTrack=function(){},S.addCues=function(){},S.restore=function(){},S.renderCues=function(){},S.updateCuesStyle=function(){},S.clearTrack=function(b){this.clearCurrentCues(this.findTrackByLanguage(b))},S.clearAllTracks=function(){var b=this;this.trackList&&this.trackList.length&&this.trackList.list.forEach(function(_){_.mode=l.DISABLED,b.clearCurrentCues(_)}),this.trackList=new a},S.reset=function(){this.hide(),this.clearAllTracks()},S.dispose=function(){this.hide(),this.clearAllTracks(),this.player&&this.player.getTextTracks&&(this.player.getTextTracks=null),this.player=null,this.type=null},f})()),v=(h.RENDER_TYPE_CUSTOM="CUSTOM",h.RENDER_TYPE_NATIVE="NATIVE",(f=>{function S(_){var g=f.call(this,_)||this;return g.overlayId=null,g.currentCues=null,_=_||{},g.type=h.RENDER_TYPE_CUSTOM,g.overlayId=_.overlayId,g}c(S,f);var b=S.prototype;return b.addTrack=function(_){var g=new n({kind:_.kind,label:_.label,language:_.language,default:_.default});g.mode=_.default?l.SHOWING:l.DISABLED,this.trackList.addTrack(g)},b.hide=function(){return s.processCues(window,[],document.getElementById(this.overlayId))},b.restore=function(){this.currentCues&&(this.currentCues.forEach(function(_){return _.displayState=null}),s.processCues(window,this.currentCues,this.overlayEl),this.updateCuesStyle(this.currentCues))},b.renderCues=function(_){_&&(this.currentCues=_,this.overlayEl||(this.overlayEl=document.getElementById(this.overlayId)),s.processCues(window,_,this.overlayEl),this.updateCuesStyle(_))},b.updateCuesStyle=function(_){var g=this;_.forEach(function(T){var E,w=T.displayState;w._styleSetDone||w&&(w.setAttribute("class","prism-cue"),g.overlayEl||(g.overlayEl=document.getElementById(g.overlayId)),T=g.overlayEl.offsetWidth,E=g.overlayEl.offsetHeight,(T=Math.min(T,E))&&(w.style.fontSize=.05*T+"px",w.style.height="auto",w.style.top="auto"),44<((x,I)=>(x=x.getBoundingClientRect(),I.getBoundingClientRect().bottom-x.bottom))(w,g.overlayEl)&&(g.overrideStyle.transform="none"),Object.keys(g.overrideStyle).forEach(function(x){g.tryUpdateStyle(w,x,g.overrideStyle[x])}),w._styleSetDone=!0)})},b.updateOverrideStyle=function(_){this.overrideStyle=o({},this.overrideStyle,_=_===void 0?{}:_)},b.forceUpdateCuesStyle=function(_,g){g===void 0&&(g=[]),this.updateOverrideStyle(_=_===void 0?{}:_),this.resetCuesStyle(g)},b.tryUpdateStyle=function(_,g,T){try{_.style[g]=T}catch{}},b.resetCuesStyle=function(_){_&&_.length&&_.forEach(function(g){g.displayState&&(g.displayState=null)})},b.dispose=function(){f.prototype.dispose.call(this),this.overlayId=null,this.currentCues=null},S})(h)),y=(f=>{function S(g){return(g=f.call(this,g=g===void 0?{}:g)||this).type=h.RENDER_TYPE_NATIVE,g}c(S,f);var b,_=S.prototype;return _.addTrack=function(g){var T=this.player.tag,E=Array.from(T.textTracks)||[],w=E.find(function(x){return x.language===g.language}),E=w?(this.log("sameLangTrack",w,E),this.clearCurrentCues(w),w.kind=g.kind,w.label=g.label,w):T.addTextTrack(g.kind,g.label,g.language),w=(E.mode=g.default?l.SHOWING:l.DISABLED,new n(g));w.nativeTrack=E,this.trackList.addTrack(w)},_.addCues=function(g,T){var E;g&&g.length&&(E=this.trackList.list.find(function(w){return w.language===T}))&&g.forEach(function(w){E.addCue(w)})},_.hide=function(){this.trackList.list.forEach(function(g){g.mode=g.mode===l.SHOWING?l.HIDDEN:g.mode})},_.invalidAllTracks=function(){},_.forceUpdateCuesStyle=function(g,T){r.addCssByStyle("video::-webkit-media-text-track-container{transform: "+g.transform+";}")},_.dispose=function(){f.prototype.dispose.call(this)},_=S,(b=[{key:"activeTrack",get:function(){return this.trackList.list.find(function(g){return g.mode===l.SHOWING})}}])&&d(_.prototype,b),Object.defineProperty(_,"prototype",{writable:!1}),_})(h);t.exports.VttBasicRenderer=h,t.exports.CustomRenderer=v,t.exports.NativeRenderer=y,t.exports.CTR_BAR_HEIGHT=44},{"../../lib/dom":37,"../../player/base/event/eventtype":77,"./text-track":60,"./vttjs":64}],64:[function(e,t,m){t.exports={WebVTT:e("./vtt.js").WebVTT}},{"./vtt.js":65}],65:[function(e,t,m){var d=this;function o(k,L){return L===void 0&&(L=1),"rgba("+[parseInt(k.substring(0,2),16),parseInt(k.substring(2,4),16),parseInt(k.substring(4,6),16),L].join(",")+")"}var c,u=1;function s(k,L,N){switch(N){case"webvtt.font.color":case"webvtt.font.opacity":var j=Services.prefs.getCharPref("webvtt.font.color"),U=Services.prefs.getIntPref("webvtt.font.opacity")/100;c.fontSet=o(j,U);break;case"webvtt.font.scale":u=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":j=Services.prefs.getCharPref("webvtt.bg.color"),U=Services.prefs.getIntPref("webvtt.bg.opacity")/100,c.backgroundSet=o(j,U);break;case"webvtt.edge.color":case"webvtt.edge.type":j=Services.prefs.getIntPref("webvtt.edge.type"),U=Services.prefs.getCharPref("webvtt.edge.color"),c.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][j]+o(U)}}typeof Services<"u"&&(c={},["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach(function(k){s(0,0,k),Services.prefs.addObserver(k,s,!1)}));var r=Object.create||function(k){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=k,new n};function n(){}function a(k,L){this.name="ParsingError",this.code=k.code,this.message=L||k.message}function l(k){function L(N,j,U,W){return 3600*(0|N)+60*(0|j)+(0|U)+(0|W)/1e3}return k=k.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/),k?k[3]?L(k[1],k[2],k[3].replace(":",""),k[4]):59<k[1]?L(k[1],k[2],0,k[4]):L(0,k[1],k[2],k[4]):null}function h(){this.values=r(null)}function v(k,L,N,j){var U,W,B=j?k.split(j):[k];for(U in B)typeof B[U]=="string"&&(W=B[U].split(N)).length===2&&L(W[0],W[1])}((a.prototype=r(Error.prototype)).constructor=a).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},h.prototype={set:function(k,L){this.get(k)||L===""||(this.values[k]=L)},get:function(k,L,N){return N?this.has(k)?this.values[k]:L[N]:this.has(k)?this.values[k]:L},has:function(k){return k in this.values},alt:function(k,L,N){for(var j=0;j<N.length;++j)if(L===N[j]){this.set(k,L);break}},integer:function(k,L){/^-?\d+$/.test(L)&&this.set(k,parseInt(L,10))},percent:function(k,L){return!!(L.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(L=parseFloat(L))&&L<=100)&&(this.set(k,L),!0)}};var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},f={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},S={v:"title",lang:"lang"},b={rt:"ruby"};function _(k,L){function N(re){return y[re]}for(var j,U,W,B,M,C,D,A=k.document.createElement("div"),Q=A,ne=[];D=void 0,(D=L?(D=(D=L.match(/^([^<]*)(<[^>]*>?)?/))[1]||D[2],L=L.substr(D.length),D):null)!==null;)D[0]==="<"?D[1]==="/"?ne.length&&ne[ne.length-1]===D.substr(2).replace(">","")&&(ne.pop(),Q=Q.parentNode):(W=l(D.substr(1,D.length-2)))?(j=k.document.createProcessingInstruction("timestamp",W),Q.appendChild(j)):(U=D.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(W=U[1],B=U[3],C=M=void 0,C=f[W],j=C?((M=k.document.createElement(C)).localName=C,(C=S[W])&&B&&(M[C]=B.trim()),M):null)&&(W=Q,b[(C=j).localName]&&b[C.localName]!==W.localName||(U[2]&&(j.className=U[2].substr(1).replace("."," ")),ne.push(U[1]),Q.appendChild(j),Q=j)):Q.appendChild(k.document.createTextNode((re=>{for(;U=re.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)re=re.replace(U[0],N);return re})(D)));return A}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function T(k){var L=[],N="";if(k&&k.childNodes){for(U(L,k);N=function W(B){var M,C,D;return B&&B.length?(C=(M=B.pop()).textContent||M.innerText)?(D=C.match(/^.*(\n|\r)/))?D[B.length=0]:C:M.tagName==="ruby"?W(B):M.childNodes?(U(B,M),W(B)):void 0:null}(L);)for(var j=0;j<N.length;j++)if((W=>{for(var B=0;B<g.length;B++){var M=g[B];if(W>=M[0]&&W<=M[1])return 1}})(N.charCodeAt(j)))return"rtl"}return"ltr";function U(W,B){for(var M=B.childNodes.length-1;0<=M;M--)W.push(B.childNodes[M])}}function E(){}function w(k,L,N){var j=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),B="rgba(255, 255, 255, 1)",U="rgba(0, 0, 0, 0.8)",W="",B=(c!==void 0&&(B=c.fontSet,U=c.backgroundSet,W=c.edgeSet),j&&(B="rgb(255, 255, 255)",U="rgb(0, 0, 0)"),E.call(this),this.cue=L,this.cueDiv=_(k,L.text),{color:B,backgroundColor:U,textShadow:W,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"}),M=(j||(B.writingMode=L.vertical===""?"horizontal-tb":L.vertical==="lr"?"vertical-lr":"vertical-rl",B.unicodeBidi="plaintext"),this.applyStyles(B,this.cueDiv),this.div=k.document.createElement("div"),B={textAlign:L.align==="middle"?"center":L.align,font:N.font,whiteSpace:"pre-line",position:"absolute"},j||(B.direction=T(this.cueDiv),B.writingMode=L.vertical===""?"horizontal-tb":L.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(B),this.div.appendChild(this.cueDiv),0);switch(L.positionAlign){case"start":M=L.position;break;case"middle":M=L.position-L.size/2;break;case"end":M=L.position-L.size}L.vertical===""?this.applyStyles({left:this.formatStyle(M,"%"),width:this.formatStyle(L.size,"%")}):this.applyStyles({top:this.formatStyle(M,"%"),height:this.formatStyle(L.size,"%")}),this.move=function(C){this.applyStyles({top:this.formatStyle(C.top,"px"),bottom:this.formatStyle(C.bottom,"px"),left:this.formatStyle(C.left,"px"),right:this.formatStyle(C.right,"px"),height:this.formatStyle(C.height,"px"),width:this.formatStyle(C.width,"px")})}}function x(k){var L,N,j,U,W=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent);k.div&&(L=k.div.offsetHeight,N=k.div.offsetWidth,j=k.div.offsetTop,U=(U=(U=k.div.childNodes)&&U[0])&&U.getClientRects&&U.getClientRects(),k=k.div.getBoundingClientRect(),U=U?Math.max(U[0]&&U[0].height||0,k.height/U.length):0),this.left=k.left,this.right=k.right,this.top=k.top||j,this.height=k.height||L,this.bottom=k.bottom||j+(k.height||L),this.width=k.width||N,this.lineHeight=U!==void 0?U:k.lineHeight,W&&!this.lineHeight&&(this.lineHeight=13)}function I(k,L,N,j){var U,W=new x(L),B=L.cue,M=(K=>{if(typeof K.line=="number"&&(K.snapToLines||0<=K.line&&K.line<=100))return K.line;if(!K.track||!K.track.textTrackList||!K.track.textTrackList.mediaElement)return-1;for(var P=K.track,q=P.textTrackList,Z=0,se=0;se<q.length&&q[se]!==P;se++)q[se].mode==="showing"&&Z++;return-1*++Z})(B),C=[];if(B.snapToLines){switch(B.vertical){case"":C=["+y","-y"],U="height";break;case"rl":C=["+x","-x"],U="width";break;case"lr":C=["-x","+x"],U="width"}var D=W.lineHeight,A=D*Math.round(M),Q=N[U]+D,ne=C[0];Math.abs(A)>Q&&(A=A<0?-1:1,A*=Math.ceil(Q/D)*D),M<0&&(A+=B.vertical===""?N.height:N.width,C=C.reverse()),W.move(ne,A)}else{var re=W.lineHeight/N.height*100;switch(B.lineAlign){case"middle":M-=re/2;break;case"end":M-=re}switch(B.vertical){case"":L.applyStyles({top:L.formatStyle(M,"%")});break;case"rl":L.applyStyles({left:L.formatStyle(M,"%")});break;case"lr":L.applyStyles({right:L.formatStyle(M,"%")})}C=["+y","-x","+x","-y"],W=new x(L)}Q=((K,P)=>{for(var q,Z=new x(K),se=1,pe=0;pe<P.length;pe++){for(;K.overlapsOppositeAxis(N,P[pe])||K.within(N)&&K.overlapsAny(j);)K.move(P[pe]);if(K.within(N))return K;var ce=K.intersectPercentage(N);ce<se&&(q=new x(K),se=ce),K=new x(Z)}return q||Z})(W,C),L.move(Q.toCSSCompatValues(N))}function R(){}E.prototype.applyStyles=function(k,L){for(var N in L=L||this.div,k)k.hasOwnProperty(N)&&(L.style[N]=k[N])},E.prototype.formatStyle=function(k,L){return k===0?0:k+L},(w.prototype=r(E.prototype)).constructor=w,x.prototype.move=function(k,L){switch(L=L!==void 0?L:this.lineHeight,k){case"+x":this.left+=L,this.right+=L;break;case"-x":this.left-=L,this.right-=L;break;case"+y":this.top+=L,this.bottom+=L;break;case"-y":this.top-=L,this.bottom-=L}},x.prototype.overlaps=function(k){return this.left<k.right&&this.right>k.left&&this.top<k.bottom&&this.bottom>k.top},x.prototype.overlapsAny=function(k){for(var L=0;L<k.length;L++)if(this.overlaps(k[L]))return!0;return!1},x.prototype.within=function(k){return this.top>=k.top&&this.bottom<=k.bottom&&this.left>=k.left&&this.right<=k.right},x.prototype.overlapsOppositeAxis=function(k,L){switch(L){case"+x":return this.left<k.left;case"-x":return this.right>k.right;case"+y":return this.top<k.top;case"-y":return this.bottom>k.bottom}},x.prototype.intersectPercentage=function(k){return Math.max(0,Math.min(this.right,k.right)-Math.max(this.left,k.left))*Math.max(0,Math.min(this.bottom,k.bottom)-Math.max(this.top,k.top))/(this.height*this.width)},x.prototype.toCSSCompatValues=function(k){return{top:this.top-k.top,bottom:k.bottom-this.bottom,left:this.left-k.left,right:k.right-this.right,height:this.height,width:this.width}},x.getSimpleBoxPosition=function(k){var L=k.div?k.div.offsetHeight:k.tagName?k.offsetHeight:0,N=k.div?k.div.offsetWidth:k.tagName?k.offsetWidth:0,j=k.div?k.div.offsetTop:k.tagName?k.offsetTop:0;return{left:(k=k.div?k.div.getBoundingClientRect():k.tagName?k.getBoundingClientRect():k).left,right:k.right,top:k.top||j,height:k.height||L,bottom:k.bottom||j+(k.height||L),width:k.width||N}},R.StringDecoder=function(){return{decode:function(k){if(!k)return"";if(typeof k!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(k))}}},R.convertCueToDOMTree=function(k,L){return k&&L?_(k,L):null},R.processCues=function(k,L,N){if(!k||!L||!N)return null;for(;N.firstChild;)N.removeChild(N.firstChild);var j=k.document.createElement("div");if(j.style.position="absolute",j.style.left="0",j.style.right="0",j.style.top="0",j.style.bottom="0",j.style.margin="1.5%",N.appendChild(j),(Q=>{for(var ne=0;ne<Q.length;ne++)if(Q[ne].hasBeenReset||!Q[ne].displayState)return 1})(L))for(var U,W,B=[],M=x.getSimpleBoxPosition(j),C={font:Math.round(.05*M.height*100)/100*u+"px sans-serif"},D=0;D<L.length;D++)U=new w(k,W=L[D],C),j.appendChild(U.div),I(0,U,M,B),W.displayState=U.div,B.push(x.getSimpleBoxPosition(U));else for(var A=0;A<L.length;A++)j.appendChild(L[A].displayState)},(R.Parser=function(k,L){this.window=k,this.state="INITIAL",this.buffer="",this.decoder=L||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(k){if(!(k instanceof a))throw k;this.onparsingerror&&this.onparsingerror(k)},parse:function(k){var L=this;function N(){for(var C=L.buffer,D=0;D<C.length&&C[D]!=="\r"&&C[D]!==`
`;)++D;var A=C.substr(0,D);return C[D]==="\r"&&++D,C[D]===`
`&&++D,L.buffer=C.substr(D),A}function j(C){v(C,function(D,A){var Q;D==="Region"&&(D=A,Q=new h,v(D,function(ne,re){switch(ne){case"id":Q.set(ne,re);break;case"width":Q.percent(ne,re);break;case"lines":Q.integer(ne,re);break;case"regionanchor":case"viewportanchor":var K,P=re.split(",");P.length===2&&((K=new h).percent("x",P[0]),K.percent("y",P[1]),K.has("x")&&K.has("y"))&&(Q.set(ne+"X",K.get("x")),Q.set(ne+"Y",K.get("y")));break;case"scroll":Q.alt(ne,re,["up"])}},/=/,/\s/),Q.has("id"))&&((D=new L.window.VTTRegion).width=Q.get("width",100),D.lines=Q.get("lines",3),D.regionAnchorX=Q.get("regionanchorX",0),D.regionAnchorY=Q.get("regionanchorY",100),D.viewportAnchorX=Q.get("viewportanchorX",0),D.viewportAnchorY=Q.get("viewportanchorY",100),D.scroll=Q.get("scroll",""),L.onregion&&L.onregion(D),L.regionList.push({id:Q.get("id"),region:D}))},/:/)}k&&(L.buffer+=L.decoder.decode(k,{stream:!0}));try{if(L.state==="INITIAL"){if(!/\r\n|\n/.test(L.buffer))return this;var U,W=(U=N()).match(/^WEBVTT([ \t].*)?$/);if(!W||!W[0])throw new a(a.Errors.BadSignature);L.state="HEADER"}for(var B=!1;L.buffer;){if(!/\r\n|\n/.test(L.buffer))return this;switch(B?B=!1:U=N(),L.state){case"HEADER":/:/.test(U)?j(U):U||(L.state="ID");continue;case"NOTE":U||(L.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(U)){L.state="NOTE";break}if(!U)continue;if(L.cue=new L.window.VTTCue(0,0,""),L.state="CUE",U.indexOf("-->")===-1){L.cue.id=U;continue}case"CUE":try{((C,D,A)=>{var Q=C;function ne(){var q=l(C);if(q===null)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+Q);return C=C.replace(/^[^\sa-zA-Z-]+/,""),q}function re(){C=C.replace(/^\s+/,"")}if(re(),D.startTime=ne(),re(),C.substr(0,3)!=="-->")throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+Q);C=C.substr(3),re(),D.endTime=ne(),re();var K=C,P=new h;v(K,function(q,Z){switch(q){case"region":for(var se=A.length-1;0<=se;se--)if(A[se].id===Z){P.set(q,A[se].region);break}break;case"vertical":P.alt(q,Z,["rl","lr"]);break;case"line":var pe=Z.split(","),ce=pe[0];P.integer(q,ce),P.percent(q,ce)&&P.set("snapToLines",!1),P.alt(q,ce,["auto"]),pe.length===2&&P.alt("lineAlign",pe[1],["start","middle","end"]);break;case"position":pe=Z.split(","),P.percent(q,pe[0]),pe.length===2&&P.alt("positionAlign",pe[1],["start","middle","end"]);break;case"size":P.percent(q,Z);break;case"align":P.alt(q,Z,["start","middle","end","left","right"])}},/:/,/\s/),D.region=P.get("region",null),D.vertical=P.get("vertical","");try{D.line=P.get("line","auto")}catch{}D.lineAlign=P.get("lineAlign","start"),D.snapToLines=P.get("snapToLines",!0),D.size=P.get("size",100);try{D.align=P.get("align","center")}catch{D.align=P.get("align","middle")}try{D.position=P.get("position","auto")}catch{D.position=P.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},D.align)}D.positionAlign=P.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},D.align)})(U,L.cue,L.regionList)}catch(C){L.reportOrThrowError(C),L.cue=null,L.state="BADCUE";continue}L.state="CUETEXT";continue;case"CUETEXT":var M=U.indexOf("-->")!==-1;if(!U||M&&(B=!0)){L.oncue&&L.oncue(L.cue),L.cue=null,L.state="ID";continue}L.cue.text&&(L.cue.text+=`
`),L.cue.text+=U;continue;case"BADCUE":U||(L.state="ID");continue}}}catch(C){L.reportOrThrowError(C),L.state==="CUETEXT"&&L.cue&&L.oncue&&L.oncue(L.cue),L.cue=null,L.state=L.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var k=this;try{if(k.buffer+=k.decoder.decode(),!k.cue&&k.state!=="HEADER"||(k.buffer+=`

`,k.parse()),k.state==="INITIAL")throw new a(a.Errors.BadSignature)}catch(L){k.reportOrThrowError(L)}return k.onflush&&k.onflush(),this}},d.WebVTT=R},{}],66:[function(e,t,m){t.exports.VIDEO_TYPE={VOD:"vod",LIVE:"live"},t.exports.TERMINAL_TYPE={PC:"pc",PAD:"pad",PHONE:"phone"},t.exports.EVENT={CREATE:1e3,STARTFETCHDATA:1003,COMPLETEFETCHDATA:1004,PREPARE:1101,PREPAREEND:1102,STARTPLAY:2e3,PLAY:2001,STOP:2002,PAUSE:2003,SEEK:2004,FULLSREEM:2005,QUITFULLSCREEM:2006,RESOLUTION:2007,RESOLUTION_DONE:2008,RECOVER:2010,SEEK_END:2011,PLAYABORT:2012,CANPLAY:2015,FETCHEDIP:2020,CDNDETECT:2021,DETECT:2022,HEVCINFO:2023,BACKGROUND:2049,FOREGROUND:2050,UNDERLOAD:3002,LOADED:3001,RETRY:3003,HEARTBEAT:9001,TRACE:9002,DUMP:9003,ERROR:4001,ERRORRETRY:4002,RTSFALLBACK:4003,VOD_REQUEST_FATAL_ERROR:4004,VOD_REQUEST_FATAL_ERROR_RESUME:4005,LICENSE_RESULT:5004,SNAPSHOT:2027,ROTATE:2028,IMAGE:2029,THUMBNAILSTART:2031,THUMBNAILCOMPLETE:2032,CCSTART:2033,CCCOMPLETE:2034,AUDIOTRACKSTART:2033,AUDIOTRACKCOMPLETE:2034},t.exports.AUTOPLAY_RESULT={SUCCEED:"succeed",FAILED:"failed"},t.exports.TRACK_TYPE={VIDEO:0,AUDIO:1,SUBTITLE:2,VOD:3}},{}],67:[function(h,t,m){var d=["args"];function o(){return(o=Object.assign?Object.assign.bind():function(S){for(var b=1;b<arguments.length;b++){var _,g=arguments[b];for(_ in g)!{}.hasOwnProperty.call(g,_)||(S[_]=g[_])}return S}).apply(null,arguments)}var c=h("../lib/ua"),u=h("../lib/data"),s=h("../config"),r=h("./util"),n=h("../lib/playerutil"),a=h("./constants"),l=h("./reporter"),h=(()=>{function S(_,g){var T=this;this.player=_,this.cache=new f,this.session=new y,this.fpsObserver=new v,this.reporter=new l(g),this.initData(),this.reporter.sendImmediate(o({},this.reporter.getData(),{e:1e3})),this.listenDocument(),this.cache.observe(this.session,this.reporter,function(){T.updatePlayStatus()}),this.cache.checkStoreLogs()}var b=S.prototype;return b.initData=function(){this.createTime=performance.now(),this.firstFrameTime=null,this.manualPlayTime=null,this.autoPlayResult=null,this.firstFrameTimeline=[],this.playReported=!1,this.canplayReported=!1,this.vodInfoReported=!1,this.errorCode=null,this.pauseStartTime=0,this.seekStartTime=0,this.waitingStartTime=0,this.seekId=0,this.innerEventId=0,this.session.refresh();var _=this.player.getOptions(),g=r.getUuid(),T=this.getCustomData(_.customData),E=window.devicePixelRatio||1;this.reporter.initData({e:9e3,db:1,dm:"h5",el:[],os:c.os.name,ov:c.os.version,uuid:g,ss:this.makeWH(parseInt(window.screen.width*E),parseInt(window.screen.height*E)),tt:this.getTerminalType(),bt:c.browser.name,bv:c.browser.version,ua:c.USER_AGENT,app_n:this.getHost(window.location.href),av:s.h5Version,install_uuid:g,li_ki:(E=_.license)==null?void 0:E.key,pu:window.location.href,ri:g,vps:this.session.id,tid:_.traceId||void 0,vt:this.getVideoType(_),vu:_.source,srcd:this.getHost(_.source),vid:_.source?void 0:_.vid,pc:this.getUserOptions(_._userOptions),cd:T}),this.reportEvent(a.EVENT.CREATE,{args:{ri:(E=this.player._monitor)==null?void 0:E.sessionId}}),_.autoplay&&this.reportVV()},b.play=function(){this.session.open(),this.reportVV(),this.pauseEnd(),this.fpsObserver.reset()},b.pause=function(){this.pauseStartTime=performance.now(),this.reportEvent(a.EVENT.PAUSE)},b.pauseEnd=function(){var _;this.pauseStartTime&&(_=parseInt(performance.now()-this.pauseStartTime),this.pauseStartTime=0,this.reportEvent(a.EVENT.RECOVER,{args:{cost:_}}))},b.seek=function(){this.seekStartTime=performance.now(),this.reportEvent(a.EVENT.SEEK,{args:{_seekId:++this.seekId}})},b.seekEnd=function(){var _;this.seekStartTime&&(_=parseInt(performance.now()-this.seekStartTime),this.seekStartTime=0,this.reportEvent(a.EVENT.SEEK_END,{args:{cost:_,_seekId:this.seekId}}))},b.waiting=function(){!this.seekStartTime&&this.canplayReported&&(this.waitingStartTime=performance.now(),this.reportEvent(a.EVENT.UNDERLOAD,{args:{speed:this.player.tag.playbackRate}}))},b.waitingEnd=function(){var _;this.waitingStartTime&&(_=parseInt(performance.now()-this.waitingStartTime),this.waitingStartTime=0,this.reportEvent(a.EVENT.LOADED,{args:{cost:_}}))},b.autoPlayHasResult=function(_){this.autoPlayResult||(this.autoPlayResult=_?a.AUTOPLAY_RESULT.SUCCEED:a.AUTOPLAY_RESULT.FAILED)},b.manualPlay=function(){this.manualPlayTime||(this.manualPlayTime=performance.now())},b.firstFrame=function(){var _;this.firstFrameTime||(this.firstFrameTime=performance.now(),(_=(_=this.player._monitor)==null?void 0:_.timeline)&&(this.firstFrameTimeline=this.getTimeline(_)),this.fpsObserver.start(this.player.tag))},b.canplay=function(){this.waitingEnd(),this.canplayReported||(this.canplayReported=!0,this.reportEvent(a.EVENT.CANPLAY))},b.playFinish=function(){this.reportEvent(a.EVENT.STOP),this.reporter.lastRenderInfo({t:Date.now(),vt:this.getVt()}),this.reporter.backgroundStop(this.flag(document.visibilityState==="hidden")),this.doReport(),this.session.close(),this.firstFrame()},b.playError=function(_){this.errorCode=_.error_code;try{delete _.requestId,delete _.uuid,_.sri=_.serverRequestId,delete _.serverRequestId}catch{}this.reportEvent(a.EVENT.ERROR,{args:this.pruneEmpty(_)}),this.doReport(),this.session.close()},b.playAbort=function(_,g){this.session.closed||(this.reportEvent(a.EVENT.PLAYABORT,{args:{from:_,url:g}}),this.doReport(),this.session.close())},b.traceLog=function(_){this.reportEvent(a.EVENT.TRACE,{args:{log:_}})},b.mediaMeta=function(_){this.reporter.duration(parseInt(1e3*_.duration)),_.videoWidth&&_.videoHeight&&(this.reporter.videoDefinition(this.makeWH(_.videoWidth,_.videoHeight)),this.vodInfoReported||this.reporter.mediaInfo([{id:1,type:a.TRACK_TYPE.VIDEO,definition:this.makeWH(_.videoWidth,_.videoHeight)},{id:2,type:a.TRACK_TYPE.AUDIO}]),this.reporter.subMediaInfo([{id:1,type:a.TRACK_TYPE.VIDEO,definition:this.makeWH(_.videoWidth,_.videoHeight)},{id:2,type:a.TRACK_TYPE.AUDIO}]))},b.vodMediaInfo=function(_){var g,T,E=this,w=(this.vodInfoReported=!0,[]),x={},I="";try{_.PlayInfoList.PlayInfo.forEach(function(R,k){k===0&&(R.StreamType==="audio"?g=(R.Format||"").toUpperCase():(g="AAC",I=R.CodecName)),w.push({idx:k,type:a.TRACK_TYPE.VOD,bitrate:parseInt(1e3*R.Bitrate),codecFormat:R.CodecName,avgFps:Number(R.Fps),definition:E.makeWH(R.Width,R.Height)})}),x={RequestId:_.RequestId,PlayInfoList:{PlayInfo:_==null||(T=_.PlayInfoList)==null?void 0:T.PlayInfo.map(function(R){return{StreamType:R.StreamType,Definition:R.Definition,Specification:R.Specification,Duration:R.Duration,Encrypt:R.Encrypt,EncryptType:R.EncryptType,Format:R.Format,Rand:R.Rand,Plaintext:R.Plaintext,Status:R.Status,ModificationTime:R.ModificationTime,CodecName:R.CodecName}})}}}catch{}this.reporter.mediaInfo(w),this.reporter.codecFormat(g,I),this.reportEvent(a.EVENT.COMPLETEFETCHDATA,{args:{mi:x}})},b.vodSelectUrl=function(_){this.reporter.startBitrate(parseInt(1e3*_.bitrate))},b.rtsFallback=function(_){this.reportEvent(a.EVENT.RTSFALLBACK,{args:_})},b.vodRequestFatalError=function(_){this.reportEvent(a.EVENT.VOD_REQUEST_FATAL_ERROR,{args:_})},b.vodRequestFatalErrorResume=function(_){this.reportEvent(a.EVENT.VOD_REQUEST_FATAL_ERROR_RESUME,{args:_})},b.updateTraceId=function(_){this.reporter.traceId(_)},b.updateSource=function(_){this.reporter.source(_),this.reporter.videoDomain(this.getHost(_)),this.reporter.containerInfo(this.getContainerInfo(_))},b.reportVV=function(){this.playReported||(this.playReported=!0,this.reportEvent(a.EVENT.STARTPLAY),this.reporter.backgroundPlay(this.flag(document.visibilityState==="hidden")))},b.reportEvent=function(_,g){this.reporter.addEvent(this.makeEvent(o({id:_,e:_},g)))},b.mergeSeek=function(){var _=this.reporter.getAllEvents(),_=r.mergeSeekInner(_);this.reporter.replaceEvents(_)},b.removeInternalEventsVars=function(){var _=this.reporter.getAllEvents(),_=r.removeInternalEventsVars(_);this.reporter.replaceEvents(_)},b.listenDocument=function(){var _=this,g=(document.addEventListener("visibilitychange",function(){var T;_.player.__disposed||((T=document.visibilityState)==="visible"?_.reportEvent(a.EVENT.FOREGROUND):T==="hidden"&&(_.reportEvent(a.EVENT.BACKGROUND),_.session.closed||_.doReport(!0)),_.cache.update(_.session.id,_.reporter.getData()))}),c.IS_PC?"beforeunload":"pagehide");window.addEventListener(g,function(){_.player.__disposed||_.playAbort("windowClose")})},b.updatePlayStatus=function(){var _=this.getPlayerOptions(),_=(this.updateSource(_.source),this.reporter.businessInfo(_.from),this.reporter.videoDropInfo(this.getVideoDropInfo()),this.getPlaySummary());this.reporter.playSummary(_),_.vv&&this.firstFrameTime&&this.reporter.firstRenderInfo(this.getFirstRenderInfo())},b.doReport=function(_){this.updatePlayStatus(),this.mergeSeek(),this.removeInternalEventsVars(),this.reporter.sequence(this.session.reportSequence++||void 0),_?this.reporter.report():(navigator.onLine?this.cache.clear(this.session.id):this.cache.update(this.session.id,this.reporter.getData()),this.reporter.flush(),this.initData())},b.getPlaySummary=function(){var _=parseInt(this.player._playingTime),g=parseInt(this.player._stuckTime),T=parseInt(this.player._stuckCount),w=this.reporter.getEvent(a.EVENT.SEEK_END),E=0,w=(w.length&&(E=parseInt(w.reduce(function(x,I){return x+I.args.cost},0)/w.length)),this.reporter.getData().sbr);return{pl:_,bf:g,bfc:T,ask:E,df:Number(this.fpsObserver.getFps()),vv:this.flag(this.playReported),ec:this.flag(this.errorCode),ecd:this.errorCode,apb:w}},b.getFirstRenderInfo=function(){var _=0,_=(this.autoPlayResult===a.AUTOPLAY_RESULT.SUCCEED?_=this.createTime:this.manualPlayTime&&(_=this.manualPlayTime),parseInt(this.firstFrameTime-_));return{efc:Math.max(_,0),timeline_web:this.firstFrameTimeline}},b.getVideoDropInfo=function(){var _=this.player.tag;if(_&&_ instanceof HTMLVideoElement&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype)return{dc:(_=_.getVideoPlaybackQuality()).droppedVideoFrames,tc:_.totalVideoFrames}},b.getVt=function(){return Math.floor(1e3*this.player.getCurrentTime())},b.getTerminalType=function(){var _=a.TERMINAL_TYPE.PC;return c.IS_IPAD?_=a.TERMINAL_TYPE.PAD:c.os.phone&&(_=a.TERMINAL_TYPE.PHONE),_},b.getHost=function(_){if(_){var g="";try{g=new URL(_).host}catch{g=c.getHost(_)}return g}},b.getContainerInfo=function(_){var g="";(_=_===void 0?"":_).indexOf("//")===0&&(_=""+window.location.protocol+_);try{var T=new URL(_).pathname;1<T.split(".").length&&(g=T.split(".").pop())}catch{g=""}return{proto:_.split("://")[0],mb:0,cn:g}},b.getVideoType=function(_){var g=a.VIDEO_TYPE.VOD;return g=_.isLive||n.isRts(_.source)?a.VIDEO_TYPE.LIVE:g},b.getUserOptions=function(_){return _=o({},_),_.playauth&&(_.playauth=1,_.PlayAuth=void 0),_.accessKeyId&&(_.accessKeyId=1),_.accessKeySecret&&(_.accessKeySecret=1),_.securityToken&&(_.securityToken=1),this.pruneEmpty(_)},b.getTimeline=function(_){var g;return _?(g={},_.forEach(function(T,E){try{var w=E?T.ts-_[E-1].ts:0;g["tl_"+T.name]=E+"#"+parseInt(w)}catch{}}),g):{}},b.getPlayerOptions=function(){return this.player?this.player.getOptions():{}},b.getNameByValue=function(_,g){return Object.keys(_).find(function(T){return _[T]===g})},b.getCustomData=function(_){if(typeof _=="string"&&!(50<_.length))return _},b.makeEvent=function(T){var T=T||{},g=T.args,T=((E,w)=>{if(E==null)return{};var x,I={};for(x in E)if({}.hasOwnProperty.call(E,x)){if(w.indexOf(x)!==-1)continue;I[x]=E[x]}return I})(T,d);return o({_id:++this.innerEventId,t:Date.now()},T,{args:o({vt:this.getVt()},this.pruneEmpty(g||{}))})},b.makeWH=function(_,g){return _+"*"+g},b.flag=function(_){return _?1:0},b.pruneEmpty=function(_){return Object.keys(_).reduce(function(g,T){return _[T]!==void 0&&_[T]!==""&&(g[T]=_[T]),g},{})},b.destroy=function(){this.cache.dispose()},S})(),v=(()=>{function S(){this.fps=0,this.frameCount=0,this.lastStartTime=0}var b=S.prototype;return b.start=function(_){var g,T=this;!_||!1 in HTMLVideoElement.prototype||_.requestVideoFrameCallback(g=function(E){T.lastStartTime===0?T.lastStartTime=E:(E=(E-T.lastStartTime)/1e3,T.fps=(++T.frameCount/E).toFixed(2)),_.requestVideoFrameCallback(g)})},b.reset=function(){this.lastStartTime=0,this.frameCount=0},b.getFps=function(){return this.fps},S})(),y=(()=>{function S(){this.id=u.guid(),this.closed=!1,this.reportSequence=0}var b=S.prototype;return b.refresh=function(){this.id=u.guid(),this.reportSequence=0},b.open=function(){this.closed=!1},b.close=function(){this.closed=!0},S})(),f=(()=>{function S(){this.LOG_KEY="_alp_log",this.INTERVAL=5e3,this.init(),this.timer=null,this.session=null}var b=S.prototype;return b.init=function(){var _;if(!localStorage.getItem(this.LOG_KEY))return _=JSON.stringify({}),localStorage.setItem(this.LOG_KEY,_),_},b.observe=function(_,g,T){var E=this;T===void 0&&(T=function(){}),this.session=_,this.reporter=g,this.timer=setInterval(function(){var w;!_.closed&&(T(),w=g.getData())&&E.update(w.vps,g.getData())},this.INTERVAL)},b.update=function(_,g){this.session.closed||(g=this.createLog(g),this.write(_,g))},b.clear=function(_){var g=this.read();g&&(delete g[_],localStorage.setItem(this.LOG_KEY,JSON.stringify(g)))},b.read=function(){var _,g=(g=localStorage.getItem(this.LOG_KEY))||this.init();try{_=JSON.parse(g)}catch{}return _},b.write=function(_,g){if(g){var T;try{T=JSON.stringify(g)}catch{}T&&(T=this.read())&&(T[_]=g,localStorage.setItem(this.LOG_KEY,JSON.stringify(T)))}},b.createLog=function(_){return{log:_,lastUpdate:Date.now(),hidden:document.visibilityState==="hidden"}},b.checkStoreLogs=function(){var _=this,g=this.read();g&&Object.keys(g).length&&Object.keys(g).forEach(function(T){var E,w=g[T];T!==_.session.id&&(E=Date.now()-w.lastUpdate,w.hidden?_.clear(T):E>1.5*_.INTERVAL&&navigator.onLine&&(E=w.log.el||[],E=r.mergeSeekInner(E),E=r.removeInternalEventsVars(E),w.log.el=E,_.reporter.sendImmediate(o({},w.log,{se:999})),_.clear(T)))})},b.dispose=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},S})();t.exports=h},{"../config":19,"../lib/data":35,"../lib/playerutil":50,"../lib/ua":53,"./constants":66,"./reporter":68,"./util":70}],68:[function(c,t,m){var d=c("./sender"),o={e:void 0,db:void 0,dm:void 0,os:void 0,ov:void 0,uuid:void 0,ss:void 0,tt:void 0,bt:void 0,bv:void 0,us:void 0,app_n:void 0,av:void 0,install_uuid:void 0,li_ki:void 0,lv:void 0,pu:void 0,bi:void 0,bp:void 0,bs:void 0,ri:void 0,t:void 0,vps:void 0,tid:void 0,cd:void 0,vt:void 0,vu:void 0,srcd:void 0,vid:void 0,sbr:void 0,fri:void 0,lri:void 0,vdi:void 0,pc:void 0,mi:void 0,smi:void 0,ps:void 0,vdur:void 0,el:[],se:void 0,ci:void 0,hwd:1,def:void 0,acf:void 0,vcf:void 0},c=(()=>{function u(r){this.data=o,this.sender=new d(r)}var s=u.prototype;return s.getData=function(){return this.data},s.flush=function(){this.report(),this.data=o},s.report=function(){this.data.t=Date.now(),this.sender.sendImmediate(this.pruneReportData())},s.initData=function(r){this.data=r},s.addEvent=function(r){this.data.el.push(r)},s.getEvent=function(r){return this.data.el.filter(function(n){return n.id===r})},s.getAllEvents=function(){return this.data.el},s.replaceEvents=function(r){this.data.el=r},s.backgroundPlay=function(r){this.data.bp=r},s.backgroundStop=function(r){this.data.bs=r},s.duration=function(r){this.data.vdur=r},s.mediaInfo=function(r){this.data.mi=r},s.subMediaInfo=function(r){this.data.smi=r},s.videoDefinition=function(r){this.data.def=r},s.traceId=function(r){this.data.tid=r},s.source=function(r){this.data.vu=r},s.vps=function(r){this.data.vps=r},s.videoDomain=function(r){this.data.srcd=r},s.containerInfo=function(r){this.data.ci=r},s.codecFormat=function(r,n){this.data.acf=r,this.data.vcf=n},s.startBitrate=function(r){this.data.sbr=r},s.firstRenderInfo=function(r){this.data.fri=r},s.videoDropInfo=function(r){this.data.vdi=r},s.businessInfo=function(r){this.data.bi=r},s.lastRenderInfo=function(r){this.data.lri=r},s.playSummary=function(r){this.data.ps=r},s.sequence=function(r){this.data.se=r},s.pruneReportData=function(){var r=this;return Object.keys(this.data).reduce(function(n,a){return r.data[a]!==void 0&&(n[a]=r.data[a]),n},{})},s.sendImmediate=function(r){r.t=Date.now(),this.sender.sendImmediate(r)},u})();t.exports=c},{"./sender":69}],69:[function(o,t,m){var d=o("@aliyun-sls/web-track-browser"),o=(typeof __karma__<"u"&&__UNIT_TEST__==="true"&&(d=d.default),(()=>{function c(u){var s,r;u.disableTrack?this.tracker={sendImmediate:function(){}}:(s="cn-hangzhou.log.aliyuncs.com",r="vod-newplayer",u.env==="SEA"&&(s="ap-southeast-1.log.aliyuncs.com",r="vod-newplayer-sg"),this.tracker=new d({host:s,project:r,logstore:"hermes-player"}))}return c.prototype.sendImmediate=function(u){this.tracker.sendImmediate(u)},c})());t.exports=o},{"@aliyun-sls/web-track-browser":4}],70:[function(e,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n,a=arguments[r];for(n in a)!{}.hasOwnProperty.call(a,n)||(s[n]=a[n])}return s}).apply(null,arguments)}var o=e("../lib/cookie"),c=e("../lib/data"),u=e("./constants");t.exports.getUuid=function(){var s=o.get("p_h5_u");return s||(s=c.guid(),o.set("p_h5_u",s,730)),s},t.exports.mergeSeekInner=function(s){var r=0,n=0,a=0,l=[],h=0,v=0,y=((s=s===void 0?[]:s).forEach(function(f){f._id&&(f.id===u.EVENT.SEEK?((f.t-n<500||f.t-r<500)&&(f._remove=!0,l.push(f.args._seekId),v=v||a),r=f.t):f.id===u.EVENT.SEEK_END&&(n=f.t,a=f._id,l.includes(f.args._seekId))&&(f._remove=!0,h++))}),h);return s.filter(function(f){return f._id===v&&(f._remove=!0),f.id===u.EVENT.SEEK_END&&y--,y===1&&(f._remove=!1,y--,f.args.merge=h),!f._remove})},t.exports.removeInternalEventsVars=function(s){return(s=s===void 0?[]:s).map(function(r){var n=d({},r,{args:d({},r.args)});return Object.keys(n).forEach(function(a){a.indexOf("_")===0&&delete n[a],n.args&&Object.keys(n.args).forEach(function(l){l.indexOf("_")===0&&delete n.args[l]})}),n})}},{"../lib/cookie":34,"../lib/data":35,"./constants":66}],71:[function(e,t,m){var d=e("../lib/io");e("../lib/storage");function o(c){this._uploadDuration=c.logDuration||5,this._uploadCount=c.logCount||10,this._logReportTo=c.logReportTo,this._dumpLogReportTo=c.dumpLogReportTo,this._logs=[],this._retry=0,this._disposed=!1,this._supportLocalStorage=!0;var u;try{localStorage?(u=localStorage.getItem("__aliplayer_log_data"),localStorage.removeItem("__aliplayer_log_data"),u&&(this._logs=JSON.parse(u))):this._supportLocalStorage=!1}catch{this._supportLocalStorage=!1}this._start()}o.prototype.add=function(c){var u=this._logs.length;if(c.__time__=Math.round(new Date/1e3),0<u&&c.e=="4001"){var u=this._logs[u-1];if(u.e=="4001"&&u.__time__-c.__time__<5)return}this._logs.push(c),(this._logs.length>this._uploadCount||c.e=="4001"||c.e=="2002"||c.e=="9002"&&(u=c.args)!=null&&u.includes("dump::"))&&this._report()},o.prototype.dispose=function(){this._report(),this._disposed=!0},o.prototype._start=function(){this._disposed=!1,this._retry=0,this._report()},o.prototype._report=function(c){var u,s,r;this._tickHandler&&(clearTimeout(this._tickHandler),this._tickHandler=null),0<(c=c||this._logs.splice(0,this._uploadCount)).length?(r={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(u=JSON.stringify({__logs__:c,__source__:""})).length},d.postWithHeader((s=this)._logReportTo,u,r,function(n){s._tick()},function(n){s._retry==0?(s._retry=1,s._report(c)):s._tick()})):this._tick()},o.prototype.reportDump=function(c){var u;c&&(u={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(c=JSON.stringify({__logs__:[c],__source__:""})).length},d.postWithHeader(this._dumpLogReportTo,c,u,function(s){},function(s){}))},o.prototype._tick=function(){var c;this._disposed||(this._retry=0,(c=this)._logs.length>this._uploadCount?c._report():this._tickHandler=setTimeout(function(){c._report()},1e3*this._uploadDuration))},t.exports=o},{"../lib/io":45,"../lib/storage":52}],72:[function(_,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(g){for(var T=1;T<arguments.length;T++){var E,w=arguments[T];for(E in w)!{}.hasOwnProperty.call(w,E)||(g[E]=w[E])}return g}).apply(null,arguments)}var o,c=_("../lib/oo"),u=_("../lib/object"),s=_("../lib/data"),r=_("../lib/io"),n=_("../lib/ua"),a=_("../lib/event"),l=_("../config"),h=_("../player/base/event/eventtype"),v=_("./util"),y=_("./log"),f=_("../lib/playerutil"),S=0,b={CREATE:1e3,STARTFETCHDATA:1003,COMPLETEFETCHDATA:1004,PREPARE:1101,PREPAREEND:1102,STARTPLAY:2e3,PLAY:2001,STOP:2002,PAUSE:2003,SEEK:2004,FULLSREEM:2005,QUITFULLSCREEM:2006,RESOLUTION:2007,RESOLUTION_DONE:2008,RECOVER:2010,SEEK_END:2011,PLAYABORT:2012,SEEKED:2014,CANPLAY:2018,FETCHEDIP:2020,CDNDETECT:2021,DETECT:2022,HEVCINFO:2023,UNDERLOAD:3002,LOADED:3001,RETRY:3003,HEARTBEAT:9001,TRACE:9002,DUMP:9003,ERROR:4001,ERRORRETRY:4002,RTSFALLBACK:4003,VOD_REQUEST_FATAL_ERROR:4004,VOD_REQUEST_FATAL_ERROR_RESUME:4005,LICENSE_RESULT:5004,SNAPSHOT:2027,ROTATE:2028,IMAGE:2029,THUMBNAILSTART:2031,THUMBNAILCOMPLETE:2032,CCSTART:2033,CCCOMPLETE:2034,AUDIOTRACKSTART:2033,AUDIOTRACKCOMPLETE:2034},_=c.extend({init:function(x,I,w){this.trackLog=w=w===void 0?!0:w,this.player=x,this.requestId="",this.sessionId=s.guid(),this.playId=0,this.firstPlay=!0,this.osName=n.os.name,this.osVersion=n.os.version||"",this.exName=n.browser.name,this.exVersion=n.browser.version||"",this.lightSaasVideoId="",this._logService="",this._h265ProbeInfo={},this.loadedDataReported=!1,this.startPlayReported=!1,this.canplayReported=!1,this.doPlayReported=!1,this.seekingData={seekingStartTime:0},this.pendingPrepareEndData=null,this.h265RenderTypeTimer=null,this.statisticsHistoryTimer=null,this.timeline=[{name:"init",ts:performance.now()}],this.checkSeekStuckedTimer=null,l.logReportTo=I.logReportTo||l.logReportTo,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},this.resetHeartBeatStatusData(),this.resetStatisticsHistoryData(),I.logBatched&&(this._logService=new y(l));var w=this.player.getOptions(),x=I.from||"",I=(w.isLive,w.isLive?"live":"vod"),R="pc",k=(n.IS_IPAD?R="pad":n.os.phone&&(R="phone"),this.encodeURL(n.getReferer())),j=n.getHref(),L=this.encodeURL(j),N="",j=(j&&(N=n.getHost(j)),l.h5Version),U=v.getUuid(),W=w.source?this.encodeURL(w.source):"",B=n.getHost(w.source),M=w.userId?w.userId+"":"0",C=this.sessionId,D=new Date().getTime(),A=String(w.traceId)||"";this._userNetInfo={cdnIp:"",localIp:""},this.opt={APIVersion:"0.6.0",t:D,ll:"info",lv:"1.0",pd:"player",md:"saas_player",ui:"saas_player",sm:"play",os:this.osName,ov:this.osVersion,et:this.exName,ev:this.exVersion,uat:n.USER_AGENT,hn:"0.0.0.0",bi:x,ri:C,e:"0",args:"0",li_ki:w.license.key||"",vt:I,tt:R,dm:"h5",av:j,uuid:U,vu:W,vd:B,ua:M,dn:"custom",cdn_ip:"0.0.0.0",app_n:N,r:k,pu:L,ti:A},this.bindEvent()},updateVideoInfo:function(g){g=g.from||"",this.opt.bi=g+"",this.updateSourceInfo()},updateSourceInfo:function(){var g,T=this.player.getOptions();T&&(g=T.source?this.encodeURL(T.source):"",T=n.getHost(T.source),this.opt.vu=g,this.opt.vd=T)},updateTraceId:function(g){this.opt.ti=String(g)},updateLightSaasVideoId:function(g){this.lightSaasVideoId=g},replay:function(){this.reset(),this.player.trigger(h.Video.LoadStart),this.player.trigger(h.Video.LoadedMetadata),this.player.trigger(h.Video.LoadedData),this.startHeartBeat()},bindEvent:function(){var g=this;this.player.on(h.Private.Create,function(T){g._onCreate(T)}),this.player.on(h.Player.Init,function(){g._onPlayerInit()}),this.player.on(h.Video.LoadStart,function(){g._onPlayerloadstart()}),this.player.on(h.Video.LoadedMetadata,function(){g._onPlayerLoadMetadata()}),this.player.on(h.Video.LoadedData,function(){g._onPlayerLoaddata()}),this.player.on(h.Player.H265PlayInfo,function(T){g._onH265PlayInfo(T),g._onPlayerH265PlayInfo(T)}),this.player.on(h.Player.H266PlayInfo,function(T){g._onH265PlayInfo(T),g._onPlayerH265PlayInfo(T)}),this.player.on(h.Video.Play,function(){g._onPlayerPlay()}),this.player.on(h.Video.Playing,function(){g._onPlayerReady()}),this.player.on(h.Video.Ended,function(){g._onPlayerFinish()}),this.player.on(h.Video.Pause,function(){g._onPlayerPause()}),this.player.on("seeking",function(){g._onPlayerSeeking()}),this.player.on("seeked",function(){g._onPlayerSeeked()}),this.player.on(h.Private.LicenseHasResult,function(T){g._onLicenseHasResult(T)}),this.player.on(h.Private.SeekStart,function(T){g._onPlayerSeekStart(T)}),this.player.on(h.Private.EndStart,function(T){g._seekEndData=T.paramData}),this.player.on(h.Player.Waiting,function(){g._onPlayerLoaded()}),this.player.on(h.Video.CanPlayThrough,function(){}),this.player.on(h.Video.CanPlay,function(){g._waitingDelayLoadingShowHandle&&(clearTimeout(g._waitingDelayLoadingShowHandle),g._waitingDelayLoadingShowHandle=null),g._onPlayerUnderload(),g._onPlayerCanplay()}),this.player.on(h.Video.TimeUpdate,function(){g._waitingDelayLoadingShowHandle&&(clearTimeout(g._waitingDelayLoadingShowHandle),g._waitingDelayLoadingShowHandle=null),g._seekEndData&&g.player._seeking&&g._onPlayerSeekEnd()}),this.player.on(h.Player.Error,function(T){g._onPlayerError(T)}),this.player.on(h.Player.RequestFullScreen,function(){g._onFullscreenChange(1)}),this.player.on(h.Player.CancelFullScreen,function(){g._onFullscreenChange(0)}),this.player.on(h.Private.PREPARE,function(T){g._prepareTime=performance.now(),g._log("PREPARE",{dn:T.paramData}),g.timeline.push({name:"prepare",ts:performance.now()})}),this.player.on(h.Private.ManualPlay,function(){g.loadedDataReported||(g._prepareTime=performance.now(),g.timeline.push({name:"prepare2",ts:performance.now()}))}),this.player.on(h.Player.Snapshoted,function(){g._log("SNAPSHOT")}),this.player.on(h.Private.Retry,function(T){T=T.paramData||{},g._log("RETRY",{type:T.type,source:T.source})}),this.player.on(h.Player.RtsFallback,function(w){var E,w=w.paramData||{};g._log("RTSFALLBACK",{reason:(E=w.reason)==null?void 0:E.error_msg,url:w.fallbackUrl})}),this.player.on(h.Private.VodRequestException,function(T){T=T.paramData||{},g.reportVodException(T)}),this.player.on(h.Private.VodRequestExceptionResume,function(T){T=T.paramData||{},g.reportVodExceptionResume(T)}),this.player.on(h.Private.TraceLog,function(T){T=T.paramData||{},g._reportTrace(T)}),this.player.on(h.Private.DumpBuffer,function(T){T=T.paramData||{},g._reportDump(T)}),this.player.on(h.Private.StatisticsInfo,function(T){T=T.paramData||{},g._onStatisticsHistoryUpdate(T)}),this.player.on(h.Private.Timeline,function(T){T=T.paramData||{},g._onTimeline(T)}),a.on(this.player.tag,h.Video.Playing,function(){g.reportPlaying()}),a.on(this.player.tag,h.Video.TimeUpdate,function(){g.reportPlaying()}),this.startHeartBeat.call(this),this.startStatisticsHistory.call(this)},startStatisticsHistory:function(){var g=this;this.opt.app_n==="n.dingtalk.com"&&(this.statisticsHistoryTimer&&clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=setInterval(function(){g.player.trigger(h.Private.TraceLog,"[statistics_history]"+JSON.stringify(g.statisticsHistory)),g.resetStatisticsHistoryData()},this.player._options.statisticsReportInterval))},reportPlaying:function(){var g;this.doPlayReported||this.player.paused()||this.player.readyState()===0||(this.doPlayReported=!0,this.first_play_time=performance.now(),g={dsm:"fix",tc:this.first_play_time-this.loadstartTime,fc:this.first_play_time-this.playstartTime},this._log("PLAY",g))},removeEvent:function(){this.player.offAll("init"),this.player.offAll("ready"),this.player.offAll("ended"),this.player.offAll("play"),this.player.offAll("pause"),this.player.offAll("seekStart"),this.player.offAll("seekEnd"),this.player.offAll("canplaythrough"),this.player.offAll("playing"),this.player.offAll("timeupdate"),this.player.offAll("error"),this.player.offAll("fullscreenchange"),this.player.offAll("seeking"),this.player.offAll("seeked"),this.player.offAll(h.Private.PREPARE),this.player.offAll(h.Player.RtsFallback),a.off(this.player.tag,h.Video.Playing),a.off(this.player.tag,h.Video.TimeUpdate),this._logService&&this._logService.dispose(),clearInterval(o),clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=null,clearTimeout(this.checkSeekStuckedTimer),this.checkSeekStuckedTimer=null},reset:function(){this.stucking=!1,this.startTimePlay=0,this.pause_flag=0,this.firstPlay=!1,this.playId=0,this._canPlay=0,this.seekingStartTime=0,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},S=0,this.lightSaasVideoId="",this.resetHeartBeatStatusData(),this.resetStatisticsHistoryData(),o&&(clearInterval(o),o=null)},encodeURL:function(g){var T;return g?(T=this.player.getOptions())&&!T.logBatched?encodeURIComponent(g):g:""},startHeartBeat:function(){var g=this;o&&clearInterval(o),o=setInterval(function(){var T;g.player.getCurrentTime()&&(T=Math.floor(1e3*g.player.getCurrentTime()),g.player.paused()&&(g.prevStats.timestamp=0),++S>=g.player._options.heartHeatInterval)&&g.updateStats.call(g,function(E){var x=g._imageInfo()||{},I=g.player.tag.playbackRate,w=g.player.getVolume(),x={vt:T,interval:1e3*S,imgLength:x.imgLength,playbackRate:I,volume:w,bw:g._getbwEstimator()+"KB"},I=((x=E?d({},x,{dls:Math.floor(E.downloadSpeedPerSec),dfps:Math.floor(E.decodedFramesPerSec),pkl:Number((E.packageLossRate||0).toFixed(2)),rtt:1e3*E.rtt}):x).player_status=d({},g.heartBeatStatusData),g.player);x.time={play_time:parseFloat((I._playingTime/1e3).toFixed(2)),stuck_count:parseFloat(I._stuckCount.toFixed(2)),stuck_time:parseFloat((I._stuckTime/1e3).toFixed(2))},g._log("HEARTBEAT",x),S=0})},1e3)},updateStats:function(g){g=g||function(){};var T=this;this.player.getStats().then(function(E){var w,x;E?(w=T.prevStats,E.bytesReceived=E.bytesReceived||0,E.framesDecoded=E.framesDecoded||0,E.packetsLost=E.packetsLost||0,E.packetsReceived=E.packetsReceived||0,x=((T.prevStats=E).timestamp-w.timestamp)/1e3,g({downloadSpeedPerSec:(E.bytesReceived-w.bytesReceived)/x,decodedFramesPerSec:(E.framesDecoded-w.framesDecoded)/x,packageLossRate:(E.packetsLost-w.packetsLost)/(E.packetsLost-w.packetsLost+(E.packetsReceived-w.packetsReceived)),rtt:E.rtt,timeGap:x})):g()}).catch(function(E){console.log("error in monitor getStats: ",E),g()})},reportStartPlay:function(){this.startPlayReported||(this._log("STARTPLAY",{vt:new Date().getTime()}),this.startPlayReported=!0)},reportCanplay:function(){this.canplayReported||(this._log("CANPLAY",{vt:new Date().getTime()}),this.canplayReported=!0)},reportPlayAbort:function(g){this._log("PLAYABORT",{vt:new Date().getTime(),from:g})},reportVodException:function(g){console.log("VOD_REQUEST_FATAL_ERROR",g),this._log("VOD_REQUEST_FATAL_ERROR",g)},reportVodExceptionResume:function(g){console.log("VOD_REQUEST_FATAL_ERROR_RESUME",g),this._log("VOD_REQUEST_FATAL_ERROR_RESUME",g)},resetStartPlayReportFlag:function(){this.startPlayReported=!1},resetCanplayReportFlag:function(){this.canplayReported=!1},resetLoadedDataReported:function(){this.loadedDataReported=!1,this._prepareTime=performance.now()},resetDoPlayReportFlag:function(){this.doPlayReported=!1},resetSessionId:function(){this.sessionId=s.guid()},resetHeartBeatStatusData:function(){this.heartBeatStatusData={t_last_pause:-1,t_last_resume:-1,t_last_load_start:-1,t_last_load_end:-1},this.player.startPlayTimeMonitor()},resetStatisticsHistoryData:function(){this.statisticsHistory={speed:[],framesDropped:[],downlink:[],type:[],rtt:[]}},resetTimeline:function(){var g=performance.now();this._createTime=g,this.timeline=[{name:"init",ts:g}]},resetVV:function(){this.startPlayReported&&(this.resetStartPlayReportFlag(),this.resetLoadedDataReported(),this.resetDoPlayReportFlag(),this.resetCanplayReportFlag(),this.resetSessionId(),this.resetTimeline())},updateH265ProbeInfo:function(g){this._h265ProbeInfo=g||{}},_onFullscreenChange:function(g){g?this._log("FULLSREEM",{}):this._log("QUITFULLSCREEM",{})},_onTimeline:function(g){var T=["frag_s","frag_f","frag_parsed"].includes(g.name);this.timeline.some(function(E){return T&&E.name===g.name})||this.timeline.push(g)},_onPlayerloadstart:function(){this.loadstartTime=performance.now(),this.playId=s.guid()},_onPlayerLoadMetadata:function(){this.loadMetaDataCost=performance.now()-this.loadstartTime,this.timeline.push({name:"meta",ts:performance.now()})},_onPlayerLoaddata:function(){var g,T,E,w,x=this;this.timeline.push({name:"loadeddata",ts:performance.now()}),this.loadedDataReported||(w=E=0,this.player.tag&&(E=this.player.tag.videoWidth,w=this.player.tag.videoHeight),g={fc:parseInt(performance.now()-this._createTime),tc:parseInt(performance.now()-this._prepareTime),cc:parseInt(performance.now()-this.loadstartTime),md:parseInt(this.loadMetaDataCost),mi:JSON.stringify({type:"video",definition:E+"*"+w})},this.timeline.forEach(function(I,R){try{var k=R?I.ts-x.timeline[R-1].ts:0;g["tl_"+I.name]=R+"#"+parseInt(k)}catch{}}),(E=this.player.tag)!=null&&E.duration&&(g.vdur=1e3*((w=this.player.tag)==null?void 0:w.duration)),(5<this._h265ProbeInfo.codecCost||5<this._h265ProbeInfo.decoderCost)&&(E=Math.floor(this._h265ProbeInfo.codecCost)||0,w=Math.floor(this._h265ProbeInfo.decoderCost)||0,g.tc+=T=E+w,g.cc+=T,g.pcc=E,g.pdc=w),T=[{type:"audio"}],E={type:"video",codecType:null,isHardwareDecode:null},w=this._h265ProbeInfo.codecTag,f.isH265Codec(w)?E.codecType="h265":f.isH266Codec(w)?E.codecType="h266":f.isH264Codec(w)&&(E.codecType="h264"),T.push(E),g.decode_info=T,this._h265ProbeInfo.waitRenderType?(this.pendingPrepareEndData=g,this.h265RenderTypeTimer=setTimeout(function(){x._log("PREPAREEND",g),x.h265RenderTypeTimer=null},2e3)):this._log("PREPAREEND",g)),this.loadedDataReported=!0},_onStatisticsHistoryUpdate:function(g){this.opt.app_n==="n.dingtalk.com"&&(this.statisticsHistory.speed.push(parseInt(g.speed)),this.statisticsHistory.framesDropped.push(g.droppedFrames),g=navigator.connection)&&(this.statisticsHistory.downlink.push(g.downlink),this.statisticsHistory.type.push(g.effectiveType),this.statisticsHistory.rtt.push(g.rtt))},_onH265PlayInfo:function(g){var T,E;this.h265RenderTypeTimer&&(clearTimeout(this.h265RenderTypeTimer),this.h265RenderTypeTimer=null),this.pendingPrepareEndData&&(g=g.paramData,T=this.pendingPrepareEndData,this.pendingPrepareEndData=null,E=T.decode_info[1],g.renderType==="wasm"&&(E.isHardwareDecode=!1),this._log("PREPAREEND",T))},_onPlayerH265PlayInfo:function(g){g=g.paramData||{},this._log("HEVCINFO",{cd:g.codecTag,rd:g.renderType,si:g.simd,sio:g.simdOption,wt:g.wasmThreads,wto:g.wasmThreadsOption,sp:g.splayer})},_onPlayerCanplay:function(){this._canPlay=1,this.reportCanplay(),this.prevStats.timestamp||this.updateStats.call(this)},_onCreate:function(g){g=g.paramData||{},g.hasPa=!!g.playauth,delete g.playauth,g.hasSk=!!g.accessKeySecret,delete g.accessKeySecret,g.hasSt=!!g.securityToken,delete g.securityToken,this._log("CREATE",g),this._createTime=performance.now()},_onPlayerInit:function(){this.stucking=!1,this.pause_flag=0,this.startTimePlay=0,this._canPlay=0,this.seekingStartTime=0},_onPlayerReady:function(){this.startTimePlay||(this.startTimePlay=new Date().getTime())},_onPlayerFinish:function(){this._log("STOP",{vt:Math.floor(1e3*this.player.getCurrentTime())}),this.reset()},_onPlayerPlay:function(){var g;this.playstartTime=new Date().getTime(),this.playId==0&&(this.playId=s.guid()),this.player._isPreload()||(this.loadstartTime=performance.now()),this.doPlayReported&&this.pause_flag&&(this.pause_flag=0,this.pauseEndTime=new Date().getTime(),this.heartBeatStatusData.t_last_resume=this.pauseEndTime,g=this.pauseEndTime-this.pauseTime,this._log("RECOVER",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:g,pass:g,t_last_pause:this.pauseTime}))},_onPlayerPause:function(){!this.doPlayReported||this.startTimePlay&&!this.player._seeking&&(this.pause_flag=1,this.pauseTime=new Date().getTime(),this.heartBeatStatusData.t_last_pause=this.pauseTime,this.heartBeatStatusData.t_last_resume=-1,this._log("PAUSE",{vt:Math.floor(1e3*this.player.getCurrentTime())}))},_onLicenseHasResult:function(g){g=g.paramData||{},this._log("LICENSE_RESULT",{li_ri:g.result+" "+(g.errorCode||""),li_ti:g.featureId||"sdk"})},_onPlayerSeekStart:function(g){this.seekStartTime=g.paramData.fromTime,this.startTimePlay=0,this.seekStartStamp=new Date().getTime()},_onPlayerSeekEnd:function(){this.seekEndStamp=new Date().getTime(),this._log("SEEK",{drag_from_timestamp:Math.floor(1e3*this.seekStartTime),drag_to_timestamp:Math.floor(1e3*this._seekEndData.toTime)}),this._log("SEEK_END",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.seekEndStamp-this.seekStartStamp}),this._seekEndData=null},_onPlayerLoaded:function(){var g,T=this;this.doPlayReported&&!this.stucking&&document.visibilityState!=="hidden"&&(this.player._seeking?(this.seekingStartTime=this.player.getCurrentTime(),this.checkSeekStuckedTimer&&clearTimeout(this.checkSeekStuckedTimer),this.checkSeekStuckedTimer=setTimeout(function(){var E=T.player.readyState()<4;T.player.readyState()||(E=!0),T.player.getCurrentTime()===T.seekingStartTime&&E&&(E=T._getbwEstimator(),T._log("UNDERLOAD",{vt:Math.floor(1e3*T.player.getCurrentTime()),bw:E,cbs:T._getCbs()}),T.stucking=!0,T.stuckStartTime=new Date().getTime(),T._getCbs()===0)&&(T.heartBeatStatusData.t_last_load_start=T.stuckStartTime,T.heartBeatStatusData.t_last_load_end=-1)},500)):(this.stuckStartTime=new Date().getTime(),this._getCbs()===0&&(this.heartBeatStatusData.t_last_load_start=this.stuckStartTime,this.heartBeatStatusData.t_last_load_end=-1),this.stuckStartTime-this.startTimePlay<=1e3||(this.stucking=!0,g=this._getbwEstimator(),this._log("UNDERLOAD",{vt:Math.floor(1e3*this.player.getCurrentTime()),bw:g,cbs:this._getCbs()}),this.stuckStartTime=new Date().getTime())))},_onPlayerUnderload:function(){var g,T,E,w;!this.doPlayReported&&this.player._options&&this.player._options.autoplay||this.stucking&&(g=Math.floor(1e3*this.player.getCurrentTime()),T=this.stuckStartTime||new Date().getTime(),0<(E=Math.floor(new Date().getTime()-T))&&E<(1e3*this.player._options.waitingTimeout||6e4)&&(w=this._getbwEstimator(),this._getCbs()===0&&(this.heartBeatStatusData.t_last_load_end=new Date().getTime()),this._log("LOADED",{vt:g,cost:E,bw:w,cbs:this._getCbs(),t_last_load_start:T})),this.seekStart=!1,this.stucking=!1)},_onPlayerSeeking:function(){this.seekStart=!0,this.seekingData.seekingStartTime=performance.now()},_onPlayerSeeked:function(){var g=this;this.player._splayer?this.player.one("canplay",function(){g._reportSeeked()}):this._reportSeeked()},_reportSeeked:function(){var g=performance.now(),g=Math.floor(g-this.seekingData.seekingStartTime);this._log("SEEKED",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:g})},_reportTrace:function(g){this._log("TRACE",{log:g})},_reportDump:function(g){this._log("DUMP",g)},_onPlayerError:function(g){this._reportTrace(g.paramData),this.playId=0,this.statisticsHistoryTimer&&(clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=null,this.resetStatisticsHistoryData()),o&&(clearInterval(o),o=null)},_getbwEstimator:function(){var g=NaN;try{g=((g=this.player._getbwEstimator&&parseInt(this.player._getbwEstimator(),10))/8/1024).toFixed(2)}catch{}return g},_getCbs:function(){return!this.player.getOptions().isLive&&this.seekStart?1:0},_log:function(g,T){if(this.trackLog){this.updateSourceInfo();var E=u.copy(this.opt),w=(this.requestId=s.guid(),l.logReportTo),g=(E.e=b[g]+"",E.en=g,E.ri=this.sessionId,E.bi=E.bi&&String(E.bi),E.t=new Date().getTime()+"",E.cdn_ip=this._userNetInfo.cdnIp,E.hn=this._userNetInfo.localIp,this.player.getCurrentQuality()),x=(g!=""&&(E.definition=g.definition),[]),g=(u.each(T,function(L,N){if(typeof N!="string")try{N=JSON.stringify(N)}catch{}x.push(L+"="+N)}),""),T=this.player.getOptions(),g=((g=T&&T.vid||this.lightSaasVideoId?T.vid||this.lightSaasVideoId:g)&&x.push("vid="+g),"");(g=T&&T.mediaAuth?T.mediaAuth:g)&&x.push("pauth="+g);try{Aliplayer&&Aliplayer.__logCallback__&&(E.args=x,Aliplayer.__logCallback__(E))}catch(L){console.log(L)}if((x=x.join("&"))==""&&(x="0"),E.args=this.encodeURL(x),this._logService){if(E.e===String(b.DUMP))return void this._logService.reportDump(E);this._logService.add(E)}else{var I=[];u.each(E,function(L,N){I.push(L+"="+N)}),I=I.join("&"),r.jsonp(w+"?"+I,function(){},function(){})}return this.sessionId}},_imageInfo:function(){try{var g,T,E,w,x,I,R;return/MSIE\s8\.0/.test(navigator.userAgent)?{}:(g=this.player.tag)?(T=document.createElement("canvas"),E=g.videoWidth,w=g.videoHeight,T.width=E,T.height=w,(x=T.getContext("2d")).save(),x.drawImage(g,0,0,E,w),x.restore(),I=T.toDataURL("image/jpeg",1),R="",{imgLength:(R=I?(R=I.substr(I.indexOf(",")+1))||"":R).length}):{}}catch{return{}}}});t.exports=_},{"../config":19,"../lib/data":35,"../lib/event":38,"../lib/io":45,"../lib/object":47,"../lib/oo":48,"../lib/playerutil":50,"../lib/ua":53,"../player/base/event/eventtype":77,"./log":71,"./util":73}],73:[function(e,t,m){var d=e("../lib/cookie"),o=e("../lib/data"),c=e("../lib/ua");t.exports.getUuid=function(){var u=d.get("p_h5_u");return u||(u=o.guid(),d.set("p_h5_u",u,730)),u},t.exports.getTerminalType=function(){var u="pc";return c.IS_IPAD?u="pad":c.IS_ANDROID?u="android":c.IS_IOS&&(u="iphone"),u},t.exports.returnUTCDate=function(v){var s=v.getUTCFullYear(),r=v.getUTCMonth(),n=v.getUTCDate(),a=v.getUTCHours(),l=v.getUTCMinutes(),h=v.getUTCSeconds(),v=v.getUTCMilliseconds();return Date.UTC(s,r,n,a,l,h,v)},t.exports.getRfc822=function(u){return u.toUTCString().replace("UTC","GMT")}},{"../lib/cookie":34,"../lib/data":35,"../lib/ua":53}],74:[function(e,t,m){var d=e("./base/player"),o=e("./saas/mtsplayer"),c=e("./saas/vodplayer"),u=e("./saas/lightPlayer"),s=e("./audio/audioplayer"),r=e("./hls/hlsplayer"),n=e("./flv/flvplayer"),a=e("./dash/dashplayer"),l=e("./rts/rtsplayer"),h=e("./drm/drmplayer"),v=e("./splayer/splayer"),y=e("../lib/ua"),f=e("../lib/playerutil"),S=(e("../lib/dom"),e("../lib/io"),e("../lang/index")),b=e("../lib/constants"),_=e("./base/event/eventtype");t.exports.create=function(w,E){w.PlayAuth&&(w.playauth=w.PlayAuth),typeof w.rtsFallback!="boolean"&&w.rtsFallbackSource&&(w.rtsFallback=!0),w._userOptions||(w._userOptions=Object.assign({},w)),navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("Olympic_Android")&&(w.useNativeControls=!0),w.readyCallback=E=typeof E!="function"?function(){}:E,S.setCurrentLanguage(w.language,"h5",w.languageTexts,w.extLanguageTexts);var E=f.handleOption(w),w=E.source,x=E.format;if(x&&w)try{x=x.toLowerCase()}catch(L){console.log("Aliplayer - parsing format failed",L),x=""}else x="";f.isSupportedFormat(x)||(x=""),E.optionFormat=x,E.drm&&(E.isDrm=!0),E.useDrm2===void 0&&(E.useDrm2=!(E.isDrm&&E.accessKeyId));var I,R=f.isAudio(w,x),k=(R&&(E.mediaType="audio"),f.createWrapper(E));if(k.player)return k.player;if(R)I=new s(k,E);else if(f.isRts(w))I=new l(k,E);else if((E.forceH265||E.enableH265)&&(f.isMp4(w,x)||f.isFlv(w,x)||f.isHls(w,x)))I=new v(k,E);else if((E.forceH266||E.enableH266)&&(f.isMp4(w,x)||E.isLive&&(f.isFlv(w,x)||f.isHls(w,x))))I=new v(k,E);else if(!E.useFlashPrism&&f.isFlv(w,x)&&f.isSupportFlv())I=new n(k,E);else if([null,void 0].indexOf(E.mediaAuth)!==-1||E.source)if(E.vid&&!E.source)if(E.authInfo)I=new o(k,E);else{if(!(E.playauth||E.accessKeyId&&E.accessKeySecret))throw R="vid="+E.vid+" playauth='', playauth property is required by VOD(视频点播) as new Aliplayer.",new Error(R);I=new c(k,E)}else f.isHls(w,x)?f.canPlayHls()?I=new(f.isSupportHls()&&(f.isUsedHlsPluginOnMobile()||f.isSafariUsedHlsPlugin(E.useHlsPluginForSafari))?E.isDrm?h:r:E.isDrm?h:d)(k,E):f.isSupportHls()?I=new(E.isDrm?h:r)(k,E):y.os.pc||(I=new d(k,E)):f.isDash(w,x)&&f.isSupportMSE()?I=new(E.isDrm?h:a)(k,E):(I=new d(k,E),E.source||(R={error_code:b.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL",display_msg:S.get("Error_Empty_Source")},I.trigger(_.Player.Error,R)));else I=new u(k,E);return I}},{"../lang/index":28,"../lib/constants":33,"../lib/dom":37,"../lib/io":45,"../lib/playerutil":50,"../lib/ua":53,"./audio/audioplayer":75,"./base/event/eventtype":77,"./base/player":102,"./dash/dashplayer":109,"./drm/drmplayer":112,"./flv/flvplayer":114,"./hls/hlsplayer":116,"./rts/rtsplayer":118,"./saas/lightPlayer":122,"./saas/mtsplayer":124,"./saas/vodplayer":129,"./splayer/splayer":138}],75:[function(r,t,m){var d=r("../base/player"),o=r("../../ui/component"),c=r("../../lib/dom"),u=r("../../lib/object"),s=r("../../lib/playerutil"),r=d.extend({init:function(n,a){this._isAudio=!0,a.skinLayout===void 0&&(a.skinLayout=s.getDefaultAudioLayout()),d.call(this,n,a)}});r.prototype.createEl=function(){this.tag.tagName!=="AUDIO"&&(this._el=this.tag,this.tag=o.prototype.createEl.call(this,"audio"));var n=this._el,a=this.tag,l=(a.player=this,c.getElementAttributes(a));return u.each(l,function(h){n.setAttribute(h,l[h])}),this.setVideoAttrs(),a.parentNode&&a.parentNode.insertBefore(n,a),c.insertFirst(a,n),n},t.exports=r},{"../../lib/dom":37,"../../lib/object":47,"../../lib/playerutil":50,"../../ui/component":143,"../base/player":102}],76:[function(e,t,m){var d=e("../../../lib/event"),o=e("./eventtype"),c=e("../eventHandler/video/index"),u=e("../eventHandler/player/index");t.exports.offAll=function(s){var r,n,a,l=s.tag,h=s._el;for(r in o.Video)d.off(l,o.Video[r]);for(n in o.Player)d.off(h,o.Player[n]);for(a in o.Private)d.off(h,o.Private[a])},t.exports.offVideoAll=function(s){var r,n=s.tag;for(r in o.Video)d.off(n,o.Video[r])},t.exports.onAll=function(s){c.bind(s),u.bind(s)}},{"../../../lib/event":38,"../eventHandler/player/index":81,"../eventHandler/video/index":91,"./eventtype":77}],77:[function(e,t,m){t.exports={Video:{TimeUpdate:"timeupdate",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",Suspend:"suspend",Stalled:"stalled",LoadStart:"loadstart",DurationChange:"durationchange",LoadedData:"loadeddata",LoadedMetadata:"loadedmetadata",Progress:"progress",CanPlayThrough:"canplaythrough",ContextMenu:"contextmenu",Seeking:"seeking",Seeked:"seeked",ManualEnded:"manualended",VolumeChange:"volumechange",RateChange:"ratechange",Resize:"resize"},Player:{TimeUpdate:"timeupdate",DurationChange:"durationchange",Init:"init",Ready:"ready",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",RequestFullScreen:"requestFullScreen",CancelFullScreen:"cancelFullScreen",Snapshoted:"snapshoted",Snapshoting:"snapshoting",OnM3u8Retry:"onM3u8Retry",LiveStreamStop:"liveStreamStop",AutoPlayPrevented:"autoPlayPrevented",AutoPlay:"autoplay",StartSeek:"startSeek",CompleteSeek:"completeSeek",TextTrackReady:"textTrackReady",AudioTrackReady:"audioTrackReady",AudioTrackUpdated:"audioTrackUpdated",LevelsLoaded:"levelsLoaded",AudioTrackSwitch:"audioTrackSwitch",AudioTrackSwitched:"audioTrackSwitched",LevelSwitch:"levelSwitch",LevelSwitched:"levelSwitched",MarkerDotOver:"markerDotOver",MarkerDotOut:"markerDotOut",DefaultBandWidth:"defaultbandwidth",ResolutionChange:"resolutionChange",SeiFrame:"seiFrame",RtsFallback:"rtsFallback",RtsTraceId:"rtsTraceId",H265PlayInfo:"h265PlayInfo",H266PlayInfo:"h266PlayInfo",H265DecoderOverload:"h265DecoderOverload",SettingSelected:"settingSelected",AutoResize:"autoResize",VideoUnavailable:"videoUnavailable"},Private:{Create:"create",Play_Btn_Show:"play_btn_show",UiH5Ready:"uiH5Ready",Error_Hide:"error_hide",Error_Show:"error_show",Info_Show:"info_show",Info_Hide:"info_hide",H5_Loading_Show:"h5_loading_show",H5_Loading_Hide:"h5_loading_hide",HideProgress:"hideProgress",CancelHideProgress:"cancelHideProgress",UpdateProgress:"updateProgress",UpdateCursorPosition:"updateCursorPosition",Click:"click",MouseOver:"mouseover",MouseOut:"mouseout",MouseEnter:"mouseenter",MouseLeave:"mouseleave",TouchStart:"touchstart",TouchMove:"touchmove",TouchEnd:"touchend",HideBar:"hideBar",ShowBar:"showBar",ControlBarClick:"controlBarClick",ReadyState:"readyState",SourceLoaded:"sourceloaded",QualityChange:"qualitychange",Play_Btn_Hide:"play_btn_hide",Cover_Hide:"cover_hide",Cover_Show:"cover_show",SeekStart:"seekStart",EndStart:"endStart",UpdateProgressBar:"updateProgressBar",LifeCycleChanged:"lifeCycleChanged",Dispose:"dispose",Created:"created",Snapshot_Hide:"snapshot_hide",AutoStreamShow:"auto_stream_show",AutoStreamHide:"auto_stream_hide",VolumnChanged:"volumnchanged",LiveShiftQueryCompleted:"liveShiftQueryCompleted",LiveShiftSwitchToLive:"LiveShiftSwitchToLive",StreamSelectorHide:"streamSelectorHide",SpeedSelectorHide:"speedSelectorHide",SettingShow:"settingShow",SettingHide:"settingHide",SelectorShow:"selectorShow",SelectorHide:"selectorHide",SettingListShow:"settingListShow",SettingListHide:"settingListHide",ThumbnailHide:"thumbnailHide",ThumbnailShow:"thumbnailShow",ThumbnailLoaded:"thumbnailLoaded",TooltipShow:"tooltipShow",TooltipHide:"tooltipHide",SelectorUpdateList:"selectorUpdateList",SelectorValueChange:"selectorValueChange",SelectorGenerateList:"selectorGenerateList",VolumeVisibilityChange:"volumeVisibilityChange",VolumeUpdatePosition:"volumeUpdatePosition",ChangeURL:"changeURL",UpdateToSettingList:"updateToSettingList",CCChanged:"CCChanged",CCStateChanged:"CCStateChanged",CCReset:"ccReset",TextTrackFounded:"textTrackFounded",UserTrackReset:"userTrackReset",PlayClick:"click",ProgressMarkerLoaded:"progressMarkerLoaded",MarkerTextShow:"markerTextShow",MarkerTextHide:"markerTextHide",PREPARE:"prepare",ProgressMarkerChanged:"progressMarkerChanged",SeiFrame:"privateSeiFrame",PlayInfoLoaded:"playInfoLoaded",Retry:"retry",LicenseHasResult:"licenseHasResult",PatchWaiting:"patchWaiting",VttHide:"vttHide",VttSwitchTrack:"vttSwitchTrack",VttClearTracks:"vttClearTracks",SafariDrmLevelSwitch:"safariDrmLevelSwitch",VodRequestException:"vodRequestException",VodRequestExceptionResume:"vodRequestExceptionResume",TraceLog:"traceLog",DumpBuffer:"dumpBuffer",PlaybackRateChanged:"playbackRateChanged",StatisticsInfo:"statisticsInfo",MutedAutoplay:"mutedAutoplay",HideUnmuteButton:"hideUnmuteButton",Timeline:"timeline",ManualPlay:"manualPlay",UpdateWatchTime:"updateWatchTime",FastForwardShow:"fastForwardShow",FastForwardHide:"fastForwardHide"}}},{}],78:[function(e,t,m){e("../../event/eventtype");var d=e("../../../../lib/dom"),o=e("../../../../lib/ua");t.exports.handle=function(){o.IS_IOS&&(o.IS_IOS,!this._splayer||this._splayer.renderType!==2)||d.removeClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":37,"../../../../lib/ua":53,"../../event/eventtype":77}],79:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){var c=this;c.trigger(d.Player.CompleteSeek,o.paramData.toTime),c.one(d.Player.CanPlay,function(){c._enteredProgressMarker&&c.pause()})}},{"../../event/eventtype":77}],80:[function(e,t,m){var d=e("../../event/eventtype"),o=(e("../../../../lib/constants"),e("../../../../lang/index"),e("../../../../monitor/util"));t.exports.handle=function(s){var u=this,s=s.paramData;u.trigger(d.Private.H5_Loading_Hide),u.trigger(d.Private.Cover_Hide),u.trigger(d.Private.Play_Btn_Hide),u.trigger(d.Private.SettingListHide),u.trigger(d.Private.SelectorHide),u.trigger(d.Private.VolumeVisibilityChange,""),s=s||{},u._monitor&&(s.uuid=o.getUuid(),s.serverRequestId=u._serverRequestId,s.requestId=u._monitor2.session.id,s.cdnIp=u._monitor._userNetInfo.cdnIp,s.localIp=u._monitor._userNetInfo.localIp),u._isError=!0,u.trigger(d.Private.Error_Show,s),u.trigger(d.Private.LifeCycleChanged,{type:d.Player.Error,data:s}),u._monitor2.playError(s)}},{"../../../../lang/index":28,"../../../../lib/constants":33,"../../../../monitor/util":73,"../../event/eventtype":77}],81:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../lib/event"),c=e("./lifecyclecommon"),u={endStart:e("./endstart"),seekStart:e("./seekstart"),requestFullScreen:e("./requestfullscreen"),cancelFullScreen:e("./cancelfullscreen"),error:e("./error"),privateSeiFrame:e("./seiframe"),patchWaiting:e("../video/waiting")},s=[d.Private.EndStart,d.Private.SeekStart,d.Player.RequestFullScreen,d.Player.CancelFullScreen,d.Player.Error,d.Player.Ready,d.Private.Dispose,d.Private.Created,d.Private.SeiFrame,d.Private.PatchWaiting];t.exports.bind=function(r){r.el();for(var n=0;n<s.length;n++){var a=s[n];u[a]!="undefined"&&((l,h,v)=>{var y=l.el();o.on(y,h,function(f){var S=(v&&v.handle?v:c).handle;S.call(l,f,h)})})(r,a,u[a])}}},{"../../../../lib/event":38,"../../event/eventtype":77,"../video/waiting":101,"./cancelfullscreen":78,"./endstart":79,"./error":80,"./lifecyclecommon":82,"./requestfullscreen":83,"./seekstart":84,"./seiframe":85}],82:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o,c){this.trigger(d.Private.LifeCycleChanged,{type:c,data:o})}},{"../../event/eventtype":77}],83:[function(e,t,m){e("../../event/eventtype");var d=e("../../../../lib/dom"),o=e("../../../../lib/ua");t.exports.handle=function(){o.IS_IOS&&(o.IS_IOS,!this._splayer||this._splayer.renderType!==2)||d.addClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":37,"../../../../lib/ua":53,"../../event/eventtype":77}],84:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){this._seeking=!0,this.trigger(d.Player.StartSeek,o.paramData.fromTime)}},{"../../event/eventtype":77}],85:[function(e,t,m){e("../../event/eventtype"),t.exports.handle=function(u){var o,c,u=u.paramData,s=u.pts;this._hls2?s=parseInt(1e3*s):this._hls&&(o=u.pts,c=this._initPTS,s=parseInt((o-c)/90,10)),this._seis[s]=this._seis[s]||[],this._seis[s].push(u.dataContent)}},{"../../event/eventtype":77}],86:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){var c=this,u=(c._retrySwitchUrlCount=0,c._liveRetryCount=0,c._clearLiveErrorHandle(),c._dumpBuffer="ABORTED",new Date().getTime()-c.readyTime);c._options.autoplay||c._options._autoplay||!c.paused()||(c.trigger(d.Private.H5_Loading_Hide),c.trigger(d.Private.Play_Btn_Show)),c.trigger(d.Player.CanPlay,{loadtime:u}),c._monitor2.canplay()}},{"../../event/eventtype":77}],87:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../lib/dom"),c=e("../../../../lib/ua");t.exports.handle=function(u){this._seeking=!1;var s=this.tag;s.style.display==="none"&&c.IS_IOS&&setTimeout(function(){o.css(s,"display","block")},100),this.trigger(d.Video.CanPlayThrough)}},{"../../../../lib/dom":37,"../../../../lib/ua":53,"../../event/eventtype":77}],88:[function(e,t,m){t.exports.handle=function(d,o){var c="";d&&d.paramData&&(c=d.paramData),this.trigger(o,c)}},{}],89:[function(e,t,m){var d=e("../../event/eventtype");e("../../../../lang/index"),e("../../../../lib/event"),t.exports.handle=function(o){var c=this;c.waiting=!1,c._ended=!0,c._currentTimeForDisableSeek=0,c.traceLog("video/ended.js","event::ended"),c._monitor2.playFinish(),c.trigger(d.Private.Play_Btn_Show),c.trigger(d.Player.Ended,{playTime:c.getPlayTime()}),c.__disposed||(c._monitor&&c._monitor._onPlayerInit(),c._options.rePlay?(c._monitor&&c._monitor.startHeartBeat(),this._splayer||(c.seek(c._getPlayStartTime()),c.tag.play())):c._options.isLive&&c.trigger(d.Private.H5_Loading_Hide))}},{"../../../../lang/index":28,"../../../../lib/event":38,"../../event/eventtype":77}],90:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../lib/constants"),c=e("../../../../lang/index"),u=(e("../../../../lib/event"),e("../../../../lib/ua")),s=(e("../../../../lib/io"),e("../../../../lib/playerutil")),r="video/error.js";function n(a,l,h){var v=a._options,y=v.source||"";(l=l!==4&&u.IS_IOS&&/qqbrowser/i.test(u.USER_AGENT)?4:l)===4&&s.isHls(y)?s.detectRegionBlock(y,function(f){f?(f={mediaId:v.isLive?"ISLIVE":v.vid||"",error_code:o.ErrorCode.RegionBlock,error_msg:c.get("Error_Region_Block_Text"),diagnosis_info:c.get("Tip_Err_Blocked")},a.logError(f),a.trigger("error",f)):h()}):h()}t.exports.handle=function(a){if((a.target||a.srcElement).error){var l=this;if(l.waiting=!1,l._clearTimeout(),l.checkOnline()&&!l._splayer&&!l._drm){var h,f="",v=a.target||a.srcElement,y=v.error&&v.error.message||"",f="";if(v.error&&v.error.code&&(h=v.error.code,f=o.VideoErrorCode[v.error.code],y=h+" || "+y),l.traceLog(r,"event::error#"+h+"#"+y),l._reportDumpBuffer&&l._reportDumpBuffer(),l._options.isLive)n(l,h,function(){l._options.liveRetry>l._liveRetryCount?l._reloadAndPlayForM3u8():(l._liveRetryCount=0,l.trigger(d.Player.LiveStreamStop),l._liveErrorHandle=setTimeout(function(){var b={mediaId:"ISLIVE",error_code:f,error_msg:y||c.get("Error_Play_Text")+"，"+c.get("Error_Retry_Text")};l.logError(b),b.display_msg=o.VideoErrorCodeText[h]||b.error_msg,l.trigger("error",b)}),u.IS_UC&&(l._liveErrorHandle=null))});else if(h==3){if(v="",-1<y.indexOf("no decoder found"))v=c.get("Error_No_Decoder_Text");else if(l._nudgeCount=l._nudgeCount||0,l._nudgeCount<5){l._nudgeCount++;var S=+l._nudgeCount,S=l.getCurrentTime()+S;if(l.traceLog(r,"decode error, try to nudge("+l._nudgeCount+"/5) from "+l.getCurrentTime()+" to "+S+"s, duration: "+l.getDuration()+"("+y+")",!0),S<l.getDuration())return void l._loadByUrlInner(l._options.source,S,!0)}else if((function(){var b=!1,_=this.getOptions();{var g;this._fallback||!s.isHls(_.source)||this._options._native||!s.canPlayHls()||this.swPlayer||(b=!0,this._options.useHlsPluginForSafari=!1,this._options._native=!0,this.traceLog(r,"fallback to native player"),g=this.getCurrentTime(),window.Aliplayer&&window.Aliplayer.reloadInstance(this._options,function(T){T._fallback=!0,_.isLive||T.seek(g)},this))}return b}).call(l)||(function(){var b=!1,_=this.getOptions();{var g;!this._fallback&&s.isHls(_.source)&&this._options._native&&s.isSupportHls()&&(b=!0,this._options.useHlsPluginForSafari=!0,this._options._native=!1,this.traceLog(r,"fallback to MSE player"),g=this.getCurrentTime(),window.Aliplayer)&&window.Aliplayer.reloadInstance(this._options,function(T){T._fallback=!0,_.isLive||T.seek(g)},this)}return b}).call(l))return;S={mediaId:l._options.vid||"",error_code:f,error_msg:y},l.logError(S),S.display_msg=o.VideoErrorCodeText[h]+(v?"，"+v:""),S.diagnosis_info=c.get("Tip_Err_Decode")+"<br />"+c.get("Tip_Err_Common_Short")+y,l.trigger(d.Player.Error,S)}else l._reloadForVod()||n(l,h,function(){var b,_,g;b=c.get("Error_Play_Text"),_=!1,h<3?b=o.VideoErrorCodeText[h]:l._eventState==o.SUSPEND?(b=c.get("Error_Load_Abort_Text"),f=o.ErrorCode.RequestDataError):l._eventState==o.LOAD_START?(b=c.get("Error_Network_Text"),0<l._options.source.indexOf("auth_key")&&(b=b+"，"+c.get("Error_AuthKey_Text")),f=o.ErrorCode.StartLoadData):l._eventState==o.LOADED_METADATA&&(b=c.get("Error_Play_Text"),f=o.ErrorCode.PlayingError),b=b+"，"+c.get("Error_Retry_Text"),1<l._urls.length&&l._retrySwitchUrlCount<3&&l._options.source.indexOf(".mpd")==-1&&(l.switchUrl(),_=!0),g={mediaId:l._options.vid||"",error_code:f,error_msg:y},_||(l.logError(g),g.display_msg=b,l.trigger(d.Player.Error,g))})}}else this.traceLog(r,"video.MediaError is null, may be caused by non-video source, like invalid poster ("+(a.target||a.srcElement).poster+")")}},{"../../../../lang/index":28,"../../../../lib/constants":33,"../../../../lib/event":38,"../../../../lib/io":45,"../../../../lib/playerutil":50,"../../../../lib/ua":53,"../../event/eventtype":77}],91:[function(e,t,m){var d=e("../../../../lib/event"),o=e("../../event/eventtype"),c={canplay:e("./canplay"),canplaythrough:e("./canplaythrough"),common:e("./common"),ended:e("./ended"),error:e("./error"),pause:e("./pause"),play:e("./play"),playing:e("./playing"),waiting:e("./waiting"),timeupdate:e("./timeupdate"),manualended:e("./ended"),loadedmetadata:e("./loadedmetadata"),loadeddata:e("./loadeddata"),seeking:e("./seeking"),seeked:e("./seeked"),resize:e("./resize")};t.exports.bind=function(u){u.tag;for(var s in o.Video)s=o.Video[s],((r,n,a)=>{var l=r.tag;d.on(l,n,function(h){a.handle.call(r,h,n),n!=o.Video.Error&&(n==o.Video.ManualEnded&&(n=o.Video.Ended),r.trigger(o.Private.LifeCycleChanged,{type:n,data:h}))})})(u,s,c[s]!==void 0?c[s]:c.common)}},{"../../../../lib/event":38,"../../event/eventtype":77,"./canplay":86,"./canplaythrough":87,"./common":88,"./ended":89,"./error":90,"./loadeddata":92,"./loadedmetadata":93,"./pause":94,"./play":95,"./playing":96,"./resize":97,"./seeked":98,"./seeking":99,"./timeupdate":100,"./waiting":101}],92:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){this.trigger(d.Video.LoadedData),this._monitor2.firstFrame()}},{"../../event/eventtype":77}],93:[function(e,t,m){var d=e("../../event/eventtype");e("../../../../lib/playerutil"),t.exports.handle=function(o){var c=this.tag,u=c.duration<1?0:c.duration;this._getSubVideoConfig().start>u-1&&(console.warn("Params.start ["+this._getSubVideoConfig().start+"] is greater than video.duration ["+u+"] - 1, seeking to 0"),this.setStartEnd(0,this._getSubVideoConfig().end)),this._getWatchTimeConfig().watchStartTime>u-1&&(console.warn("Params.watchStartTime ["+this._getWatchTimeConfig().watchStartTime+"] is greater than video.duration ["+u+"] - 1, seeking to 0"),this.setWatchTime(0,this._getWatchTimeConfig().watchEndTime)),this.trigger(d.Private.ReadyState),this._splayer&&this.trigger(d.Video.DurationChange),this.trigger(d.Video.LoadedMetadata),c.videoWidth&&c.videoHeight||this.trigger(d.Player.VideoUnavailable),this._monitor2.mediaMeta({duration:u,videoWidth:c.videoWidth,videoHeight:c.videoHeight})}},{"../../../../lib/playerutil":50,"../../event/eventtype":77}],94:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../lib/ua");t.exports.handle=function(c){var u=this;u._seeking&&u._splayer||(u._hls&&u._options&&u._options.isLive&&o.IS_FIREFOX&&u.trigger(d.Private.Play_Btn_Show),u._clearTimeout(),u.trigger(d.Private.AutoStreamHide),u.trigger(d.Player.Pause),u._isManualPause&&(u.trigger(d.Private.Play_Btn_Show),u.trigger(d.Private.H5_Loading_Hide),u._monitor2.pause()),u.waiting=!1)}},{"../../../../lib/ua":53,"../../event/eventtype":77}],95:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){this.trigger(d.Private.Error_Hide),this.trigger(d.Private.Cover_Hide),this.trigger(d.Private.AutoStreamHide),this.waiting=!1,this.trigger(d.Player.Play)}},{"../../event/eventtype":77}],96:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){var c,u=this;this.tag.paused||(u.trigger(d.Private.H5_Loading_Hide),u.trigger(d.Private.Cover_Hide),u.trigger(d.Private.Info_Hide),u.waiting=!1,u._ended=!1,u._liveRetryCount=0,u._vodRetryCount=0,u._seeking=!1,c=u.getCurrentTime(),u._waitingReloadTime!=c&&(u._waitingTimeoutCount=0),u._checkTimeoutHandle&&(clearTimeout(u._checkTimeoutHandle),u._checkTimeoutHandle=null),u._waitingLoadedHandle&&(clearTimeout(u._waitingLoadedHandle),u._waitingLoadedHandle=null),u._ucSourceHandle&&(clearTimeout(u._ucSourceHandle),u._ucSourceHandle=null),u._waitingDelayLoadingShowHandle&&(clearTimeout(u._waitingDelayLoadingShowHandle),u._waitingDelayLoadingShowHandle=null),u._waitingTimeoutHandle&&(clearTimeout(u._waitingTimeoutHandle),u._waitingTimeoutHandle=null,u._ccService)&&u._options.isLive&&(c=u._ccService.getCurrentSubtitle(),u._setDefaultCC=!0,c)&&u._ccService.switch(c),u.trigger(d.Private.AutoStreamHide),u.trigger(d.Player.Playing),u.trigger(d.Private.Error_Hide),u.trigger(d.Private.Play_Btn_Hide))}},{"../../event/eventtype":77}],97:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../feature/ratioAdapter");t.exports.handle=function(c){this.trigger(d.Video.Resize);var u=this.getOptions();if(u.autoSize){if(!this._ratioAdapter){if(u.autoSize!==!0&&u.autoSize!=="width"&&u.autoSize!=="height")return void console.warn("Unknown parameter [autoSize]: "+u.autoSize+", only true/height/width are supported");u.autoSize===!0&&(u.autoSize="height"),this._ratioAdapter=new o}this._ratioAdapter.autoResize(this.tag.videoWidth/this.tag.videoHeight,this,u.autoSize)}}},{"../../../../feature/ratioAdapter":26,"../../event/eventtype":77}],98:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){this.trigger(d.Video.Seeked),this._monitor2.seekEnd()}},{"../../event/eventtype":77}],99:[function(e,t,m){var d=e("../../event/eventtype");t.exports.handle=function(o){var c,u,s,r=this.tag,n=(this.getOptions().disableSeek&&(n=r.currentTime-this._currentTimeForDisableSeek,.01<Math.abs(n))&&(r.currentTime=this._currentTimeForDisableSeek),r.currentTime);this._canSeek(n)||(c=this._getWatchTimeConfig(),s=0,(u=this._getSubVideoConfig()).start||u.end?s=n>u.end?u.end:u.start:(c.watchStartTime||c.watchEndTime)&&(s=n>c.watchEndTime?c.watchEndTime:c.watchStartTime),r.currentTime=s),this.trigger(d.Video.Seeking),this._monitor2.seek()}},{"../../event/eventtype":77}],100:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../lib/ua"),c=e("../../../../lib/event"),u=e("../../plugin/status");function s(r){var n=this;r!=null&&r.length&&r.forEach(function(a){n.trigger(d.Player.SeiFrame,a)})}t.exports.handle=function(r){var n=this;if(n._isError||n.trigger(d.Player.TimeUpdate,r.timeStamp),!n.__disposed){n._decodeErrorNudgeTimer||(n._decodeErrorNudgeTimer=setTimeout(function(){n._nudgeCount=0},3e3)),(o.IS_IOS||o.IS_MAC_SAFARI)&&(clearTimeout(n._waitingPatchTimer),n._waitingPatchTimer=setTimeout(function(){n.waiting||n._isError||n.paused()||n._disposed||(console.log("!!!!!!!manually waiting!!!!!!!"),n.trigger(d.Private.PatchWaiting))},3e3));var a,l,h,v=n.getCurrentTime(),r=(n.tag.seeking||(n._currentTimeForDisableSeek=v),n.waiting&&!n._TimeUpdateStamp&&(n._TimeUpdateStamp=v),n.waiting!=0&&n._TimeUpdateStamp==v||v===0||(n.trigger(d.Private.H5_Loading_Hide),n.trigger(d.Private.AutoStreamHide),n._checkTimeoutHandle&&clearTimeout(n._checkTimeoutHandle),n._waitingTimeoutHandle&&clearTimeout(n._waitingTimeoutHandle),n._waitingLoadedHandle&&clearTimeout(n._waitingLoadedHandle),n._ucSourceHandle&&(clearTimeout(n._ucSourceHandle),n._ucSourceHandle=null),n.waiting=!1),o.IS_ANDROID&&o.IS_UC&&(n._timeNotUpdateCount=n._timeNotUpdateCount||0,n.waiting||v!==n._TimeUpdateStamp||(n._timeNotUpdateCount++,2<=n._timeNotUpdateCount&&(n._timeNotUpdateCount=0,n.trigger(d.Private.PatchWaiting)))),n._TimeUpdateStamp=v,n._options.isLive||(a=n.getDuration(),r=!1,l=0,a<v&&!n.paused()?(l=1,r=!0):a-v<.2&&0<=o.browser.version.indexOf("49.")&&!n.paused()?(l=2,r=!0):n.exceedPreviewTime(v)?(l=3,r=!0):v>=n._getWatchTimeConfig().watchEndTime&&(l=4,r=!0,n.pause()),r&&setTimeout(function(){n._ended||(n._splayer||n.paused()||n.pause(),c.trigger(n.tag,d.Video.ManualEnded),n.traceLog&&n.traceLog("video/timeupdate.js","ManualEnded#"+l+"#"+v+"#"+a))},100)),n._player.tag),y=(r&&n._options.isLive&&(n._player.resolution&&0<r.videoWidth&&0<r.videoHeight&&(0<n._player.resolution.width||0<n._player.resolution.height)&&(n._player.resolution.width!==r.videoWidth||n._player.resolution.height!==r.videoHeight)&&(h={oldResolution:{width:n._player.resolution.width,height:n._player.resolution.height},newResolution:{width:r.videoWidth,height:r.videoHeight}},n.trigger(d.Player.ResolutionChange,h)),n._player.resolution.width=r.videoWidth==0?n._player.resolution.width:r.videoWidth,n._player.resolution.height=r.videoHeight==0?n._player.resolution.height:r.videoHeight),o.IS_CHROME&&Number(o.CHROME_VERSION)<50&&(n._playingSlientPause&&(clearTimeout(n._playingSlientPause),n._playingSlientPause=null),n._playingSlientPause=setTimeout(function(){var T,E;n._status!=u.playing||n.paused()||n._drm||n._urls.length||(T=n.getCurrentTime(),E=n._options.isLive?0:T,n._loadByUrlInner(n._options.source,E,T))},3e3)),n._seis||{}),f=Object.keys(y);if(f.length!==0)for(var S=parseInt(1e3*v,10)+300,b=0;b<f.length;b++){var _=f[b];if(!(_<=S))break;s.call(n,y[_]),delete y[_]}}}},{"../../../../lib/event":38,"../../../../lib/ua":53,"../../event/eventtype":77,"../../plugin/status":106}],101:[function(e,t,m){var d=e("../../event/eventtype"),o=e("../../../../lib/constants"),c=e("../../../../lib/event"),u=e("../../../../lang/index"),s=e("../../../../lib/ua"),r=e("../../../../lib/playerutil"),n="video/waiting.js";t.exports.handle=function(a){var l=this;if(l._monitor2.waiting(),!l._options.isLive){var h=this.getCurrentTime(),v=this.getDuration();if(!l._ended&&0<v&&(v-h<.5||v<h))return l.pause(),l._ended=!0,c.trigger(this.tag,d.Video.ManualEnded),void(l.traceLog&&l.traceLog(n,"ManualEnded#"+h+"#"+v))}l.waiting=!0;function y(){l._checkTimeoutHandle&&(clearTimeout(l._checkTimeoutHandle),l._checkTimeoutHandle=null),l._waitingTimeoutHandle&&(clearTimeout(l._waitingTimeoutHandle),l._waitingTimeoutHandle=null),l._waitingLoadedHandle&&(clearTimeout(l._waitingLoadedHandle),l._waitingLoadedHandle=null),l._waitingDelayLoadingShowHandle&&(clearTimeout(l._waitingDelayLoadingShowHandle),l._waitingDelayLoadingShowHandle=null),l._ucSourceHandle&&(clearTimeout(l._ucSourceHandle),l._ucSourceHandle=null)}y(),l._waitingDelayLoadingShowHandle=setTimeout(function(){s.IS_IOS&&l.paused()||l._isError||l.trigger(d.Private.H5_Loading_Show)},1e3*l._options.delayLoadingShow),l._TimeUpdateStamp=null,l._checkTimeoutHandle=setTimeout(function(){l.trigger(d.Private.AutoStreamShow)},1e3*l._options.loadDataTimeout),l.trigger(d.Player.Waiting),l._waitingTimeoutHandle=setTimeout(function(){var f;l.tag&&l._options&&(l.pause(),f={mediaId:l._options.vid||"",error_code:o.ErrorCode.LoadingTimeout,error_msg:u.get("Error_Waiting_Timeout_Text")},l.logError(f),l.trigger("error",f))},1e3*l._options.waitingTimeout),h=l._options,h.disableLiveHalfRetry&&h.isLive||h.disableVodHalfRetry&&!h.isLive||(l._waitingLoadedHandle=setTimeout(function(){var f=l.getCurrentTime();l._waitingTimeoutCount==0&&f!=l._waitingReloadTime&&(l.traceLog(n,"half-retry::"+l._options.waitingTimeout/2),l._waitingTimeoutCount=1,l._waitingReloadTime=f,f=l._options.isLive?0:f,l._loadByUrlInner(l._options.source,f,!0))},l._options.waitingTimeout/2*1e3)),s.IS_ANDROID&&s.IS_DINGTALK&&(l._ucSourceHandle=setTimeout(function(){r.detectRegionBlock(l._options.source,function(f){f&&(f={mediaId:l._options.vid,error_code:o.ErrorCode.RegionBlock,error_msg:u.get("Error_Region_Block_Text"),diagnosis_info:u.get("Tip_Err_Blocked")},l.logError(f),l.trigger("error",f))})},5e3)),l.on("error",function(){y()})}},{"../../../../lang/index":28,"../../../../lib/constants":33,"../../../../lib/event":38,"../../../../lib/playerutil":50,"../../../../lib/ua":53,"../../event/eventtype":77}],102:[function(e,t,m){(function(d){(function(){var o=typeof Promise>"u"?e("es6-promise").Promise:Promise,c=e("../../ui/component"),u=e("../../lib/object"),s=e("../../lib/dom"),r=e("../../lib/event"),n=e("../../ui/exports"),a=e("../../monitor/monitor"),l=e("../../lib/ua"),h=e("../../lib/constants"),v=e("../../lib/playerutil"),y=e("../../lib/util"),f=e("./x5play"),S=e("../../lib/cookie"),b=e("../../lang/index"),_=e("../../feature/autoplaydelay"),g=e("./event/eventmanager"),T=e("../../ui/component/cover"),E=e("../../feature/license"),w=e("../../ui/component/text-track-display"),x=e("../../ui/component/press-fast-forward"),I=e("../../ui/component/double-click-skip"),R=e("../../commonui/autostreamselector"),k=e("./event/eventtype"),L=e("./plugin/lifecyclemanager"),N=e("../service/export"),j=e("../../ui/component/progressmarker"),U=e("../../feature/keyboardControl"),W=e("../../feature/AntiRecord"),B=e("../../lib/vttnext/index"),M=e("../../lib/codec-probe"),C=e("../splayer/splayerinjector"),D=e("../../ui/component/util").throttle,A=e("../../feature/ratioAdapter"),Q=e("../../feature/logoManager"),ne=e("../../monitor-new/monitor"),re="base/player.js",K=c.extend({init:function(P,q){var Z;function se(pe){var ce,ee=this;d==="dev"||window.location.protocol==="file:"||window.location.protocol==="resource:"||-1<window.location.href.indexOf("resource://")||this._licenseHasResult||(this._licenseHasResult=!0,q.license&&q.license.key&&q.license.domain?(pe.paramData.renderType!=="native"&&(pe=pe.paramData.codecTag,v.isH265Codec(pe)?ce=h.FEATURE_ID_H265:v.isH266Codec(pe)&&(ce=h.FEATURE_ID_H266)),E.getLicense(q.license.domain,q.license.key,q.env==="SEA"?"ap-southeast-1":"cn-shanghai").then(function(ae){var z=ae.validate(h.PLAYER_SDK_CODE_LEGACY,ce),ae=ae.validate(h.PLAYER_SDK_CODE,ce),de=z===0||ae===0;if(de||console.log(h.PLAYER_SDK_CODE_LEGACY,z,h.PLAYER_SDK_CODE,ae),de)ee.trigger(k.Private.LicenseHasResult,{result:h.LicenseResultCode.Success,featureId:ce});else{if(z===2||ae===2)return o.reject(h.LicenseResultCode.Expired);{if(z===1&&ae===1)return o.reject(h.LicenseResultCode.NotFound);console.error("license validate unknown error")}}}).catch(function(F){var z=String(F).split("#"),z=(F=Number(z[0]),z[1]);ee.trigger(k.Private.LicenseHasResult,{result:F,errorCode:z,featureId:ce}),E.logError(F)})):(console.error(b.get("Tip_License_Required")+": https://help.aliyun.com/zh/vod/developer-reference/license-authorization-and-management#13133fa053843"),console.error(b.get("Tip_License_Params")+": https://help.aliyun.com/zh/vod/developer-reference/integration#387d8a4c094im"),this.trigger(k.Private.LicenseHasResult,{result:h.LicenseResultCode.LicenseKeyInvalid})))}this.tag=P,this.loaded=!1,this.played=!1,this.oncePlayed=!1,this.waiting=!1,this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._isError=!1,this._isHls=!1,this._liveRetryCount=0,this._liveRetryTimer=null,this._flvDumpTimer=null,this._vodRetryCount=0,this._nudgeCount=0,this._seeking=!1,this._serverRequestId=0,this._waitingTimeoutCount=0,this._waitingReloadTime=0,this._created=!1,this._enteredProgressMarker=!1,this._liveShiftSeekStartTime=0,this._seis={},this._initPTS=0,this.isMutiLevel=!1,this._antiRecord=null,this._ratioAdapter=null,this._logoManager=null,this._clickPauseEnabled=!1,this._currentTimeForDisableSeek=0,this._loadByUrlStartTime=0,this._posOffset=0,this._onceLogged=!1,this._licenseHasResult=!1,this.__disposed=!1,this.resolution={width:0,height:0},q.skinLayout===void 0&&(q.skinLayout=v.getDefaultH5Layout()),(P=q.skinLayoutIgnore)!=null&&P.length&&(q.skinLayout=v.ignoreSkinLayouts(q.skinLayout,q.skinLayoutIgnore)),v.isRts(q.source)&&!q.autoplay&&(q.preload=!1),q.env==="SEA"&&(q.logReportTo="https://videocloud-sgp.ap-southeast-1.log.aliyuncs.com/logstores/newplayer/track",q.disableDumpBuffer=!0),c.call(this,this,q),this.addClass("prism-player"),q.plugins&&u.each(q.plugins,function(pe,ce){this[pe](ce)},this),this._createService(),this.UI={},q.useNativeControls?this.tag.setAttribute("controls","controls"):(this.UI=n,q.errorDisplay==0&&(this.UI.errorDisplay=void 0)),q.disablePip&&this.tag.setAttribute("disablePictureInPicture","true"),this._handleLongPress(q),this._handleClickPause_dbClickFullscreen(q),this.initChildren(),this._options.trackLog&&(this._monitor=new a(this,{video_id:0,album_id:0,from:this._options.from,source:this._options.source,logBatched:this._options.logBatched,logReportTo:this._options.logReportTo},this._options.trackLog)),this._monitor2=new ne(this,q),g.onAll(this),this.trigger(k.Private.Create,q._userOptions),this._options.preventRecord&&(this._antiRecord=new W({player:this}),this._antiRecord.start()),this._lifeCycleManager=new L(this),this._overrideNativePlay(),this._liveshiftService&&!this._liveshiftService.validate()?(P={mediaId:this._options.vid||"",error_code:h.ErrorCode.InvalidParameter,error_msg:b.get("ShiftLiveTime_Error")},this.trigger(k.Player.Error,P)):(this._posOffset=this._getSubVideoConfig().start||0,this._options.extraInfo&&(P=this._options.extraInfo).liveRetry&&(this._options.liveRetry=P.liveRetry),this.on(k.Private.ReadyState,function(){this.trigger(k.Player.Ready)}),this.on(k.Player.H265PlayInfo,se),this.on(k.Player.H266PlayInfo,se),this.one(k.Player.CanPlay,se),this.on(k.Private.LicenseHasResult,function(ae){var ce=this,ae=ae.paramData||{},ee=ae.result,F=ae.errorCode,z=ae.featureId,ae=h.LicenseResultCode,de="";switch(ee){case ae.LicenseKeyInvalid:case ae.DomainInvalid:de=b.get(h.LicenseErrorKey.Empty);break;case ae.NotFound:var de=b.get(h.LicenseErrorKey.Unauthorized),fe="";z===h.FEATURE_ID_H265&&(fe="H265"),z===h.FEATURE_ID_H266&&(fe="H266"),console.error(b.get("Tip_License_Feature"),fe);break;case ae.Expired:de=b.get(h.LicenseErrorKey.Expired);break;case ae.CertInvalid:-1<["E003","E005","E006"].indexOf(F)?(de=b.get(h.LicenseErrorKey.LicenseKeyInvalid)+"("+F+")",console.error(b.get("Tip_License_Check"))):F==="E008"?(de=b.get(h.LicenseErrorKey.DomainInvalid)+"("+F+")",console.error(b.get("Tip_License_Domain"))):F==="E010"&&(de=b.get(h.LicenseErrorKey.NotFound)+"("+F+")",console.error(b.get("Tip_License_Check")))}de&&(console.error(b.get("Tip_License_Reason")+" "+de),setTimeout(function(){ce.trigger(k.Player.Error,{mediaId:ce._options.vid||"",error_code:h.ErrorCode.LicenseError,display_msg:b.get("Error_Play_Text")+" (LICENSE ERROR)",error_msg:de}),ce.tag.pause(),ce.trigger(k.Private.HideUnmuteButton),g.offAll(ce),ce.tag&&ce.tag.parentNode&&ce.tag.parentNode.removeChild(ce.tag),ce.play=function(){},ce.loadByUrl=function(){}}))}),this._thumbnailService&&this._options.thumbnailUrl&&this._thumbnailService.get(this._options.thumbnailUrl),0<this._options.progressMarkers.length&&this.trigger(k.Private.ProgressMarkerLoaded,this._options.progressMarkers),this._options.source&&this._options._native&&this._executeReadyCallback(),this._options.autoplay||this._options.preload?this.trigger(k.Private.H5_Loading_Show):this.trigger(k.Private.Play_Btn_Show),this._extraMultiSources(),this._options.source&&(this.trigger(k.Private.PREPARE,"custom"),this._options.autoPlayDelay?(this._autoPlayDelay=new _(this),(Z=this)._autoPlayDelay.handle(function(){Z.initPlay()})):this.initPlay()),this._options.ratio&&(this._options.autoSize?console.warn("The parameter [ratio] will be ignored when [autoSize] is set."):(this._options.height&&console.warn("The parameter [height] will be ignored when [ratio] is set."),this._ratioAdapter=new A,this._ratioAdapter.autoResize(this._options.ratio,this))),U.init.call(this),(P=this._options.logo)!=null&&P.length&&(this._logoManager=new Q({container:this.el(),video:this.tag,logo:this._options.logo})),this._vttBroker=new B({player:this}),this._getUserTextTracks())}});K.prototype.isSupportMSE=function(){return v.isSupportMSE()},K.prototype.initPlay=function(P){this._initPlayBehavior(P,this._options.source)},K.prototype.initChildren=function(){var P=this.options(),q=P.skinLayout;if(q!==!1&&!u.isArray(q))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");q!==!1&&q.length!==0&&(this.options({children:q}),c.prototype.initChildren.call(this)),this.UI.cover=T,P.className="",this.addChild("cover",P),this.UI.autoStreamSelector=R,this.addChild("autoStreamSelector",P),this.UI.progressMarker=j,this.addChild("progressMarker",P),this.UI.textTrackDisplay=w,this.addChild("textTrackDisplay",P),P.longPressFastForward&&(this.UI.pressFastForward=x,this.addChild("pressFastForward",{name:"pressFastForward",align:"free"})),v.enableDbClickSkip(P)&&(this.UI.doubleClickSkip=I,this.addChild("doubleClickSkip",{name:"doubleClickSkip",align:"free"})),this.trigger(k.Private.UiH5Ready)},K.prototype.createEl=function(){var P=!1,q=(this.tag.tagName!=="VIDEO"?(this._el=this.tag,this.tag=c.prototype.createEl.call(this,"video"),this._options.playsinline&&(this.tag.setAttribute("webkit-playsinline",""),this.tag.setAttribute("playsinline",""),this.tag.setAttribute("x-webkit-airplay",""),this.tag.setAttribute("x5-playsinline",""))):(P=!0,this._el=this.tag.parentNode),this._el),Z=this.tag,se=(this._options.enableSystemMenu||(Z.addEventListener?Z.addEventListener("contextmenu",function(pe){pe.preventDefault()},!1):Z.attachEvent("oncontextmenu",function(){window.event.returnValue=!1})),Z.player=this,s.getElementAttributes(Z));return u.each(se,function(pe){q.setAttribute(pe,se[pe])}),this.setVideoAttrs(),P||(Z.parentNode&&Z.parentNode.insertBefore(q,Z),s.insertFirst(Z,q)),q},K.prototype.setVideoAttrs=function(){var P=this._options.preload,q=this._options.autoplay;if(this.tag.style.width=this._options.videoWidth||"100%",this.tag.style.height=this._options.videoHeight||"100%",P&&this.tag.setAttribute("preload","preload"),q&&l.IOS_VERSION!=="15"&&this.tag.setAttribute("autoplay","autoplay"),l.IS_IOS&&this.tag.setAttribute("poster","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAMZJREFUeAHt0DEBAAAAwqD1T20LL4hAYcCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMDAc2CcpAABaODCqQAAAABJRU5ErkJggg=="),(l.IS_UC||l.dingTalk()||l.IS_QUARK)&&this.tag.setAttribute("renderer","standard"),this._options.extraInfo)for(var Z in this._options.extraInfo)l.IS_OPPO&&Z==="crossOrigin"||this.tag.setAttribute(Z,this._options.extraInfo[Z]);f.adaptX5Play(this)},K.prototype.checkOnline=function(){var P;return!(this._options&&!this._options.debug&&navigator.onLine==0&&((P={mediaId:this._options.vid||"",error_code:h.ErrorCode.NetworkUnavaiable,error_msg:b.get("Error_Offline_Text")}).display_msg=b.get("Error_Offline_Text"),this.trigger(k.Player.Error,P),1))},K.prototype.id=function(){return this.el().id},K.prototype.renderUI=function(){},K.prototype.switchUrl=function(){var P,q;this.traceLog(re,"switchUrl"),this._urls.length!=0&&(this._currentPlayIndex=this._currentPlayIndex+1,this._urls.length<=this._currentPlayIndex&&(this._currentPlayIndex=0,this._retrySwitchUrlCount++),P=this._urls[this._currentPlayIndex],S.set(h.SelectedStreamLevel,P.definition,365),this.trigger(k.Private.QualityChange,b.get("Quality_Change_Fail_Switch_Text")),q=this.getCurrentTime(),this._vodRetryCount=0,this._originalSource="",this._loadByUrlInner(P.Url,q,!0))},K.prototype.setControls=function(){var P=this.options();P.useNativeControls?this.tag.setAttribute("controls","controls"):typeof P.controls=="object"&&(P=this._initControlBar(P.controls),this.addChild(P))},K.prototype.enableClickPause=function(){this._clickPauseEnabled=!0},K.prototype.disableClickPause=function(){this._clickPauseEnabled=!1},K.prototype._initControlBar=function(P){return new ControlBar(this,P)},K.prototype.getMetaData=function(){},K.prototype.getReadyTime=function(){return this.readyTime},K.prototype.readyState=function(){return this.tag.readyState},K.prototype.getError=function(){return this.tag.error},K.prototype.getRecentOccuredEvent=function(){return this._eventState},K.prototype.getSourceUrl=function(){return this._options?this._options.source:""},K.prototype.getMonitorInfo=function(){return this._monitor?this._monitor.opt:{}},K.prototype.getCurrentQuality=function(){var P;return 0<this._urls.length?{width:(P=this._urls[this._currentPlayIndex]).width,url:P.Url,definition:P.definition}:""},K.prototype.getCurrentPDT=function(){var P;if((l.IS_SAFARI||l.IS_IOS)&&this.tag)return P=Date.parse(this.tag.getStartDate()),isNaN(P)?0:P+1e3*this.getCurrentTime()},K.prototype.stopPlayTimeMonitor=function(){this._playTimeMonitorTimer&&(clearInterval(this._playTimeMonitorTimer),this._playTimeMonitorTimer=null)},K.prototype.startPlayTimeMonitor=function(){var P=this,q=(this._playingTime=0,this._stuckTime=0,this._stuckCount=0,performance.now()),Z=0,se=0,pe=!1,ce=0;this.stopPlayTimeMonitor(),this._playTimeMonitorTimer=setInterval(function(){var ee=P.paused()?pe=!0:!P.tag,F=1e3*P.getCurrentTime(),z=(F<1e3&&(ee=!0),F>=1e3*P.tag.duration-1e3&&(ee=!0),performance.now()),ae=z-q,de=(q=z,(F-Z)/P.tag.playbackRate);Z=F,de<0&&(ee=!0),(F=P._monitor)!=null&&F.canplayReported||(ee=!0),P._monitor2.firstFrameTime||(ee=!0),(ee=document.visibilityState==="hidden"?!0:ee)||(pe?pe=!1:de<.8*ae?(ae<z-se&&(P._stuckCount++,ce=z),z-ce>=1e3*P.getOptions().waitingTimeout?P.stopPlayTimeMonitor():(se=z,P._playingTime+=de,P._stuckTime+=ae-de)):P._playingTime+=ae)},1e3)},K.prototype.setSpeed=function(P,q){q===void 0&&(q=!0),this.tag&&(this._originalPlaybackRate=P,this.tag.playbackRate=P,q)&&this.trigger(k.Private.PlaybackRateChanged,P)},K.prototype.play=function(P){return this.traceLog(re,"play::"+P),P&&(this.trigger(k.Private.ManualPlay),this._monitor2.manualPlay()),this.tag&&(this.tag.ended||this._ended?this.replay():((this._options.preload||this.loaded)&&this.tag.src||this._initLoad(this._options.source),this.trigger(k.Private.Cover_Hide),this.tag.play())),this._isManualPlay=P||!1,this},K.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this.seek(this._getPlayStartTime()),this.tag.play(),this},K.prototype._getPlayStartTime=function(){return Math.max(0,this._getWatchTimeConfig().watchStartTime||0,this._loadByUrlStartTime||0)},K.prototype._getWatchTimeConfig=function(){var se=this.getOptions(),P=se.start,q=se.end,Z=se.watchStartTime,se=se.watchEndTime,Z=Number(Z),se=Number(se);return(Z||se)&&(v.hasValue(P)||v.hasValue(q))?(this._logOnce("Params.watchStartTime and Params.watchEndTime will be ignored when Params.start or Params.end is set","warn"),{watchStartTime:void 0,watchEndTime:void 0}):(se=se||void 0,(Z=Z||void 0)<0&&(this._logOnce("Params.watchStartTime is less than 0 ["+Z+"], setting to undefined","warn"),Z=void 0),se<0&&(this._logOnce("Params.watchEndTime is less than 0 ["+se+"], setting to undefined","warn"),se=void 0),se<=Z&&(this._logOnce("Params.watchEndTime("+se+") is less than Params.watchStartTime("+Z+"), setting to [undefined, "+se+"]","warn"),Z=void 0),{watchStartTime:Z,watchEndTime:se})},K.prototype._getSubVideoConfig=function(){var P=this.getOptions(),q=P.start,P=P.end,q=Number(q);return P=(P=Number(P))||void 0,(q=q||void 0)<0&&(this._logOnce("Params.start is less than 0 ["+q+"], setting to undefined","warn"),q=void 0),P<0&&(this._logOnce("Params.end is less than 0 ["+P+"], setting to undefined","warn"),P=void 0),P<=q&&(this._logOnce("Params.start("+q+") is greater than Params.end("+P+"), setting to [undefined, "+P+"]","warn"),q=void 0),{start:q,end:P}},K.prototype.pause=function(P){return this.tag&&this.tag.pause(),this._isManualPause=P||!1,this},K.prototype.stop=function(){return this.traceLog(re,"stop"),this.tag.setAttribute("src",null),this},K.prototype.paused=function(){if(this.tag)return this.tag.paused!==!1},K.prototype.getDuration=function(){var P=0,Z=(this.tag&&(P=this.isPreview()&&this._vodDuration||this.tag.duration),this._getSubVideoConfig()),q=Z.start,Z=Z.end;return P=q||Z?Math.min(this.tag.duration,Z||this.tag.duration)-Math.max(0,q||0):P},K.prototype.getDisplayDuration=function(){var P=0,Z=(this.tag&&(P=this._vodDuration||this.getDuration()),this._getSubVideoConfig()),q=Z.start,Z=Z.end;return P=q||Z?Math.min(this.tag.duration,Z||this.tag.duration)-Math.max(0,q||0):P},K.prototype.getCurrentTime=function(){return this.tag?this.tag.currentTime-this._posOffset:0},K.prototype.seek=function(P){var q;if(!Number.isNaN(P)&&(P=Number(P),P+=this._posOffset,this._canSeek(P)))return this._ended=!1,q=this.tag.duration,this._doSeek(this,P=q<=P?q:P),this},K.prototype._doSeek=D(function(Z){var q=Z[0],Z=Z[1];try{var se=q._originalPlaybackRate||q.tag.playbackRate;["16"].indexOf(l.IOS_VERSION)!==-1&&!q.oncePlayed||(q.tag.currentTime=Z),q._seeking=!0,q.traceLog(re,"doSeek::"+Z),l.IS_IE11&&setTimeout(function(){q.tag&&(q.tag.playbackRate=se)})}catch(pe){console.log(pe)}},100),K.prototype.traceLog=function(P,q,Z){P="["+P+"]"+q,this.trigger(k.Private.TraceLog,P),Z&&this._monitor2.traceLog(P)},K.prototype._loadByUrlInner=function(P,q,Z){this.loadByUrl(P,q,Z,!0)},K.prototype.loadByUrl=function(P,q,Z,se){var pe,ce=this,ee=(this.traceLog(re,"loadByUrl::"+P+"#"+q+"#"+Z+"#"+se),this._monitor&&this._monitor._onPlayerUnderload(),this._monitor&&!se&&(this._monitor.reportPlayAbort("loadByUrl"),this._monitor.resetVV()),se||this._monitor2.playAbort("loadByUrl",(pe=P,(ee=q)&&(pe+="#sec-"+ee),(ee=Z)&&(pe+="#atp-"+ee),pe)),/\.m3u8|\.flv|\.mp4|artc\:\/\/|rtmp\:\/\//gi),F=((this._options.source||"").match(ee)||[])[0]!==((P||"").match(ee)||[])[0];if(this._options.liveShiftSource&&(F=!1),this._options.enableH266&&(F=!1),this._h265InfoReported=!1,this._probeInfo||(this._probeInfo={}),this._probeInfo.codecTag=void 0,!F&&(v.isMp4(P)||v.isFlv(P)||v.isHls(P)))return this._options.forceH265||this._options.forceH266||!this._options.enableH265&&!this._options.enableH266||l.IS_ANDROID&&l.dingTalk()&&!v.isFlv(P)?void z.call(this):void M(P,this._options,function(de){var de=v.getVideoTrack(de.tracks),fe=(de||{}).codecTag||((fe=(de||{}).codec)==null?void 0:fe.split(".")[0]);ce._probeInfo.codecTag=fe,de&&v.isH265Codec(fe)?v.isFlv(P)||v.isHls(P)?(ce._splayer||(F=!0),z.call(ce)):v.shouldUseBasePlayer({codecTag:fe,url:P},function(Se){Se?(ce._splayer&&(F=!0),ce._probeInfo.codecTag&&C.reportH265PlayInfo.call(ce,{renderType:"native",codecTag:ce._probeInfo.codecTag})):ce._splayer||(F=!0),z.call(ce)}):(de&&v.isH266Codec(fe)?ce._splayer||(F=!0):ce._splayer&&(F=!0),z.call(ce))},function(ae){z.call(ce)});function z(){var ae,de=this;F&&window.Aliplayer?(console.log("[RELOAD INSTANCE]"),this.traceLog(re,"reloadInstance::"+P),this._options.source=P,window.Aliplayer.reloadInstance(this._options,function(){},this)):(se||(this._urls=[]),this._monitor&&!se&&(this._monitor.reset(),this._monitor.startHeartBeat()),this._isError=!1,this._clearTimeout(),this.trigger(k.Private.Error_Hide),this._options.source=P,this._posOffset=this._getSubVideoConfig().start||0,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:P,from:this._options.from}),se||(this.trigger(k.Private.ChangeURL),this._vodRetryCount=0),q&&this._canSeek(q)?this._loadByUrlStartTime=q-this._posOffset:this._loadByUrlStartTime=0,this._options._autoplay=Z,this.initPlay(Z),(ae=this._options.autoplay||Z)&&this.trigger(k.Private.Cover_Hide),ae?this.trigger(k.Player.Play):this.trigger(k.Player.Pause),this._options.isLive||!q&&q!=0||isNaN(q)||r.one(this.tag,k.Video.CanPlay,function(fe){ae&&(l.IS_IOS||l.IS_MAC_SAFARI)&&de._splayer&&de.play()}))}z.call(this)},K.prototype.setLogo=function(P){this._logoManager&&this._logoManager.dispose(),this._logoManager=new Q({container:this.el(),video:this.tag,logo:P})},K.prototype.dispose=function(){this.__disposed||(this.__disposed=!0,this.trigger(k.Private.Dispose),this.tag.pause(),g.offAll(this),U.dispose.call(this),this._ratioAdapter&&(this._ratioAdapter.dispose(),this._ratioAdapter=null),this._logoManager&&(this._logoManager.dispose(),this._logoManager=null),this._antiRecord&&(this._antiRecord.dispose(),this._antiRecord=null),this._monitor&&(this._monitor.reportPlayAbort("dispose"),this._monitor.removeEvent(),this._monitor=null),this._monitor2.playAbort("dispose"),this._monitor2.destroy(),this._monitor2=void 0,this._autoPlayDelay&&this._autoPlayDelay.dispose(),this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._playingSlientPause&&(clearTimeout(this._playingSlientPause),this._playingSlientPause=null),this._waitingLoadedHandle&&(clearTimeout(this._waitingLoadedHandle),this._waitingLoadedHandle=null),this._ucSourceHandle&&(clearTimeout(this._ucSourceHandle),this._ucSourceHandle=null),this._readyStateTimer&&(clearInterval(this._readyStateTimer),this._readyStateTimer=null),this._vodRetryCountHandle&&(clearTimeout(this._vodRetryCountHandle),this._vodRetryCountHandle=null),this._waitingDelayLoadingShowHandle&&(clearTimeout(this._waitingDelayLoadingShowHandle),this._waitingDelayLoadingShowHandle=null),this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this._flvDumpTimer&&(clearTimeout(this._flvDumpTimer),this._flvDumpTimer=null),this.stopPlayTimeMonitor(),this._disposeService(),this._clearLiveErrorHandle(),this._el.innerHTML="",this.destroy(),this._releaseMediaElement(),this._options.recreatePlayer=null,this._options=null,this.isMutiLevel=!1,this._seis={},this._initPTS=0,this._clickPauseEnabled=!1,this._currentTimeForDisableSeek=0,this._posOffset=0,this._onceLogged=!1)},K.prototype._releaseMediaElement=function(){this.tag.removeAttribute("src"),this.tag.load(),this.tag=null},K.prototype.mute=function(P){return this._muteInner(),this._originalVolumn=this.tag.volume,P||(P=b.get("Volume_Mute"),this._player.trigger(k.Private.Info_Show,{text:P,duration:1e3,align:"lb"})),this._setInnerVolume(0),this},K.prototype._muteInner=function(){this.tag.muted=!0,this.trigger(k.Private.VolumnChanged,-1)},K.prototype.unMute=function(P){return this._unMuteInner(),P||(P=b.get("Volume_UnMute"),this._player.trigger(k.Private.Info_Show,{text:P,duration:1e3,align:"lb"})),this._setInnerVolume(this._originalVolumn||.5),this},K.prototype._unMuteInner=function(){this.tag.muted=!1,this.getOptions().mute&&(this.getOptions().mute=!1),this.trigger(k.Private.VolumnChanged,-2)},K.prototype.muted=function(){return this.tag&&this.tag.muted},K.prototype.getVolume=function(){return this.tag&&this.tag.volume},K.prototype.getOptions=function(){return this._options},K.prototype.setVolume=function(P,q){(P=Math.min(1,Math.max(0,P)))!=0?this._unMuteInner():P==0&&this._muteInner(),this._setInnerVolume(P),P=b.get("Curent_Volume")+"<span>"+(100*P).toFixed()+"%</span>",this._player.trigger(k.Private.Info_Show,{text:P,duration:1e3,align:"lb"})},K.prototype._setInnerVolume=function(P){this.tag.volume=P,this.trigger(k.Private.VolumnChanged,P)},K.prototype.hideProgress=function(){this.trigger(k.Private.HideProgress)},K.prototype.cancelHideProgress=function(){this.trigger(k.Private.CancelHideProgress)},K.prototype.setPlayerSize=function(P,q){this._el&&(this._el.style.width=P,this._el.style.height=q)},K.prototype.getBuffered=function(){return this.tag.buffered},K.prototype.setRotate=function(P){this.tag&&(this._rotate=P,this._setTransform(),this.log("ROTATE",{rotation:P}))},K.prototype.getRotate=function(P){return this._rotate===void 0?0:this._rotate},K.prototype.setImage=function(P){this.tag&&(this._image=P,this._setTransform(),this.log("IMAGE",{mirror:P=="horizon"?2:1,text:P}))},K.prototype.getImage=function(){return this._image},K.prototype.cancelImage=function(){this.tag&&(this._image="",this._setTransform(),this.log("IMAGE",{mirror:0}))},K.prototype.setCover=function(P){var q=document.querySelector("#"+this.id()+" .prism-cover");q&&P&&(q.style.backgroundImage="url("+P+")",this._options.cover=P,this._options.autoplay||this.trigger(k.Private.Cover_Show))},K.prototype.setTextTracks=function(P){this._options.textTracks=P,P=v.unqiueTextTracks(P||[]),this.trigger(k.Private.VttClearTracks),P&&P.length&&this.trigger(k.Private.TextTrackFounded,{from:"user",textTracks:P}),this.trigger(k.Private.CCReset)},K.prototype._setTransform=function(){this._transformProp||(this._transformProp=s.getTransformName(this.tag));var P=" translate(-50%, -50%)";this._rotate&&(P+=" rotate("+this._rotate+"deg)"),this._image&&(this._image=="vertical"?P+=" scaleY(-1)":this._image=="horizon"&&(P+=" scaleX(-1)")),this.tag.style[this._transformProp]=P},K.prototype._startPlay=function(){this.tag.paused&&this.tag.play()},K.prototype._initPlayBehavior=function(P,q){var Z=this;return!this._checkSupportVideoType()&&(v.validateSource(q)?(P===void 0&&(P=!1),this._created||(this._created=!0,this.trigger(k.Private.Created)),this.loaded||this.trigger(k.Player.Init),this._options.mute&&this.mute(!0),this.one(k.Video.CanPlay,function(){var se=Z._getPlayStartTime();Z.getCurrentTime()<se&&Z.seek(se),Z._loadByUrlStartTime=0,Z.tag.playbackRate!==1&&Z.setSpeed(Z.tag.playbackRate)}),this._options.autoplay||this._options._autoplay||this._options.preload||P?(this._options._preload=!0,this._initLoad(q),!this._options.autoplay&&!this._options._autoplay||this._isError||this._dash||this._startPlay()):this.trigger(k.Private.Play_Btn_Show),!0):((P={mediaId:this._options.vid||"",error_code:h.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=b.get("Error_Invalidate_Source"),this.trigger(k.Player.Error,P),!1))},K.prototype._isPreload=function(){return this._options.autoplay||this._options.preload||this._options._preload},K.prototype._initLoad=function(P){P&&(this._isPreload()&&!l.IS_MOBILE?this.trigger(k.Private.H5_Loading_Show):(this.trigger(k.Private.H5_Loading_Hide),this.trigger(k.Private.Play_Btn_Show)),this.tag.setAttribute("src",P),this.oncePlayed=!1,this.loaded=!0)},K.prototype._clearLiveErrorHandle=function(){this._liveErrorHandle&&(clearTimeout(this._liveErrorHandle),this._liveErrorHandle=null)},K.prototype._reloadAndPlayForM3u8=function(){this._liveRetryCount==0&&this.trigger(k.Player.OnM3u8Retry);var P=this._options,q=P.liveRetryInterval+P.liveRetryStep*this._liveRetryCount,Z=this;this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this.traceLog(re,"reloadAndPlayForM3u8::#"+Z._options.source+"#"+1e3*q),this._liveRetryTimer=setTimeout(function(){Z._liveRetryCount++,Z._loadByUrlInner(Z._options.source,void 0,P.autoplay)},1e3*q)},K.prototype._checkSupportVideoType=function(){var P,q=this,Z=this._options.source,se="";if(v.isRTMP(Z)&&!this._options.useFlashPrism)se=b.get("Error_Not_Support_RTMP");else if(v.isDash(Z)&&!v.isSupportMSE())se=b.get("Error_Not_Support_Mse_Dash");else if(!this.tag.canPlayType||!this._options.source||!l.IS_MOBILE)return"";return 0<Z.indexOf("m3u8")?this.tag.canPlayType("application/x-mpegURL")!=""||v.isSupportHls()||(se=b.get("Error_Not_Support_M3U8_Text")):0<Z.indexOf("mp4")?this.tag.canPlayType("video/mp4")==""&&(se=b.get("Error_Not_Support_MP4_Text")):(v.isRTMP(Z)||v.isFlv(Z))&&l.IS_MOBILE&&(this._options.useFlvPlugOnMobile?v.isSupportFlv()||(se=b.get("Error_Not_Support_Mse_Flv")):se=b.get("Error_Not_Support_Format_On_Mobile")),se&&(Z=v.getFormat(Z),P={mediaId:this._options.vid||"",error_code:h.ErrorCode.FormatNotSupport,error_msg:se+(Z?"(format:"+Z+")":"")},this.logError(P),P.display_msg=se,setTimeout(function(){q.trigger(k.Player.Error,P)})),se},K.prototype._handleLongPress=function(P,q){var Z,se,pe=this;function ce(){se?(clearTimeout(se),se=null):r.trigger(q,"longPressEnd")}P.longPressFastForward&&(q=q||this.tag,r.on(q,"longPress",function(){pe.trigger(k.Private.FastForwardShow),Z=pe.tag.playbackRate,pe.tag.playbackRate=2}),r.on(q,"longPressEnd",function(){pe.trigger(k.Private.FastForwardHide),pe.tag.playbackRate=Z}),se=null,r.on(q,"touchstart",function(){se&&clearTimeout(se),se=setTimeout(function(){se=null,r.trigger(q,"longPress")},500)}),r.on(q,"touchend",ce),r.on(q,"touchcancel",ce))},K.prototype._handleClickPause_dbClickFullscreen=function(P,q){var Z,se,pe,ce=this,ee=null;!P.isLive&&P.clickPause&&(this._clickPauseEnabled=!0,Z=l.IS_IOS?"touchstart":"click",q=q||this.tag,r.on(q,Z,function(){ce._clickPauseEnabled&&(P.dbClickFullscreen?(ee&&clearTimeout(ee),ee=setTimeout(function(){ce.paused()?ce.play(!0):ce.pause(!0),ee=null},P.clickPauseDelay)):ce.paused()?ce.play(!0):ce.pause(!0))})),P.dbClickFullscreen&&(se=function(){ee&&(clearTimeout(ee),ee=null);var F=this.fullscreenService;F.getIsFullScreen()?F.cancelFullScreen():F.requestFullScreen(),this.trigger(k.Private.MarkerTextHide),r.trigger(this.tag,"touchend")},l.IS_IOS?(pe=null,r.on(this.tag,"touchstart",function(){pe=pe?(se.call(ce),clearTimeout(pe),null):setTimeout(function(){pe=null},P.dbClickFullscreenDelay)})):r.on(this.tag,"dblclick",function(){se.call(ce)}))},K.prototype.getComponent=function(P){return this._lifeCycleManager.getComponent(P)},K.prototype.logError=function(P,q){(this._options.autoplay||this._options._autoplay)&&this._monitor&&this._monitor.reportStartPlay(),(P=P||{}).vt=this.getCurrentTime(),this.log(q?"ERRORRETRY":"ERROR",P)},K.prototype.log=function(P,q){var Z=0,se=0;if(this._monitor)return this._options&&(Z=this._options.vid||"0",se=this._options.from||"0"),this._monitor.updateVideoInfo({video_id:Z,album_id:0,source:this._options.source,from:se}),this._monitor._log(P,q)},K.prototype.setSanpshotProperties=function(P,q,Z){if(this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric.width=P,this._snapshotMatric.height=q,1<Z)throw new Error("rate doesn't allow more than 1");this._snapshotMatric.rate=Z},K.prototype.setSnapshotProperties=function(P,q,Z){this.setSanpshotProperties(P,q,Z)},K.prototype.takeSnapshot=function(){var P=document.createElement("canvas"),ee=this.tag,q=ee.videoWidth,Z=ee.videoHeight,se=this._getSanpshotMatric(),pe=(P.width=se.width||q,P.height=se.height||Z,this.getCurrentTime()),ce=P.getContext("2d"),F=(ce.save(),this.getImage()),F=(F=="vertical"?(ce.translate(0,P.height),ce.scale(1,-1)):F=="horizon"&&(ce.translate(P.width,0),ce.scale(-1,1)),ee),ee=(this._splayer&&(F=this._splayer.renderType===2?this._el.querySelector("canvas"):this._el.querySelector("video")),ce.drawImage(F,0,0,q,Z),ce.restore(),v.drawSnapshotText(ce,this.getOptions()),""),F="";try{ee=P.toDataURL("image/jpeg",se.rate||1)}catch(z){(F=z)&&F.message&&-1<F.message.indexOf("Tainted canvases")&&(F=new Error('截图功能需要设置播放器参数 extraInfo: { crossOrigin:"anonymous" }'))}return q="",Z="",ee&&(ce=(q=ee).substr(q.indexOf(",")+1),Z=y.toBinary(ce)),{time:pe,base64:q,binary:Z,error:F}},K.prototype.getStatus=function(){return this._status||"init"},K.prototype.enterProgressMarker=function(){this._enteredProgressMarker=!0},K.prototype.isInProgressMarker=function(){return this._enteredProgressMarker},K.prototype.exitProgressMarker=function(){this._enteredProgressMarker=!1},K.prototype.setProgressMarkers=function(P){this.trigger(k.Private.ProgressMarkerChanged,P=P||[])},K.prototype.getProgressMarkers=function(){return this._progressMarkerService?this._progressMarkerService.progressMarkers:[]},K.prototype.setPreviewTime=function(P){this._options.playConfig||(this._options.playConfig={}),this._options.playConfig.PreviewTime=P},K.prototype.getPreviewTime=function(){var P=0;return P=this._options.playConfig?this._options.playConfig.PreviewTime:P},K.prototype.exceedPreviewTime=function(P){return this.isPreview()&&P>=this._options.playConfig.PreviewTime},K.prototype.isPreview=function(){var P=this._options.playConfig.PreviewTime,q=this._vodDuration||this.tag.duration;return 0<P&&P<q},K.prototype.getStats=function(){return new o(function(P){P()})},K.prototype.setTraceId=function(P){this._monitor&&this._monitor.updateTraceId(P),this._monitor2.updateTraceId(P)},K.prototype._canSeek=function(P){var Z=this._getSubVideoConfig(),q=Z.start,Z=Z.end;return q||Z?!(P<q||Z<P):!(!(q=this._getWatchTimeConfig()).watchStartTime||q.watchEndTime)||!(P<q.watchStartTime||P>q.watchEndTime)},K.prototype.setWatchTime=function(P,q){this._options.watchStartTime=P,this._options.watchEndTime=q,this.trigger(k.Private.UpdateWatchTime),P=this.getCurrentTime(),q=this._getWatchTimeConfig(),P<q.watchStartTime?this.seek(q.watchStartTime):P>q.watchEndTime&&this.seek(q.watchEndTime)},K.prototype.setNextWatchTime=function(P,q){this._options.watchStartTime=P,this._options.watchEndTime=q},K.prototype.setStartEnd=function(P,q){this._options.start=P,this._options.end=q,P=this._getSubVideoConfig(),this._posOffset=P.start||0,this.trigger(k.Player.DurationChange),q=this.getCurrentTime()+this._posOffset,q<P.start?this.seek(0):q>P.end&&this.seek(P.end-this._posOffset)},K.prototype.setNextStartEnd=function(P,q){this._options.start=P,this._options.end=q},K.prototype.getPlayTime=function(){return Math.round(this._playingTime/1e3)},K.prototype._getSanpshotMatric=function(){return this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric},K.prototype._autoplayFailedHandler=function(){var P,q=this;(P=this.getOptions().autoplayPolicy)!=null&&P.fallbackToMute&&!this.muted()?(this.mute(!0),(P=this.tag.play())?P.then(function(){q.trigger(k.Private.MutedAutoplay)}).catch(function(Z){q.tag.paused?(console.warn("Muted autoplay failed",Z),q.unMute(!0)):q.one("canplay",function(){q.trigger(k.Private.MutedAutoplay)})}):this.paused()?this.unMute(!0):this.trigger(k.Private.MutedAutoplay)):(this.oncePlayed=!1,this.trigger(k.Private.Play_Btn_Show),this.trigger(k.Private.H5_Loading_Hide),this.trigger(k.Player.AutoPlayPrevented),this.trigger(k.Player.AutoPlay,!1),this._monitor2.autoPlayHasResult(!1),this._options.cover&&this.trigger(k.Private.Cover_Show))},K.prototype._overrideNativePlay=function(){var P=this.tag.play,q=this;this.tag.play=function(){if(q._monitor&&q._monitor.reportStartPlay(),q._monitor2.play(),q._isManualPause=!1,!q._options.source)return Z={mediaId:q._options.vid||"",error_code:h.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"},q._options.vid||q._options.mediaAuth?void 0:(Z.display_msg=b.get("Error_Empty_Source"),void q.trigger(k.Player.Error,Z));q.readyTime=new Date().getTime();var Z=P.apply(q.tag),se=(q.oncePlayed=!0,Z!==void 0&&Z.then(function(){q._isAutoPlay()&&(q.trigger(k.Player.AutoPlay,!0),q._monitor2.autoPlayHasResult(!0))}).catch(function(pe){!q.tag||!q.tag.paused||q._isError||q._options._autoplay||q._switchedLevel||q._autoplayFailedHandler()}),q._originalPlaybackRate||q.tag.playbackRate);return setTimeout(function(){q.tag&&(q.tag.playbackRate=se)}),Z}},K.prototype._extraMultiSources=function(){var P=this._options.source;if(P&&-1<P.indexOf("{")&&-1<P.indexOf("}")){var q="";try{q=JSON.parse(P)}catch(ce){console.error(ce),console.error("地址json串格式不对")}var Z,se=[];for(Z in q){var pe=h.QualityLevels[Z];se.push({definition:Z,Url:q[Z],desc:pe||Z})}this._setupSourceList(se)}return se},K.prototype._setupSourceList=function(P){var q;(P=P===void 0?[]:P).length&&(this._currentPlayIndex=v.findSelectedStreamLevel(P,this._options.defaultDefinition),q=P[this._currentPlayIndex],this._urls=P,this._options.source=q.Url,this.trigger(k.Private.SourceLoaded,q))},K.prototype._createService=function(){if(N)for(var P=N.length,q=0;q<P;q++){var Z=N[q],se=Z.condition;se===void 0?se=!0:typeof se=="function"&&(se=se.call(this)),se&&(this[Z.name]=new Z.service(this))}},K.prototype._disposeService=function(){if(N)for(var P=N.length,q=0;q<P;q++){var Z=this[N[q].name];Z!==void 0&&Z.dispose&&Z.dispose()}},K.prototype._executeReadyCallback=function(){if(!this._options._readyCallbackCalled){this._options._readyCallbackCalled=!0;try{this._options.autoplay||this._options.preload||(this.trigger(k.Private.H5_Loading_Hide),this.trigger(k.Private.Play_Btn_Show)),this._options.readyCallback(this)}catch(P){console.log(P)}}},K.prototype._clearTimeout=function(){this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._decodeErrorNudgeTimer&&(clearTimeout(this._decodeErrorNudgeTimer),this._decodeErrorNudgeTimer=null),this._clearLiveErrorHandle()},K.prototype._reloadForVod=function(){var P,q,Z;return this._originalSource||(this._originalSource=this._options.source),!!(this._vodRetryCount<this._options.vodRetry&&navigator.onLine)&&(P=this.getCurrentTime(),(q=this._originalSource).indexOf("auth_key=")<0&&(q=q&&0<q.indexOf("?")?q+"&_t="+new Date().valueOf():q+"?_t="+new Date().valueOf()),this._vodRetryCountHandle&&clearTimeout(this._vodRetryCountHandle),(Z=this).traceLog(re,"reloadForVod::#"+q+"#"+100*this._vodRetryCount),this._vodRetryCountHandle=setTimeout(function(){Z._loadByUrlInner(q,P,Z.getOptions().autoplay)},100*this._vodRetryCount),this._vodRetryCount=this._vodRetryCount+1,!0)},K.prototype._getUserTextTracks=function(){var P=this._options.textTracks||[];(P=v.unqiueTextTracks(P)).length&&this.trigger(k.Private.TextTrackFounded,{from:"user",textTracks:P})},K.prototype._isAutoPlay=function(){return this._options.autoplay||this._options._autoplay},K.prototype._logOnce=function(P,q){this._onceLogged||(console[q||"log"](P),this._onceLogged=!0)},t.exports=K}).call(this)}).call(this,"prod")},{"../../commonui/autostreamselector":16,"../../feature/AntiRecord":21,"../../feature/autoplaydelay":22,"../../feature/keyboardControl":23,"../../feature/license":24,"../../feature/logoManager":25,"../../feature/ratioAdapter":26,"../../lang/index":28,"../../lib/codec-probe":31,"../../lib/constants":33,"../../lib/cookie":34,"../../lib/dom":37,"../../lib/event":38,"../../lib/object":47,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/util":55,"../../lib/vttnext/index":59,"../../monitor-new/monitor":67,"../../monitor/monitor":72,"../../ui/component":143,"../../ui/component/cover":147,"../../ui/component/double-click-skip":148,"../../ui/component/press-fast-forward":155,"../../ui/component/progressmarker":157,"../../ui/component/text-track-display":168,"../../ui/component/util":173,"../../ui/exports":176,"../service/export":132,"../splayer/splayerinjector":139,"./event/eventmanager":76,"./event/eventtype":77,"./plugin/lifecyclemanager":105,"./x5play":107,"es6-promise":13}],103:[function(e,t,m){e=e("../../../lib/oo").extend({}),t.exports=e},{"../../../lib/oo":48}],104:[function(e,t,m){t.exports={createEl:"createEl",created:"created",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",timeUpdate:"timeupdate",error:"error",ended:"ended",dispose:"dispose",markerDotOver:"markerDotOver",markerDotOut:"markerDotOut"}},{}],105:[function(e,t,m){function d(a){(this._player=a)._status="init",this.components=[];var l=a.getOptions().components;if(l&&o.isArray(l)&&0<l.length)for(var h=0;h<l.length;h++){var f=l[h];if(!f)return void console.log("The "+h+" custome component is "+f);var v=f.type===void 0?f:f.type,y=f.args===void 0?[]:f.args,f=f.name===void 0?"":f.name;if(!v)return void console.log(f+" compenent is "+v);y=y&&0<y.length?[].concat.call([v],y):[],v=new(Function.prototype.bind.apply(v,y)),y=v[u.createEl],y&&typeof y=="function"&&y.call(v,a.el(),a),this.components.push({name:f,obj:v})}var S=this;a.on(c.Private.LifeCycleChanged,function(b){var _=b.paramData,g=_.type;g===c.Video.CanPlayThrough&&S._player.trigger(c.Player.TimeUpdate,_.data.target.currentTime),g===c.Video.Ended&&S._player.trigger(c.Player.TimeUpdate,S._player.getDuration()),S.components.length!=0&&r.call(S,a,b)})}var o=e("../../../lib/object"),c=e("../event/eventtype"),u=e("./lifecycle"),s=e("./status"),r=(d.prototype.getComponent=function(a){var l=null,h=this.components.length;if(a){for(var v=0;v<h;v++)if(this.components[v].name==a){l=this.components[v].obj;break}}return l},function(a,l){if(l){for(var l=l.paramData,h=l.type,v=l.data,y=((l=h)!=c.Video.LoadStart&&l!=c.Video.LoadedData&&l!=c.Video.LoadedMetadata||(h=u.loading),n(a,h),this.components.length),f=0;f<y;f++){var S=this.components[f].obj,b=S[h];b&&typeof b=="function"&&b.call(S,a,v)}h==c.Private.Dispose&&(this.components=[])}}),n=function(a,l){s[l]===void 0||l==s.pause&&(a._status==s.error||a._status==s.ended)||l==s.ready&&a._status==s.playing||(a._status=l)};t.exports=d},{"../../../lib/object":47,"../event/eventtype":77,"./lifecycle":104,"./status":106}],106:[function(e,t,m){t.exports={init:"init",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",error:"error",ended:"ended"}},{}],107:[function(e,t,m){function d(u,s){var r=u.el().style.height,n=u.el().style.width,a=(u.originalLayout={container:{height:r,width:n},video:{width:u.tag.style.width,height:u.tag.style.height}},document.body.clientHeight*(window.devicePixelRatio||1)+"px"),l=document.body.clientWidth+"px";width=s?(height=a,l):(height=r.indexOf("%")?r:r+"px",n.indexOf("%")?n:n+"px"),u.tag.style.width=l,u.tag.style.height=a,u.el().style.height=s?a:height}var o=e("../../lib/ua"),c=e("../../lib/dom");t.exports.isAndroidX5=function(){return o.os.android&&o.is_X5||o.dingTalk()},t.exports.adaptX5Play=function(u){o.os.android&&o.is_X5&&(u._options.x5_type=="h5"&&(u.tag.setAttribute("x5-video-player-type",u._options.x5_type),window.onresize=function(){var s,r;d(u,u._options.x5_fullscreen||u._options.x5_video_position=="center"),(s=u)._x5VideoOrientation=="landscape"&&(s._originalTagWidth=s.tag.style.width,s._originalTagHeight=s.tag.style.height,(r=document.querySelector("#"+s.id()+" .prism-controlbar"))&&parseFloat(r.offsetHeight),s.tag.style.height="100%",s.tag.style.width=window.screen.width+"px")},u.tag.addEventListener("x5videoenterfullscreen",function(){d(u,u._options.x5_fullscreen||u._options.x5_video_position=="center"),u.trigger("x5requestFullScreen")}),u.tag.addEventListener("x5videoexitfullscreen",function(){var s,r;(s=u).originalLayout&&(r=s.originalLayout,s.el().style.height=r.container.height,s.el().style.width=r.container.width,s.tag.style.width=r.video.width,s.tag.style.height=r.video.height),u.trigger("x5cancelFullScreen"),u.fullscreenService.getIsFullScreen()&&u.fullscreenService.cancelFullScreen()}),u.on("requestFullScreen",function(){u._options.x5_video_position=="top"&&c.removeClass(u.tag,"x5-top-left"),o.os.android&&o.is_X5&&u._options.x5LandscapeAsFullScreen&&(u.tag.setAttribute("x5-video-orientation","landscape"),u._x5VideoOrientation="landscape")}),u.on("cancelFullScreen",function(){u._options.x5_video_position=="top"&&c.addClass(u.tag,"x5-top-left"),o.os.android&&o.is_X5&&u._options.x5LandscapeAsFullScreen&&(u.tag.setAttribute("x5-video-orientation","portrait"),d(u,u._options.x5_fullscreen||u._options.x5_video_position=="center"),u._x5VideoOrientation="portrait")})),u._options.x5_fullscreen!==void 0&&u._options.x5_fullscreen&&(u.tag.setAttribute("x5-video-player-fullscreen",u._options.x5_fullscreen),c.addClass(u.tag,"x5-full-screen")),u._options.x5_video_position=="top"&&c.addClass(u.tag,"x5-top-left"),u._options.x5_orientation!==void 0)&&u.tag.setAttribute("x5-video-orientation",u._options.x5_orientation)}},{"../../lib/dom":37,"../../lib/ua":53}],108:[function(e,t,m){var d=e("../../lib/object"),o=e("../../lib/io"),c=e("../../config"),u=e("../../lang/index"),s=e("../../lib/constants"),r=e("../../lib/playerutil"),n=e("../base/event/eventtype"),a="dashinjector.js";t.exports.inject=function(l,h,v,y){var f=y.source;if(!(function(b){return!this._dash&&r.isDash(b)&&r.isSupportMSE()}).call(l,f))return console.warn("Should not inject dash player");function S(){this._disposed||(this._disposed=!0,this._destroyDash(),this._superPt&&(this._superPt.dispose.call(this),h.prototype.play=this._superPt.play,h.prototype.pause=this._superPt.pause,h.prototype.initPlay=this._superPt.initPlay,h.prototype.seek=this._superPt.seek,h.prototype.canSeekable=this._superPt.canSeekable))}l._Type=h,l._superType=v,l._superPt=v.prototype,l._disposed=!1,l._dash=null,h.prototype.initPlay=function(){var b=this,_=(this.trigger(n.Private.H5_Loading_Show),performance.now());(function(g,T){var w="aliplayer-dash-min.js",E=this.getOptions(),w=E.dashjsUrl||"https://"+c.domain+c.path+c.h5Version+"/dash/"+w;E.assetPrefix&&(E.assetPrefix,(x=>{throw new TypeError('"'+x+'" is read-only')})("url")),o.loadJS(w,g,T)}).call(this,function(){b.traceLog(a,"got js#"+parseInt(performance.now()-_)+"ms"),(function(){var g,T,E,w=!this._dash;this._disposed||(this._destroyDash(),(g=this.getOptions()).vid||(g.isVBR=!0),T={streaming:{retryAttempts:{MPD:g.isLive?g.liveRetry:g.vodRetry}}},T=d.deepMerge(T,g.dashOption),E=dashjs.MediaPlayer().create(),this._dash=E,(function(){var x=this,I=this._dash,R=this.getOptions(),k=!1;I.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(L){var N,j;k||(k=!0,j=(j=I.getBitrateInfoListFor("video"))==null?void 0:j.map(function(U){return{url:""+s.DASH_QUALITY_PROTOCOL+U.qualityIndex,width:U.width,height:U.height,bitrate:U.bitrate,attrs:{BANDWIDTH:U.bitrate,RESOLUTION:U.width+"x"+U.height}}}),x.trigger(n.Player.LevelsLoaded,{levels:j}),N=I.getCurrentTrackFor("audio"),j=I.getTracksFor("audio").map(function(U){return{id:U.index,language:U.lang,enabled:N?.index===U.index}}),x.trigger(n.Player.AudioTrackUpdated,{audioTracks:j}))}),I.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(L){var N,j;L.mediaType==="video"&&(N=x._qualityService.levels||[],j=""+s.DASH_QUALITY_PROTOCOL+L.newQuality,L=N.find(function(U){return U.Url===j}),x.trigger(n.Private.QualityChange,{levelSwitch:!0,url:j,desc:L?.desc}))}),I.on("bytesAppendedEndFragment",function(L){try{var N,j;L.mediaType==="video"&&(N=L.bufferedRanges.length)&&(j=L.bufferedRanges.end(N-1),L.startTime>j)&&(I.refreshManifest(),x.traceLog(a,"PTS rollback, refresh manifest, expectedStart: "+L.startTime+", resultBufferEnd: "+j),console.warn("PTS rollback, refresh manifest"))}catch(U){console.log("exception",U)}}),I.on(dashjs.MediaPlayer.events.ERROR,function(L){var N=L.error,j=dashjs.MediaPlayer.errors,U=(Q=>{var ne,re,K={};for(ne in Q)Q.hasOwnProperty(ne)&&(re=Q[ne],K[re]=ne);return K})(j)[N.code],W=[j.TIME_SYNC_FAILED_ERROR_CODE,j.TIMED_TEXT_ERROR_ID_PARSE_CODE];if(console.log("dash error",L,"code:",U),x.traceLog(a,"dashjs-error::"+U+"#"+N.message+"#"+((L=N.data)==null||(L=L.response)==null?void 0:L.status),!0),!W.includes(N.code)){x._clearTimeout();var B,M,C,D=N.code;switch(D){case j.DOWNLOAD_ERROR_ID_CONTENT_CODE:case j.DOWNLOAD_ERROR_ID_MANIFEST_CODE:case j.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:case j.DOWNLOAD_ERROR_ID_SIDX_CODE:case j.DOWNLOAD_ERROR_ID_XLINK_CODE:case j.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:case j.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:var A=(A=N.data)==null||(A=A.response)==null?void 0:A.status;if(A===404){if(I.isDynamic()&&D===j.DOWNLOAD_ERROR_ID_CONTENT_CODE)return x.traceLog(a,"dashjs::reload mpd because seg 404"),void I.attachSource(R.source);B=s.ErrorCode.NotFoundSourceURL,M=u.get("Error_Not_Found"),C=u.get("Tip_Err_Not_found")}else M=A===403?(B=s.ErrorCode.AuthKeyExpired,u.get("Error_AuthKey_Text")):A===0?(B=s.ErrorCode.RequestDataError,u.get("Error_Play_Text")+","+u.get("Maybe_Cors_Error")):(B=s.ErrorCode.RequestDataError,u.get("Error_Network_Text")+"("+U+"|"+A+")");break;case j.MANIFEST_ERROR_ID_NOSTREAMS_CODE:case j.MANIFEST_ERROR_ID_MULTIPLEXED_CODE:case j.MANIFEST_ERROR_ID_PARSE_CODE:case j.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:case j.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:B=s.ErrorCode.LoadedMetadata,M=u.get("Error_Manifest_Decode_Text")+"("+U+")";break;default:B=s.ErrorCode.OtherError,M=u.get("Error_Play_Text")+"("+U+")"}M+="<br>"+N.message,L={mediaId:R.vid||"",mediaAuth:R.mediaAuth||"",error_code:B,error_msg:M,diagnosis_info:C},x.logError(L),x.trigger(n.Player.Error,L),x._dash.reset()}})}).call(this),E.initialize(),E.updateSettings(T),E.setAutoPlay(g.autoplay),E.attachView(this.tag),E.attachSource(g.source),this._initPlayBehavior(),w&&this._executeReadyCallback())}).call(b)},function(){var g={mediaId:y.vid||"",mediaAuth:y.mediaAuth||"",error_code:s.ErrorCode.ModuleLoadError,error_msg:"dash module load error."};b.trigger(n.Player.Error,g)})},Object.defineProperty(h.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return S},set:function(){return S}}),h.prototype._switchLevel=function(b){this.traceLog(a,"switchLevel::"+b);var _=this._dash;b?(b=Number(b.replace(s.DASH_QUALITY_PROTOCOL,"")),_.updateSettings({streaming:{abr:{autoSwitchBitrate:{audio:!1,video:!1}}}}),_.setQualityFor("video",b)):_.updateSettings({streaming:{abr:{autoSwitchBitrate:{audio:!0,video:!0}}}})},h.prototype._switchAudioTrack=function(b){var _=this._dash,g=_.getTracksFor("audio").find(function(T){return T.index===b});g&&_.setCurrentTrack(g)},h.prototype._destroyDash=function(){this._dash&&(this._dash.destroy(),this._dash=null)}}},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/object":47,"../../lib/playerutil":50,"../base/event/eventtype":77}],109:[function(e,t,m){var d=e("../base/player"),o=e("./dashinjector"),c=d.extend({init:function(u,s){s._native=!1,o.inject(this,c,d,s),d.call(this,u,s)}});t.exports=c},{"../base/player":102,"./dashinjector":108}],110:[function(e,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(f){for(var S=1;S<arguments.length;S++){var b,_=arguments[S];for(b in _)!{}.hasOwnProperty.call(_,b)||(f[b]=_[b])}return f}).apply(null,arguments)}var o=e("../../lib/io"),c=e("../../config"),u=e("../../lib/constants"),s=e("../../lib/util"),r=e("../../lib/playerutil"),n=(e("../../lib/dom"),e("../../lang/index")),a=e("../base/event/eventtype"),l=e("../saas/drm"),h=e("../../lib/ua"),v="drminjector.js",y=(()=>{function f(){}var S=f.prototype;return S.destroy=function(){},S.append=function(b){},S.remove=function(b,_){},S.isTextVisible=function(){},S.setTextVisibility=function(b){},f})();t.exports.inject=function(f,S,b,_,g,T,E){var w,x=_.source;function I(W){var B=shaka.util.Error.Code,M="",C=W.data||[];switch(W.code){case B.BAD_HTTP_STATUS:case B.HTTP_ERROR:case B.TIMEOUT:case B.LICENSE_REQUEST_FAILED:M=n.get("Tip_Drm_Request_Err")+R(C);break;case B.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:case B.SESSION_TIMEOUT:window.isSecureContext?(M=n.get("Tip_Drm_Key_System_Unavailable"),C.length&&(M+="<br />"+n.get("Tip_Err_Common_Short")+C)):M=n.get("Tip_Drm_Secure_Context");break;case B.FAILED_TO_CREATE_CDM:window.location.protocol==="file:"&&(M=n.get("Tip_Drm_File_Not_Allowed"));break;case B.HLS_INVALID_PLAYLIST_HIERARCHY:M=n.get("Tip_Drm_Playlist_Hierarchy")}return W=R(C),M||W}function R(W){return n.get("Tip_Err_Common")+W}function k(W){var B=this;this._drm.load(this._options.source,W.startTime).then(function(){if(B.trigger(a.Private.H5_Loading_Hide),W.continuePlay&&(B.play(),W.prevVariant)&&W.prevVariant!==0){for(var M,C=B._drm.getVariantTracks(),D=0;D<C.length;D++)if(C[D].id===W.prevVariant){M=C[D];break}M&&B._drm.selectVariantTrack(M,!0)}}).catch(function(M){N.call(B,M)})}function L(){j();var B=u.ErrorCode.DrmNotSupported,W=n.get("Error_Drm_Not_Supported"),B={mediaId:this._options.vid||"",error_code:B,error_msg:W,diagnosis_info:n.get("Tip_Drm_Unsupported")};this.logError(B),this.trigger(a.Player.Error,B)}function N(W){j();var M=u.ErrorCode.DrmLoadError,B=n.get("Error_Drm_Load"),M={mediaId:this._options.vid||"",error_code:M,error_msg:B+" | "+this._shakaCodeMap[W.code],drm_info:JSON.stringify({cdmData:this._cdmData,licenseData:this._licenseData})};this.logError(M),M.diagnosis_info=I.call(this,W),this.trigger(a.Player.Error,M)}function j(){this._sessionTimer&&(clearTimeout(this._sessionTimer),this._sessionTimer=null)}function U(W,B){B=B.getVariantTracks().find(function(M){return M.active}),console.log("activeTrack",B),W.trigger(a.Private.QualityChange,{levelSwitch:!0,bitrate:B.bandwidth,desc:B.height})}!T&&(_=x,f._drm||!r.isDash(_)&&!r.isHls(_))||(f._isDrm=!0,f._drm=null,f._isLoadedDrm=!1,f._sessionTimer=null,f._isFairPlay=h.IS_MAC_SAFARI||h.IS_IOS,f._fairPlayHandlers={},f._shakaCodeMap={},f._cdmData="",f._licenseData="",console.log("use FairPlay",f._isFairPlay),S.prototype._checkDrmReady=function(){return!(this._drm==null&&!this._isFairPlay&&(console.warn("please invoke this method after ready event"),1))},S.prototype.play=function(W){if(this.traceLog(v,"play::"+W),this._checkDrmReady())return this._isManualPlay=W||!1,W&&this._monitor2.manualPlay(),this.trigger(a.Private.Cover_Hide),this.tag.ended?this.replay():(this.getCurrentTime(),this.tag.paused&&this.tag.play()),this},S.prototype.initPlay=function(W){var B,M,C;function D(A,Q){var ne,re,K,P;A._antiRecord&&(console.log("Manual check before load source"),A._antiRecord.check())||(!shaka.Player.isBrowserSupported()||!(!h.IS_ANDROID||!h.IS_UC&&!h.IS_FIREFOX)?L.call(A):(ne=null,shaka.Player.probeSupport().then(function(q){ne&&(clearTimeout(ne),ne=null),q&&q.drm&&q.drm["com.widevine.alpha"]?A.destroy(P):L.call(A)}),ne=setTimeout(function(){L.call(A)},5e3),re=!A._drm,K=function(){var q,Z,se;A._drm=new shaka.Player(A.tag),w(A,A._drm),shaka.util.Error.Code.SESSION_TIMEOUT="SESSION_TIMEOUT",A._shakaCodeMap=(q=shaka.util.Error.Code,Z={},Object.keys(q).forEach(function(pe){Z[q[pe]]=pe}),Z),se=A._options.isLive?"https://"+r.getLiveHostByRegion(A._options.region):"https://vod."+A._options.region+".aliyuncs.com",A._drm.configure(d({drm:{servers:{"com.widevine.alpha":se,"com.microsoft.playready":se},retryParameters:{maxAttempts:1}}},A._options.drmOption||{},{textDisplayFactory:function(){return new y}})),A._drm.getNetworkingEngine().registerRequestFilter(function(pe,ce){shaka.util.StringUtils;var ee=shaka.util.Uint8ArrayUtils;pe==shaka.net.NetworkingEngine.RequestType.LICENSE&&(pe=ee.toBase64(new Uint8Array(ce.body)),ee=A._options.isLive?l.getRequestUrl(pe,A):l.postData(pe,A),A._cdmData=pe,ce.uris[0]=ee.url,ce.headers["content-type"]="application/x-www-form-urlencoded",ce.body=ee.data)}),A._drm.getNetworkingEngine().registerResponseFilter(function(pe,ce){var ee=shaka.util.StringUtils,F=shaka.util.Uint8ArrayUtils;pe==shaka.net.NetworkingEngine.RequestType.LICENSE&&(pe=ee.fromUTF8(ce.data),ee=JSON.parse(pe),pe=A._options.isLive?ee.Response.B64License:JSON.parse(ee.License).b64License,A._licenseData=pe,ce.data=F.fromBase64(pe))}),A._drm.addEventListener("error",function(pe){console.log("errorMessage"),console.log(pe.detail.code),console.log(pe.detail)}),A._drm.load(A._options.source).then(function(){A._initPlayBehavior(Q)}).catch(function(pe){N.call(A,pe)}),j.call(A),A.one(a.Video.CanPlay,function(){j.call(A)}),A._sessionTimer=setTimeout(function(){A._isError||(N.call(A,{code:"SESSION_TIMEOUT"}),A._drm&&A._drm.destroy())},A._player.getOptions().drmSessionTimeout||5e3),g&&g(A._drm),re&&(A._executeReadyCallback(),A._urls)&&0<A._urls.length&&(A._currentPlayIndex=r.findSelectedStreamLevel(A._urls,A._options.defaultDefinition),se=A._urls[A._currentPlayIndex],A.trigger(a.Private.SourceLoaded,se))},P=function(q){try{K()}catch(Z){console.log(Z)}}))}s.contentProtocolMixed(x)?(j(),(B={mediaId:this._options.vid||"",error_code:u.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=n.get("Request_Block_Text"),this.trigger(a.Player.Error,B)):this._options.accessKeyId&&this._options.accessKeySecret?((M=this)._waitingTimeoutCount=1,this._isFairPlay?(this.trigger(a.Private.H5_Loading_Show),(function(A,Q){var ne;this._isFairPlay&&((()=>{var re;return h.IS_IOS?(re=parseInt(h.os.version),console.log("osVersion",re),12<=re):h.IS_MAC_SAFARI?(re=parseInt(h.browser.version),console.log("browserVersion",re),12<=re):void 0})()?((ne=this).destroy(),l.loadCertificate(this,function(){A&&A(),ne._initPlayBehavior(Q,ne._options.source),ne._executeReadyCallback()})):L.call(this))}).call(this,g,W)):this._isLoadedDrm&&typeof shaka<"u"?D(this,W):(this.trigger(a.Private.H5_Loading_Show),C=performance.now(),(function(A,Q){var ne="aliplayer-drm-min.js",re="",re=c.domain?"https://"+c.domain+c.path+c.h5Version+"/drm/"+ne:"/build/drm/"+ne,K=(this._options.shakaUrl&&(re=this._options.shakaUrl),this);o.loadJS(re,function(){shaka.polyfill.installAll(),A.apply(K)},function(P){Q&&Q(P)})}).call(M,function(){this.traceLog(v,"got js#"+parseInt(performance.now()-C)),this._isLoadedDrm=!0,D(this,W)},function(A){A={mediaId:M._options.vid||"",mediaAuth:M._options.mediaAuth||"",error_code:u.ErrorCode.ModuleLoadError,error_msg:"drm player module load error."+(A?A.message:"")},M.trigger(a.Player.Error,A)}))):(j(),(B={mediaId:this._options.vid||"",error_code:u.ErrorCode.InvalidParameter,error_msg:"No sts params."}).display_msg=n.get("Error_Drm_No_Sts"),this.trigger(a.Player.Error,B))},S.prototype.destroy=function(W){var B;this._drm?(j.call(B=this),this._drm.destroy().then(function(){B._drm=null,typeof W=="function"&&W(B)})):(this._isFairPlay&&this._destroyFairPlay(),typeof W=="function"&&W(this))},S.prototype._destroyFairPlay=function(){l.destroyFairPlay.call(this)},S.prototype.dispose=function(){b.dispose.call(this),this.destroy()},S.prototype._switchLevel=function(W,B){if(B=B||{isAuto:!0},this.trigger(a.Player.LevelSwitch),this._switchedLevel=!0,this._isFairPlay){this._manuallySwitchDrmLevel=!B.isAuto;var M=this.autoplay||this._status!="pause";this._loadByUrlInner(W,this.getCurrentTime(),M)}else if(B.isAuto)this._drm.configure({abr:{enabled:!0}}),U(this._player,this._drm);else{for(var C,D=this._drm.getVariantTracks(),A=0;A<D.length;A++){var Q=D[A];if(Number(Q.bandwidth)===Number(B.bitrate)&&Number(Q.height)===Number(B.resolution.split("x")[1])){C=Q;break}}C||console.warn("cannot find target track",B),this._drm.configure({abr:{enabled:!1}}),this._drm.selectVariantTrack(C,!this._options.seamlessHandover)}var ne=this;setTimeout(function(){ne.trigger(a.Player.LevelSwitched),this._switchedLevel=!1},1e3)},S.prototype._getDRMEncryptItem=function(){var W=this._urls;if(W&&0<W.length)for(var B=W.length,M=0;M<B;M++){var C=W[M];if(C.Url==this._options.source&&+C.encryption)return C}return""},S.prototype._getItemBySource=function(){var W=this._urls;if(W&&0<W.length)for(var B=W.length,M=0;M<B;M++){var C=W[M];if(C.Url==this._options.source)return C}return""},w=function(W,B){B.addEventListener("error",function(A){var C,D=W,A=A.detail,ne="Error code:"+A.code+"message:"+A.message,Q=(D.traceLog(v,ne,!0),console.log(ne),u.ErrorCode.OtherError),ne=n.get("Error_Play_Text");A.code==shaka.util.Error.Code.EXPIRED?(function(){var re=this,K=(this.trigger(a.Private.H5_Loading_Show),null);this._options.isLive||(K=this.getCurrentTime());var P,q=!this.paused(),Z=this._drm.getConfiguration().abr.enabled;if(!Z){for(var se=this._drm.getVariantTracks(),pe=0;pe<se.length;pe++)if(se[pe].active){P=se[pe].id;break}}var ce={startTime:K,continuePlay:q,prevVariant:P,isAdaptive:Z};typeof this._options.refreshAccessInfo=="function"?this._options.refreshAccessInfo().then(function(ee){(ee=ee||{}).accessKeyId&&(re._options.accessKeyId=ee.accessKeyId),ee.securityToken&&(re._options.securityToken=ee.securityToken),ee.accessKeySecret&&(re._options.accessKeySecret=ee.accessKeySecret),k.call(re,ce)}):k.call(re,ce)}).call(D):(A.code==shaka.util.Error.Code.HTTP_ERROR?(Q=u.ErrorCode.NetworkError,ne=n.get("Http_Error")):A.code==shaka.util.Error.Code.TIMEOUT?(Q=u.ErrorCode.LoadingTimeout,ne=n.get("Error_Waiting_Timeout_Text")):A.code==shaka.util.Error.Code.LICENSE_REQUEST_FAILED?(Q=u.ErrorCode.DrmLicenseRequestFailed,ne=n.get("Error_Drm_License_Request_Failed")):A.Category==shaka.util.Error.NETWORK&&(Q=u.ErrorCode.NetworkError,ne=n.get("Error_Network_Text")),j.call(D),setTimeout(function(){D.trigger(a.Private.Play_Btn_Hide)}),D.checkOnline()&&(C=D._drm.drmInfo()||{},C={keyIds:Array.from(C.keyIds||[]),initData:String(((C=(C.initData||[])[0])==null?void 0:C.initData)||[]),cdmData:D._cdmData,licenseData:D._licenseData},C={mediaId:D._options.vid||"",error_code:Q,error_msg:A.message,shaka_error:JSON.stringify(A.data||[]),drm_info:JSON.stringify(C)},D.logError(C),C.display_msg=ne+" | "+D._shakaCodeMap[A.code],C.diagnosis_info=I.call(D,A),D.trigger(a.Player.Error,C)))}),B.addEventListener("variantchanged",function(M){console.log("DRM Event: variantchanged",M)}),B.addEventListener("abrstatuschanged",function(M){console.log("DRM Event: abrstatuschanged",M)}),B.addEventListener("drmsessionupdate",function(M){console.log("DRM Event: drmsessionupdate",M),j.call(W)}),B.addEventListener("expirationupdated",function(M){console.log("DRM Event: expirationupdated",M),console.log("Exp:",this.getExpiration())}),B.addEventListener("adaptation",function(M){console.log("adaptation",M),U(W,B)}),B.addEventListener("trackschanged",function(M){console.log("DRM EVENT: trackschanged",B.getTextLanguages(),B.getTextTracks());var C=B.getTextLanguages();C&&C.length&&(C=(D=>{var A={subtitle:"subtitles",caption:"captions"},Q=(console.log("Building track config"),D.getManifest().textStreams||[]),ne=(console.log("textStreams",Q),D.getTextLanguages()),re=(console.log("languageList",ne),[]);try{Q.forEach(function(K){ne.includes(K.language)&&re.push({kind:A[K.kind]||K.kind,label:K.label,srclang:K.language,src:Array.from(K.segmentIndex)[0].getUris()[0]})})}catch(K){console.log("error in retrieving text track url: ",K)}return re})(B),W.trigger(a.Private.TextTrackFounded,{from:"drm",textTracks:C}),W.trigger(a.Private.CCReset))})})}},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/dom":37,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/util":55,"../base/event/eventtype":77,"../saas/drm":120}],111:[function(e,t,m){function d(){d=function(){return D};var C,D={},A=Object.prototype,Q=A.hasOwnProperty,F=typeof Symbol=="function"?Symbol:{},ne=F.iterator||"@@iterator",re=F.asyncIterator||"@@asyncIterator",K=F.toStringTag||"@@toStringTag";function P(ue,xe,Te,Pe){Object.defineProperty(ue,xe,{value:Te,enumerable:!Pe,configurable:!Pe,writable:!Pe})}try{P({},"")}catch{P=function(ue,xe,Te){return ue[xe]=Te}}function q(ue,We,Te,Pe){var Le,Fe,Ne,Ue,We=We&&We.prototype instanceof pe?We:pe,We=Object.create(We.prototype);return P(We,"_invoke",(Le=ue,Fe=Te,Ne=new Ce(Pe||[]),Ue=1,function(ze,Ye){if(Ue===3)throw Error("Generator is already running");if(Ue===4){if(ze==="throw")throw Ye;return{value:C,done:!0}}for(Ne.method=ze,Ne.arg=Ye;;){var qe=Ne.delegate;if(qe&&(qe=function Ze(et,Be){var Xe=Be.method,he=et.i[Xe];return he===C?(Be.delegate=null,Xe==="throw"&&et.i.return&&(Be.method="return",Be.arg=C,Ze(et,Be),Be.method==="throw")||Xe!=="return"&&(Be.method="throw",Be.arg=new TypeError("The iterator does not provide a '"+Xe+"' method")),se):(Xe=Z(he,et.i,Be.arg),Xe.type==="throw"?(Be.method="throw",Be.arg=Xe.arg,Be.delegate=null,se):(he=Xe.arg,he?he.done?(Be[et.r]=he.value,Be.next=et.n,Be.method!=="return"&&(Be.method="next",Be.arg=C),Be.delegate=null,se):he:(Be.method="throw",Be.arg=new TypeError("iterator result is not an object"),Be.delegate=null,se)))}(qe,Ne),qe)){if(qe===se)continue;return qe}if(Ne.method==="next")Ne.sent=Ne._sent=Ne.arg;else if(Ne.method==="throw"){if(Ue===1)throw Ue=4,Ne.arg;Ne.dispatchException(Ne.arg)}else Ne.method==="return"&&Ne.abrupt("return",Ne.arg);if(Ue=3,qe=Z(Le,Fe,Ne),qe.type==="normal"){if(Ue=Ne.done?4:2,qe.arg===se)continue;return{value:qe.arg,done:Ne.done}}qe.type==="throw"&&(Ue=4,Ne.method="throw",Ne.arg=qe.arg)}}),!0),We}function Z(ue,xe,Te){try{return{type:"normal",arg:ue.call(xe,Te)}}catch(Pe){return{type:"throw",arg:Pe}}}D.wrap=q;var se={};function pe(){}function ce(){}function ee(){}var F={},z=(P(F,ne,function(){return this}),Object.getPrototypeOf),z=z&&z(z(Ie([]))),ae=(z&&z!==A&&Q.call(z,ne)&&(F=z),ee.prototype=pe.prototype=Object.create(F));function de(ue){["next","throw","return"].forEach(function(xe){P(ue,xe,function(Te){return this._invoke(xe,Te)})})}function fe(ue,xe){var Te;P(this,"_invoke",function(Pe,Le){function Fe(){return new xe(function(Ne,Ue){(function We(Be,Ye,qe,Ze){var et,Be=Z(ue[Be],ue,Ye);if(Be.type!=="throw")return(Ye=(et=Be.arg).value)&&typeof Ye=="object"&&Q.call(Ye,"__await")?xe.resolve(Ye.__await).then(function(Xe){We("next",Xe,qe,Ze)},function(Xe){We("throw",Xe,qe,Ze)}):xe.resolve(Ye).then(function(Xe){et.value=Xe,qe(et)},function(Xe){return We("throw",Xe,qe,Ze)});Ze(Be.arg)})(Pe,Le,Ne,Ue)})}return Te=Te?Te.then(Fe,Fe):Fe()},!0)}function Se(ue){this.tryEntries.push(ue)}function Ae(ue){var xe=ue[4]||{};xe.type="normal",xe.arg=C,ue[4]=xe}function Ce(ue){this.tryEntries=[[-1]],ue.forEach(Se,this),this.reset(!0)}function Ie(ue){if(ue!=null){var xe,Te=ue[ne];if(Te)return Te.call(ue);if(typeof ue.next=="function")return ue;if(!isNaN(ue.length))return xe=-1,(Te=function Pe(){for(;++xe<ue.length;)if(Q.call(ue,xe))return Pe.value=ue[xe],Pe.done=!1,Pe;return Pe.value=C,Pe.done=!0,Pe}).next=Te}throw new TypeError(typeof ue+" is not iterable")}return P(ae,"constructor",ce.prototype=ee),P(ee,"constructor",ce),P(ee,K,ce.displayName="GeneratorFunction"),D.isGeneratorFunction=function(ue){return ue=typeof ue=="function"&&ue.constructor,!!ue&&(ue===ce||(ue.displayName||ue.name)==="GeneratorFunction")},D.mark=function(ue){return Object.setPrototypeOf?Object.setPrototypeOf(ue,ee):(ue.__proto__=ee,P(ue,K,"GeneratorFunction")),ue.prototype=Object.create(ae),ue},D.awrap=function(ue){return{__await:ue}},de(fe.prototype),P(fe.prototype,re,function(){return this}),D.AsyncIterator=fe,D.async=function(ue,xe,Te,Pe,Le){Le===void 0&&(Le=Promise);var Fe=new fe(q(ue,xe,Te,Pe),Le);return D.isGeneratorFunction(xe)?Fe:Fe.next().then(function(Ne){return Ne.done?Ne.value:Fe.next()})},de(ae),P(ae,K,"Generator"),P(ae,ne,function(){return this}),P(ae,"toString",function(){return"[object Generator]"}),D.keys=function(ue){var xe,Te=Object(ue),Pe=[];for(xe in Te)Pe.unshift(xe);return function Le(){for(;Pe.length;)if((xe=Pe.pop())in Te)return Le.value=xe,Le.done=!1,Le;return Le.done=!0,Le}},D.values=Ie,Ce.prototype={constructor:Ce,reset:function(ue){if(this.prev=this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,this.tryEntries.forEach(Ae),!ue)for(var xe in this)xe.charAt(0)==="t"&&Q.call(this,xe)&&!isNaN(+xe.slice(1))&&(this[xe]=C)},stop:function(){this.done=!0;var ue=this.tryEntries[0][4];if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var xe=this;function Te(ze){Fe.type="throw",Fe.arg=ue,xe.next=ze}for(var Pe=xe.tryEntries.length-1;0<=Pe;--Pe){var Le=this.tryEntries[Pe],Fe=Le[4],Ne=this.prev,Ue=Le[1],We=Le[2];if(Le[0]===-1)return Te("end"),!1;if(!Ue&&!We)throw Error("try statement without catch or finally");if(Le[0]!=null&&Le[0]<=Ne){if(Ne<Ue)return this.method="next",this.arg=C,Te(Ue),!0;if(Ne<We)return Te(We),!1}}},abrupt:function(ue,xe){for(var Te=this.tryEntries.length-1;0<=Te;--Te){var Pe=this.tryEntries[Te];if(-1<Pe[0]&&Pe[0]<=this.prev&&this.prev<Pe[2]){var Le=Pe;break}}var Fe=(Le=Le&&(ue==="break"||ue==="continue")&&Le[0]<=xe&&xe<=Le[2]?null:Le)?Le[4]:{};return Fe.type=ue,Fe.arg=xe,Le?(this.method="next",this.next=Le[2],se):this.complete(Fe)},complete:function(ue,xe){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&xe&&(this.next=xe),se},finish:function(ue){for(var xe=this.tryEntries.length-1;0<=xe;--xe){var Te=this.tryEntries[xe];if(Te[2]===ue)return this.complete(Te[4],Te[3]),Ae(Te),se}},catch:function(ue){for(var xe=this.tryEntries.length-1;0<=xe;--xe){var Te,Pe,Le=this.tryEntries[xe];if(Le[0]===ue)return(Te=Le[4]).type==="throw"&&(Pe=Te.arg,Ae(Le)),Pe}throw Error("illegal catch attempt")},delegateYield:function(ue,xe,Te){return this.delegate={i:Ie(ue),r:xe,n:Te},this.method==="next"&&(this.arg=C),se}},D}function o(C,D,A,Q,ne,re,K){try{var P=C[re](K),q=P.value}catch(Z){return A(Z)}P.done?D(q):Promise.resolve(q).then(Q,ne)}function c(C){return function(){var D=this,A=arguments;return new Promise(function(Q,ne){var re=C.apply(D,A);function K(q){o(re,Q,ne,K,P,"next",q)}function P(q){o(re,Q,ne,K,P,"throw",q)}K(void 0)})}}var u=typeof Promise>"u"?e("es6-promise").Promise:Promise,s=e("../../lib/io"),r=e("../../config"),n=e("../../lang/index"),a=e("../base/event/eventtype"),l=e("../../lib/constants"),h="drminjectorNg.js",v={LoadJs:1,LoadSource:2,PlayerError:3,SupportError:4,ParamsError:5},y={Widevine:"com.widevine.alpha",FairPlay:"com.apple.fps"},f={},S={};function b(C){return _.apply(this,arguments)}function _(){return(_=c(d().mark(function C(D){var A,Q,ne,re,K=this;return d().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(this._drm)return P.next=3,this._drm.destroy();P.next=4;break;case 3:this._drm=null;case 4:P.prev=4,W.call(this,"mod_shaka_s"),P.next=8;var q=D;return new u(function(Z,se){var pe="https://"+r.domain+r.path+r.h5Version+"/drm/aliplayer-drm2-min.js";q!=null&&q.shakaUrl&&(pe=q?.shakaUrl),s.loadJS(pe,Z,se)});case 8:W.call(this,"mod_shaka_f"),P.next=15;break;case 11:return P.prev=11,P.t0=P.catch(4),console.log("[load shaka-player error]",P.t0),P.abrupt("return",k.call(this,v.LoadJs,P.t0));case 15:if(shaka.polyfill.installAll(),f=L(shaka.util.Error.Code),S=L(shaka.net.NetworkingEngine.RequestType),shaka.Player.isBrowserSupported()){P.next=20;break}return P.abrupt("return",k.call(this,v.SupportError));case 20:if(window.isSecureContext){P.next=22;break}return P.abrupt("return",k.call(this,v.SupportError,{_code:"no-secure-context"}));case 22:if(ne=(Z=>{var se=null;return(Z=Z||{}).widevine||Z.fairplay||(se={message:n.get("Error_Drm_Params_Missing")}),[Z,se]})(D.drm),Q=ne[0],ne=ne[1])return P.abrupt("return",k.call(this,v.ParamsError,ne));P.next=25;break;case 25:return D.vid||(this._options.isVBR=!0),ne=new shaka.Player,R.call(this,ne),this._drm=ne,re={drm:{servers:((re={})[y.Widevine]=(A=Q.widevine)==null?void 0:A.licenseUrl,re[y.FairPlay]=(A=Q.fairplay)==null?void 0:A.licenseUrl,re),advanced:((A={})[y.Widevine]={serverCertificateUri:(re=Q.widevine)==null?void 0:re.certificateUrl},A[y.FairPlay]={serverCertificateUri:(re=Q.fairplay)==null?void 0:re.certificateUrl,serverCertificate:(re=Q.fairplay)==null?void 0:re.certificate},A)},autoShowText:1},shaka.util.PlayerConfiguration.mergeConfigObjects(re,D.drmOption||{}),ne.configure(re),ne.attach(this.tag),ne.getNetworkingEngine().registerRequestFilter(function(Z,se,pe){if((ee=se.drmInfo)!=null&&ee.keySystem&&(K._keySystem=se.drmInfo.keySystem),Z===shaka.net.NetworkingEngine.RequestType.LICENSE){W.call(K,"drm_li_s");var ce=B.call(K);if(ce.licenseHeaders&&Object.keys(ce.licenseHeaders).forEach(function(F){se.headers[F]=ce.licenseHeaders[F]}),typeof ce.licenseRequestFilter=="function")return ce.licenseRequestFilter(se,shaka.util)}else if(Z===shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE){W.call(K,"drm_cer_s");var ee=B.call(K);if(typeof ee.certificateRequestFilter=="function")return ee.certificateRequestFilter(se,shaka.util)}}),ne.getNetworkingEngine().registerResponseFilter(function(Z,se,pe){if(Z===shaka.net.NetworkingEngine.RequestType.LICENSE){W.call(K,"drm_li_f"),M.call(K,Z,se);var ce=B.call(K);if(typeof ce.licenseResponseFilter=="function")return ce.licenseResponseFilter(se,shaka.util)}else if(Z===shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE&&(W.call(K,"drm_cer_f"),M.call(K,Z,se),ce=B.call(K),typeof ce.certificateResponseFilter=="function"))return ce.certificateResponseFilter(se,shaka.util)}),P.prev=37,P.next=40,ne.load(D.source);case 40:P.next=46;break;case 42:P.prev=42,P.t1=P.catch(37),console.log("error when load source",P.t1),k.call(this,v.LoadSource,P.t1);case 46:this._initPlayBehavior(),this._executeReadyCallback();case 48:case"end":return P.stop()}},C,this,[[4,11],[37,42]])}))).apply(this,arguments)}function g(C){this.traceLog(h,"play::"+C),C&&(this.trigger(a.Private.ManualPlay),this._monitor2.manualPlay()),this._isManualPlay=!!C,this.tag.ended||this._ended?this.replay():this.tag.paused&&this.tag.play()}function T(){this._switchingDesc=null,this._keySystem=null,this._baseType.dispose.call(this),this._drm&&(this._drm.destroy(),this._drm=null)}function E(C,D){var A,Q,ne,re=this._drm;C?(A=Number(C.split(l.DASH_QUALITY_PROTOCOL)[1]),(C=re.getVariantTracks().find(function(K){return K.id===A}))&&(re.configure({abr:{enabled:!1}}),Q=!1,ne=this.getOptions().seamlessHandover,re.selectVariantTrack(C,Q=typeof ne=="boolean"?!ne:Q),Q||(this._switchingDesc=D.desc))):(re.configure({abr:{enabled:!0}}),this._switchingDesc=null)}function w(){var C=this._drm;if(C)return C.getTextTracks().map(function(D){return{language:D.language,label:D.label,kind:D.kind==="subtitle"?"subtitles":"captions",default:D.active}});console.warn("shaka has not been initialized but _getTextTracks is called")}function x(C){var D=this._drm;D&&(C?(D.setTextTrackVisibility(!0),D.selectTextLanguage(C)):D.setTextTrackVisibility(!1))}function I(C){C&&this._drm.selectAudioLanguage(C),U.call(this)}function R(C){var D=this;C.addEventListener("error",function(A){k.call(D,v.PlayerError,A.detail)}),C.addEventListener("trackschanged",function(){(function(){var A,Q,ne,re=this._drm,K=re.getAudioLanguages(),P=(A=re.getVariantTracks())==null?void 0:A.find(function(q){return q.active});P&&(Q=[],K.length===1&&K[0]==="und"?Q.push({id:"und",language:n.get("Default"),enabled:!0}):K.length&&(ne=re.getAudioLanguagesAndRoles()||[],K.forEach(function(q){var Z;Q.push({id:q,language:((Z=ne.find(function(se){return se.language===q}))==null?void 0:Z.label)||q,enabled:q===P.language})})),this.trigger(a.Player.AudioTrackUpdated,{audioTracks:Q}))}).call(D),C.keySystem()===y.FairPlay?D.trigger(a.Player.LevelsLoaded,{levels:[{}]}):(U.call(D),j.call(D,C))}),C.addEventListener("adaptation",function(){C.keySystem()!==y.FairPlay&&j.call(D,C)}),this.tag.addEventListener("resize",function(){D._switchingDesc&&D.trigger(a.Private.Info_Show,{text:n.get("Quality_Change_Result")+"<span>"+D._switchingDesc+"</span>",duration:3e3,align:"lb"})})}function k(C,D){var A=this;if(console.log("to handle error of:",C,D,"this._isError",this._isError),this._isError)this.traceLog(h,"drm extra error ["+C+"]"+D+"}",!0);else{D=D||{};var Q={mediaId:this.getOptions().vid||"",error_code:"",error_msg:""};switch(C){case v.LoadJs:Q.error_code=l.ErrorCode.ModuleLoadError,Q.error_msg="drm player module load error."+(D?.message||"");break;case v.LoadSource:case v.PlayerError:Q.error_code=l.ErrorCode.DrmLoadError,Q.error_msg=n.get("Error_Drm_Load")+" | "+(f[D.code]||"")+" "+(ne=>{var re="";return re=ne.code===shaka.util.Error.Code.BAD_HTTP_STATUS?(ne==null||(ne=ne.data)==null?void 0:ne[1])||"":re})(D),Q.diagnosis_info=(ne=>{var re=shaka.util.Error.Code,K="",P=ne.data||[];switch(ne.code){case re.BAD_HTTP_STATUS:case re.HTTP_ERROR:case re.TIMEOUT:case re.LICENSE_REQUEST_FAILED:K=n.get("Tip_Drm_Request_Err")+N(P);break;case re.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:case re.SESSION_TIMEOUT:window.isSecureContext?(K=n.get("Tip_Drm_Key_System_Unavailable"),P.length&&(K+="<br />"+n.get("Tip_Err_Common_Short")+P)):K=n.get("Tip_Drm_Secure_Context");break;case re.FAILED_TO_CREATE_CDM:window.location.protocol==="file:"&&(K=n.get("Tip_Drm_File_Not_Allowed"));break;case re.HLS_INVALID_PLAYLIST_HIERARCHY:K=n.get("Tip_Drm_Playlist_Hierarchy");break;case re.ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:K=n.get("Tip_Drm_Info_Missing")}return ne=N(P),K||ne})(D),Q.shaka_error=D||{},D.code===shaka.util.Error.Code.LICENSE_REQUEST_FAILED&&console.log("LICENSE_REQUEST_FAILED => ",D.data[0]);break;case v.SupportError:Q.error_code=l.ErrorCode.DrmNotSupported,D._code==="no-secure-context"?Q.error_msg=n.get("Tip_Drm_Secure_Context"):(Q.error_msg=n.get("Error_Drm_Not_Supported"),Q.diagnosis_info=n.get("Tip_Drm_Unsupported"));break;case v.ParamsError:Q.error_code=l.ErrorCode.InvalidParameter,Q.error_msg=D.message||""}this.logError(Q),this.trigger(a.Player.Error,Q),shaka.Player.probeSupport().then(function(ne){A.traceLog(h,"probeSupport::"+JSON.stringify(ne),!0)}).catch(function(ne){A.traceLog(h,"probeSupport::"+ne,!0)})}}function L(C){var D={};return Object.keys(C).forEach(function(A){D[C[A]]=A}),D}function N(C){return n.get("Tip_Err_Common")+C}function j(){var C=(D=this._drm.getVariantTracks())==null?void 0:D.find(function(A){return A.active}),D=(this._qualityService.levels||[]).find(function(A){return A.Url===""+l.DASH_QUALITY_PROTOCOL+C.id});C&&D?this.trigger(a.Private.QualityChange,{levelSwitch:!0,desc:D.desc}):console.warn("no activeTrack or activeDisplayItem found",C,D)}function U(){var C=this._drm,D=C.getVariantTracks(),A=(Q=C.getVariantTracks())==null?void 0:Q.find(function(ne){return ne.active}),Q=(D=D.filter(function(ne){return ne.audioId===A.audioId})).map(function(ne){return{url:""+l.DASH_QUALITY_PROTOCOL+ne.id,width:ne.width,height:ne.height,bitrate:ne.bandwidth,attrs:{BANDWIDTH:ne.bandwidth,RESOLUTION:ne.width+"x"+ne.height}}});this.trigger(a.Player.LevelsLoaded,{levels:Q}),this.trigger(a.Private.SelectorGenerateList,{type:"quality"}),C.getConfiguration().abr.enabled||(D=(this._qualityService.levels||[]).find(function(ne){return ne.Url===""+l.DASH_QUALITY_PROTOCOL+A.id}))&&this.trigger(a.Private.SelectorValueChange,{type:"quality",text:D.desc})}function W(C){this.trigger(a.Private.Timeline,{name:C,ts:performance.now()})}function B(){var C={},D=this.getOptions().drm||{},A=this._keySystem||((A=this._drm)==null?void 0:A.keySystem())||"";return A===y.Widevine?C=D.widevine||{}:A===y.FairPlay&&(C=D.fairplay||{}),C}function M(C,D){if((A=this.getOptions())==null||(A=A.drm)==null||!A.disableReportLicense){var A=D.data,D="";if(typeof A=="string")D=A;else if(A instanceof ArrayBuffer)try{D=new TextDecoder().decode(A)}catch(ne){console.log("error in decode license provider response",ne),D="[ArrayBuffer] decode error: "+ne}this.traceLog(h,"DRM-"+S[C]+"-response: "+D,!0)}}t.exports.inject=(()=>{var C=c(d().mark(function D(A,Q,ne,re){var K;return d().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:(K=A)._baseType=ne,K._keySystem=null,K.initPlay=b.bind(K,re),K.play=g.bind(K),K.dispose=T.bind(K),K._getDrmTextTracks=w.bind(K),K._switchDrmTextTrack=x.bind(K),K._switchLevel=E.bind(K),K._switchAudioTrack=I.bind(K);case 10:case"end":return P.stop()}},D)}));return function(D,A,Q,ne){return C.apply(this,arguments)}})(),t.exports.play=g,t.exports._switchLevel=E,t.exports._getTextTracks=w,t.exports._switchTextTrack=x,t.exports._switchAudioTrack=I,t.exports.updateLevelList=U,t.exports.logProviderResponse=M},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../base/event/eventtype":77,"es6-promise":13}],112:[function(e,t,m){var d=e("../base/player"),o=e("./drminjector"),c=e("./drminjectorNg"),u=d.extend({init:function(s,r){r.useDrm2?c.inject(this,u,d.prototype,r):o.inject(this,u,d.prototype,r,function(n){}),r._native=!1,d.call(this,s,r)}});t.exports=u},{"../base/player":102,"./drminjector":110,"./drminjectorNg":111}],113:[function(e,t,m){(function(d){(function(){var o=e("../../lib/io"),c=e("../../config"),u=e("../../lib/constants"),s=e("../../lib/util"),r=e("../../lib/playerutil"),n=e("../../lib/ua"),a=e("../../lib/data"),l=e("../../lang/index"),h=e("../base/event/eventtype"),v="flvinjector.js";t.exports.inject=function(y,f,S,b,_,g){var T,E=b.source,w=b.optionFormat;function x(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyFlv(),this._superPt&&(f.prototype.play=this._superPt.play,f.prototype.pause=this._superPt.pause,f.prototype.initPlay=this._superPt.initPlay,f.prototype.seek=this._superPt.seek,f.prototype.canSeekable=this._superPt.canSeekable))}function I(R){try{for(var k=R.buffered.length,L="Len:"+k+";",N=0;N<k;N++)L+="["+(N+1)+"]"+R.buffered.start(N)+"~"+R.buffered.end(N);return L}catch{}}(g||(b=E,g=w,!y._flv&&r.isFlv(b,g)&&r.isSupportFlv()))&&(y._Type=f,y._superType=S,y._superPt=S.prototype,y._disposed=!1,f.prototype._checkFlvReady=function(){return this._flv!=null||(console.warn("please invoke this method after ready event"),!1)},y._isFlv=!0,y._flv=null,y._isLoadedFlv=!1,y._dumpBuffer=null,f.prototype.play=function(R){if(this.traceLog(v,"play::"+R),R&&(this.trigger(h.Private.ManualPlay),this._monitor2.manualPlay()),this._checkFlvReady())return this._isManualPlay=R||!1,this.trigger(h.Private.Cover_Hide),this._options.isLive&&R?this._loadByUrlInner(this._options.source,0,R):this.tag.ended||this._ended?this.replay():(this._seeking==0&&(R=0,this.tag.ended||this._ended||(R=this.getCurrentTime())==0&&(R=-1),R!=-1)&&this.seek(R),this.tag.paused&&(this._hasLoaded||(this._hasLoaded=!0,this._flv.load()),this._flv.play())),this},f.prototype.seek=function(R){if(this._checkFlvReady()){this._seeking=!0;var k=this.getDuration();k<=(R=Math.floor(R))&&(R=k);try{this._flv.currentTime=R}catch(L){console.log(L)}return this}},f.prototype.pause=function(R){if(this._checkFlvReady())return this._isManualPause=R||!1,this._flv.pause(),this},f.prototype.getProgramDateTime=function(){var R;if(this._checkFlvReady())return this._metadata?(R=(R=this._flv.getFirstSample())&&R.pts?R.pts:0,console.log("推流时间："+this._metadata.NtpTime),console.log("首帧PTS："+R),this._metadata.NtpTime+R):""},f.prototype.initPlay=function(R){var k,L,N;function j(U,W){if(!U._disposed){var B=!U._flv,M=(U._destroyFlv(),U._options.isLive);if(M&&!flvjs.getFeatureList().networkStreamIO)return(Q={error_code:u.ErrorCode.FormatNotSupport,error_msg:l.get("Error_Not_Support_Mse_Flv")+"|streamIO(format:flv)"}).display_msg=Q.error_msg,void U.trigger(h.Player.Error,Q);var C,D={isLive:M,enableWorker:U._options.enableWorker,accurateSeek:!0},A=(n.IS_IE11&&(D.enableWorker=!1),{type:"flv",isLive:M,url:U._options.source});for(C in M?(D.enableStashBuffer=U._options.enableStashBufferForFlv,D.stashInitialSize=U._options.stashInitialSizeForFlv,D.autoCleanupSourceBuffer=!1):D.lazyLoadMaxDuration=600,D.statisticsInfoReportInterval=1e3,U._options.isLive&&(U._options.flvFrameChasing&&(D.flvFrameChasing=U._options.flvFrameChasing),U._options.chasingFirstParagraph&&(D.chasingFirstParagraph=U._options.chasingFirstParagraph),U._options.chasingSecondParagraph&&(D.chasingSecondParagraph=U._options.chasingSecondParagraph),U._options.chasingFirstSpeed&&(D.chasingFirstSpeed=U._options.chasingFirstSpeed),U._options.chasingSecondSpeed)&&(D.chasingSecondSpeed=U._options.chasingSecondSpeed),U._options.flvOption)C=="cors"||C=="hasAudio"||C=="withCredentials"||C=="hasVideo"||C=="type"?A[C]=U._options.flvOption[C]:D[C]=U._options.flvOption[C];flvjs.LoggingControl.enableAll=U._options.debug,U._flv=flvjs.createPlayer(A,D),T(U,U._flv),U._flv.on(flvjs.Events.DUMP_BUFFER,function(re){var K,P,q;U._options.disableDumpBuffer||U._liveRetryCount===0&&U._vodRetryCount===0&&U._nudgeCount===0&&typeof U._dumpBuffer!="string"&&(U._flvDumpTimer||(U._flvDumpTimer=setTimeout(function(){U._reportDumpBuffer&&U._reportDumpBuffer()},5e3)),re=new Uint8Array(re),U._dumpBuffer?U._dumpBuffer=(K=U._dumpBuffer,P=re,(q=new Uint8Array(K.length+P.length)).set(K),q.set(P,K.length),q):U._dumpBuffer=re)});var Q,ne=s.throttle(function(re){U.traceLog(v,"dts_adjustment::"+re.from+"->"+re.to)},1e3);U._flv.on(flvjs.Events.DTS_ADJUSTMENT,function(re){ne(re)}),U._flv.on(flvjs.Events.MEDIA_INFO,function(re){U._metadata=re.metadata}),U._flv.on(flvjs.Events.METADATA_ARRIVED,function(re){re&&re.dataContent&&re.dataContent.length&&U.trigger(h.Private.SeiFrame,{dataContent:re.dataContent,pts:re.pts})}),U._flv.on(flvjs.Events.STATISTICS_INFO,function(re){U.trigger(h.Private.StatisticsInfo,re)}),U._flv.attachMediaElement(U.tag),U._initPlayBehavior(W)&&((U._options.preload||U._options.autoplay)&&(U._hasLoaded=!0,U._flv.load()),U._options.autoplay&&!U.tag.paused&&U._flv.play(),_&&_(U._flv),B)&&(U._executeReadyCallback(),U._urls)&&0<U._urls.length&&(U._currentPlayIndex=r.findSelectedStreamLevel(U._urls,U._options.defaultDefinition),Q=U._urls[U._currentPlayIndex],U._options.source=Q.Url,U.trigger(h.Private.SourceLoaded,Q))}}n.browser.safari&&this.trigger(h.Private.Snapshot_Hide),s.contentProtocolMixed(E,"",w)?((k={mediaId:this._options.vid||"",error_code:u.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=l.get("Request_Block_Text"),this.trigger(h.Player.Error,k)):(L=this)._isLoadedFlv&&typeof Hls<"u"?setTimeout(function(){j(L,R)},1e3):(this.trigger(h.Private.H5_Loading_Show),N=performance.now(),(function(U,W,B){var M="aliplayer-flv-min.js",C="",C=c.domain?"https://"+c.domain+c.path+c.h5Version+"/flv/"+M:"/build/flv/"+M,D=(this._options.assetPrefix&&(C=this._options.assetPrefix+"/flv/"+M),JSON.parse(d)&&(C="http://localhost:8000/dist/aliplayer-flv.js"),this);o.loadJS(C,function(){U.apply(D)},function(){B&&B()})}).call(L,function(){this.traceLog(v,"got js#"+parseInt(performance.now()-N)),this._isLoadedFlv=!0,j(this,R)},this._options.debug,function(){var U={mediaId:L._options.vid||"",mediaAuth:L._options.mediaAuth||"",error_code:u.ErrorCode.ModuleLoadError,error_msg:"flv module load error."};L.trigger(h.Player.Error,U)}))},f.prototype._reportDumpBuffer=function(){var R,k;this.__flvDumpTimer&&clearTimeout(this.__flvDumpTimer),this.__flvDumpTimer=null,this._dumpBuffer&&typeof this._dumpBuffer!="string"&&(1048576<this._dumpBuffer.byteLength&&(this._dumpBuffer=this._dumpBuffer.slice(0,1048576)),R=this._dumpBuffer,this._dumpBuffer="REPORTED",performance.now(),R=s.arrayBufferToB64(R),k=a.guid(),this.traceLog(v,"dump::"+k),this.trigger(h.Private.DumpBuffer,{id:k,data:R}))},f.prototype._destroyFlv=function(){try{this._flv&&(this._flv.pause(),this._flv.destroy())}catch(R){console.log(R)}this.loaded=!1,this._hasLoaded=!1,this._flv=null,this._flvDumpTimer&&(clearTimeout(this._flvDumpTimer),this._flvDumpTimer=null),this._dumpBuffer=null},Object.defineProperty(f.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return x},set:function(){return x}}),f.prototype.canSeekable=function(R){var k;if(this._flv)return k=this._flv.mediaInfo,!(!this._flv._isTimepointBuffered(R)&&k&&!k.hasKeyframesIndex)},f.prototype._getbwEstimator=function(){var R;return 1024*((R=this._flv)==null||(R=R.statisticsInfo)==null?void 0:R.speed)*8},T=function(R,k){var L=!1;k.on(flvjs.Events.ERROR,function(N,j,U){var W,B,M,C,D="flvjs-error::"+N+"#"+j+"#"+U.code+"#"+U.msg,A=U.msg==="BodyStreamBuffer was aborted"&&k._config.lazyLoad;if(A){D+="#Maximum buffering duration exceeded, suspend transmuxing task";try{var Q=k._msectl._sourceBuffers.video,ne=k._msectl._sourceBuffers.audio;D+="#Video buffer:"+I(Q)+"#Audio buffer:"+I(ne)}catch{}}R.traceLog(v,D),R._reportDumpBuffer&&R._reportDumpBuffer(),N===flvjs.ErrorTypes.BUFFER_FULL||(R._flv.unload(),A)||R._isError||(W=u.ErrorCode.OtherError,B=l.get("Error_Play_Text"),M=null,j==flvjs.ErrorDetails.NETWORK_EXCEPTION?!(Q=R.getOptions().source)||Q.toLowerCase().indexOf("http://")!=0&&Q.toLowerCase().indexOf("https://")!=0?(W=u.ErrorCode.InvalidSourceURL,B=l.get("Error_Invalidate_Source_Widthout_Protocal"),L=!0):B=navigator.onLine?(W=u.ErrorCode.RequestDataError,l.get("Maybe_Cors_Error")):(W=u.ErrorCode.NetworkError,l.get("Error_Network_Text")):j==flvjs.ErrorDetails.NETWORK_STATUS_CODE_INVALID?U.code=="404"?(W=u.ErrorCode.NotFoundSourceURL,B=l.get("Error_Not_Found"),M=l.get("Tip_Err_Not_found")):U.code=="403"?(W=u.ErrorCode.AuthKeyExpired,B=l.get("Error_AuthKey_Text"),L=!0):(W=u.ErrorCode.NetworkError,B=l.get("Error_Network_Text")):j==flvjs.ErrorDetails.NETWORK_TIMEOUT?(W=u.ErrorCode.LoadingTimeout,B=l.get("Error_Waiting_Timeout_Text")):j==flvjs.ErrorDetails.MEDIA_FORMAT_UNSUPPORTED||j==flvjs.ErrorDetails.MEDIA_CODEC_UNSUPPORTED?(W=u.ErrorCode.FormatNotSupport,B=l.get("Error_H5_Not_Support_Text")+"|codec(format:flv)",L=!0):j===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&(ne=R.tag.error)&&(W=u.VideoErrorCode[ne.code],B=ne.code+" || "+ne.message),D=function(){var re;setTimeout(function(){R.trigger(h.Private.Play_Btn_Hide)}),R.checkOnline()&&(re={mediaId:R._options&&R._options.vid?R._options.vid:"",error_code:W,error_msg:B,diagnosis_info:M},R.logError(re),re.display_msg=B,c.cityBrain&&(R.flv=null),R.trigger(h.Player.Error,re))},R._options&&R._options.isLive&&!L?(C=R._options).liveRetry>R._liveRetryCount?(R._liveRetryCount==0&&R.trigger(h.Player.OnM3u8Retry),N=C.liveRetryInterval+C.liveRetryStep*R._liveRetryCount,R._liveRetryCount++,setTimeout(function(){R._isError||R._liveRetryTimer||R._loadByUrlInner(C.source)},1e3*N)):(R.trigger(h.Player.LiveStreamStop),D()):j===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&U.code===11&&R.getCurrentTime()<R.getDuration()?(R._flv.unload(),R._flv.load(),R._flv.detachMediaElement(),R._flv.attachMediaElement(R.tag)):L?(R._flv.unload(),D()):R._reloadForVod()||D())})})}}).call(this)}).call(this,"false")},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/data":35,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/util":55,"../base/event/eventtype":77}],114:[function(e,t,m){var d=e("../base/player"),o=e("./flvinjector"),c=d.extend({init:function(u,s){o.inject(this,c,d,s,function(r){}),s._native=!1,d.call(this,u,s)}});t.exports=c},{"../base/player":102,"./flvinjector":113}],115:[function(e,t,m){(function(d){(function(){function o(){return(o=Object.assign?Object.assign.bind():function(E){for(var w=1;w<arguments.length;w++){var x,I=arguments[w];for(x in I)!{}.hasOwnProperty.call(I,x)||(E[x]=I[x])}return E}).apply(null,arguments)}var c,u=e("../../lib/object"),s=e("../../lib/io"),r=e("../../config"),n=e("../../lib/constants"),a=e("../../lib/util"),l=e("../../lib/playerutil"),h=e("../../lib/ua"),v=e("../../lang/index"),y=e("../base/event/eventtype"),f="hlsinjector.js";function S(){this&&this._hls&&(this._hls.stopLoad(),this._hls.destroy(),this._hls=null)}function b(E){this.trigger(y.Private.Timeline,{name:E,ts:performance.now()})}function _(E,w){return w<E.maxNumRetry}var g={};function T(E,w){w.frag.level===this.currentLevel&&(this.off(c.Events.FRAG_BUFFERED,T),this.media.currentTime=this.media.currentTime+.01)}t.exports.inject=function(E,w,x,I,R,k){E._hls2=!1;var L,N,j,U=I.source,W=I.optionFormat;((R||"").length||k||(k=U,L=I.useHlsPluginForSafari,I=I.useHlsPlugOnMobile,N=W,!E._hls&&l.isHls(k,N)&&(!l.canPlayHls()||l.isSafariUsedHlsPlugin(L)||I&&l.isUsedHlsPluginOnMobile())))&&(E._Type=w,E._superType=x,E._superPt=x.prototype,E._disposed=!1,E._isHls=!0,E._hls=null,E._isLoadedHls=!1,E._stopLoadAsPaused=!0,E._yekced_saved=R,g.seek||(g.seek=x.prototype.seek),g.dispose||(g.dispose=x.prototype.dispose),E.initPlay=(function(B){var M,C;function D(A,Q){if(!A._disposed){if(A._antiRecord&&(console.log("Manual check before load source"),A._antiRecord.check()))return;var ne,re=!A._hls,K=(A._destroyHls(),{xhrSetup:function(q,Z){q.withCredentials=A._options.withCredentials||!1}}),P=(A._hls2||(P=A._options.loadingTimeOut||A._options.hlsLoadingTimeOut)&&(K.manifestLoadingTimeOut=P,K.levelLoadingTimeOut=P,K.fragLoadingTimeOut=P),A._hls2&&(K.manifestLoadPolicy=o({},c.DefaultConfig.manifestLoadPolicy),K.playlistLoadPolicy=o({},c.DefaultConfig.playlistLoadPolicy),K.fragLoadPolicy=o({},c.DefaultConfig.fragLoadPolicy),P=A._options.isLive?A._options.liveRetry:A._options.vodRetry,K.manifestLoadPolicy.default.errorRetry.maxNumRetry=P,A._options.isLive&&(K.manifestLoadPolicy.default.errorRetry.shouldRetry=_),K.manifestLoadPolicy.default.timeoutRetry.maxNumRetry=P,K.playlistLoadPolicy.default.errorRetry.maxNumRetry=P,A._options.isLive&&(K.playlistLoadPolicy.default.errorRetry.shouldRetry=_),K.playlistLoadPolicy.default.timeoutRetry.maxNumRetry=P,K.fragLoadPolicy.default.maxLoadTimeMs=2e4,K.fragLoadPolicy.default.errorRetry.shouldRetry=_,(P=A._options.hlsOption||{}).manifestLoadPolicy&&(K.manifestLoadPolicy=u.deepMerge(K.manifestLoadPolicy,P.manifestLoadPolicy),delete P.manifestLoadPolicy),P.playlistLoadPolicy&&(K.playlistLoadPolicy=u.deepMerge(K.playlistLoadPolicy,P.playlistLoadPolicy),delete P.playlistLoadPolicy),P.fragLoadPolicy&&(K.fragLoadPolicy=u.deepMerge(K.fragLoadPolicy,P.fragLoadPolicy),delete P.fragLoadPolicy),A._options.isLive)&&!h.IS_IE11&&(K.backBufferLength=12,K.liveDurationInfinity=!0),A._options.isLive&&(A._options.hlsFrameChasing&&(K.hlsFrameChasing=A._options.hlsFrameChasing),A._options.chasingFirstParagraph&&(K.chasingFirstParagraph=A._options.chasingFirstParagraph),A._options.chasingSecondParagraph&&(K.chasingSecondParagraph=A._options.chasingSecondParagraph),A._options.chasingFirstSpeed&&(K.chasingFirstSpeed=A._options.chasingFirstSpeed),A._options.chasingSecondSpeed)&&(K.chasingSecondSpeed=A._options.chasingSecondSpeed),A._options.defaultBandwidth&&(K.defaultBandwidth=A._options.defaultBandwidth),A._options.hlsBandWidthUpCacheTime&&(K.abrBandWidthUpCacheTime=A._options.hlsBandWidthUpCacheTime),A._options.seamlessHandover&&(K.seamlessHandover=A._options.seamlessHandover),A._options.liveSyncDurationCount&&(K.liveSyncDurationCount=A._options.liveSyncDurationCount),A._options.nudgeMaxRetry&&(K.nudgeMaxRetry=A._options.nudgeMaxRetry),A._options.maxMaxBufferLength&&(K.maxMaxBufferLength=A._options.maxMaxBufferLength),A._options.maxBufferSize&&(K.maxBufferSize=A._options.maxBufferSize),A._options.fragLoadingRetryDelay&&(K.fragLoadingRetryDelay=A._options.fragLoadingRetryDelay),A._options.maxBufferLength&&(K.maxBufferLength=A._options.maxBufferLength),A._options.accessKeyId&&(K.accessKeyId=A._options.accessKeyId),A._options.accessKeySecret&&(K.accessKeySecret=A._options.accessKeySecret),A._options.securityToken&&(K.securityToken=A._options.securityToken),A._options.app&&(K.app=A._options.app),A._options.stream&&(K.stream=A._options.stream),A._options.domain&&(K.domain=A._options.domain),A._options.regionId&&(K.regionId=A._options.regionId),A._yekced_saved&&(A._hls2?K._vpk=A._yekced_saved:K._yekcedxx=A._yekced_saved),K.enableWorker=A._options.enableWorker,K.debug=A._options.debug,A._stopLoadAsPaused=A._options.hlsOption.stopLoadAsPaused,A._getPlayStartTime()+A._posOffset);for(ne in P&&(K.startPosition=P,console.log("hls.js startPosition => ",P)),A._options.hlsOption)K[ne]=A._options.hlsOption[ne];h.IS_IE11&&(K.enableWorker=!1),A._hls=new c(K),j(A,A._hls),A._loadSourced=!1,A._hls.attachMedia(A.tag),A._hls.on(c.Events.INIT_PTS_FOUND,function(q,Z){A._initPTS=Z.initPTS}),A._hls.on(c.Events.FRAG_LOADING,function(){b.call(A,"frag_s")}),A._hls.on(c.Events.FRAG_LOADED,function(){b.call(A,"frag_f")}),A._hls.on(c.Events.FRAG_PARSED,function(){b.call(A,"frag_parsed")}),A._hls.on(c.Events.FRAG_PARSED,function(q,se){var se=se?.frag||{},pe=se.elementaryStreams||{},ce="Frag(sn"+se.sn+"): "+((ce=se.startPTS)==null?void 0:ce.toFixed(3))+" -> "+((ce=se.endPTS)==null?void 0:ce.toFixed(3))+"(v:"+((ce=pe.video)==null||(ce=ce.startPTS)==null?void 0:ce.toFixed(3))+"/"+((ce=pe.video)==null||(ce=ce.endPTS)==null?void 0:ce.toFixed(3))+";a:"+((ce=pe.audio)==null||(ce=ce.startPTS)==null?void 0:ce.toFixed(3))+"/"+((ce=pe.audio)==null||(ce=ce.endPTS)==null?void 0:ce.toFixed(3))+"); Duration: "+((pe=se.duration)==null?void 0:pe.toFixed(3));A.trackLogFragBuffer&&(A.trackLogFragBuffer.push(ce),10<A.trackLogFragBuffer.length)&&A.trackLogFragBuffer.shift()}),A._hls.on(c.Events.FRAG_PARSING_USERDATA,function(q,Z){Z&&Z.dataContent&&Z.dataContent.length?A.trigger(y.Private.SeiFrame,{dataContent:Z.dataContent,pts:Z.pts}):Z.samples.forEach(function(se){A.trigger(y.Private.SeiFrame,{dataContent:se.userDataBytes,dataContentString:se.userData,pts:se.pts,uuid:se.uuid})})}),A._hls.on(c.Events.MEDIA_ATTACHED,function(){var q;A._hls.on(c.Events.MANIFEST_PARSED,function(){A._initPlayBehavior(Q||A._loadSourced)}),A._hls.on(c.Events.AUDIO_TRACKS_UPDATED,function(Z,se){A.trigger(y.Player.AudioTrackUpdated,se)}),A._hls.on(c.Events.MANIFEST_LOADED,function(Z,se){A.trigger(y.Player.LevelsLoaded,se)}),A._hls.on(c.Events.LEVEL_SWITCHED,function(Z,se){if(A._qualityService){for(var pe=A._hls.levels[se.level].url,ce=A._qualityService.levels,ee="",F="",z=0;z<ce.length;z++)if(ce[z].Url==pe){F=ce[z].desc,ee=ce[z].bitrate;break}(F||ee)&&A.trigger(y.Private.QualityChange,{levelSwitch:!0,url:pe,bitrate:ee,desc:F})}}),A._hls.on(c.Events.AUDIO_TRACK_SWITCH,function(Z,se){A.trigger(y.Player.AudioTrackSwitch,se),setTimeout(function(){A.trigger(y.Player.AudioTrackSwitched,se)},1e3)}),(A._options.autoplay||A._options.preload||Q)&&(A._loadSourced=!0,A._levels&&1<A._levels.length?(A._hls.trigger(c.Events.MANIFEST_LOADING,{}),A._hls.trigger(c.Events.MANIFEST_LOADED,{levels:A._levels})):A._hls.loadSource(A._options.source||"__INVALID__")),re?(A._executeReadyCallback(),A._urls&&0<A._urls.length&&(A._currentPlayIndex=l.findSelectedStreamLevel(A._urls,A._options.defaultDefinition),q=A._urls[A._currentPlayIndex],A._options.source=q.Url,A.trigger(y.Private.SourceLoaded,q))):A.trigger(y.Private.H5_Loading_Show)})}}this.trigger(y.Private.H5_Loading_Show),a.contentProtocolMixed(U,"",W)?(M=this.getOptions()||{},(M={mediaId:M.vid||"",mediaAuth:M.mediaAuth||"",error_code:n.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=v.get("Request_Block_Text"),this.trigger(y.Player.Error,M)):(C=this)._isLoadedHls&&c!==void 0?D(this,B):(this.trigger(y.Private.H5_Loading_Show),this._getHlsVersion(function(A){var Q=performance.now();(function(ne,re,K){var P="aliplayer-hls-min.js",q=((re=re||{}).hls2&&(P="aliplayer-hls2-min.js"),re.enableHlsH265&&(P="aliplayer-hls2-hevc-min.js"),""),q=r.domain?"https://"+r.domain+r.path+r.h5Version+"/hls/"+P:"/build/hls/"+P,Z=(re.assetPrefix&&(q=re.assetPrefix+"/hls/"+P),JSON.parse(d)&&(q="http://localhost:8080/dist/aliplayer-hls2.js"),b.call(this,"mod_hls_s"),this);s.loadJS(q,function(){b.call(Z,"mod_hls_f"),c=window.AliHls||window.Hls,ne.apply(Z)},function(){K&&K()})}).call(C,function(){C.traceLog(f,"got js#"+parseInt(performance.now()-Q)),C._isLoadedHls=!0,D(C,B)},{debug:C._options.debug,hls2:C._hls2,assetPrefix:C._options.assetPrefix,enableHlsH265:C._options.enableHlsH265},function(){var ne={mediaId:C._options.vid||"",mediaAuth:C._options.mediaAuth||"",error_code:n.ErrorCode.ModuleLoadError,error_msg:"hls module load error."};C.trigger(y.Player.Error,ne)})}),this.on("error",S))}).bind(E),E.seek=(function(B){if(this._checkHlsReady()){try{g.seek.call(this,B),this.tag.paused&&this._stopLoadAsPaused&&this._hls.startLoad(B)}catch(M){console.log(M)}return this}}).bind(E),E.pause=(function(B){if(this.tag){if(!this._checkHlsReady())return;this.tag.pause(),this._stopLoadAsPaused&&this._hls.stopLoad()}return this._isManualPause=B||!1,this}).bind(E),E.play=(function(B){if(this.traceLog(f,"play::"+B),B&&(this.trigger(y.Private.ManualPlay),this._monitor2.manualPlay()),this._checkHlsReady())return this._isManualPlay=B||!1,this.trigger(y.Private.Cover_Hide),this._options.autoplay||this._options.preload||this._loadSourced||(this._loadSourced=!0,this._hls.loadSource(this._options.source)),this.tag.ended||this._ended?this.replay():this.tag.paused&&(this.tag.play(),this._stopLoadAsPaused)&&(B=this.getCurrentTime(),this._hls.startLoad(B)),this}).bind(E),E.stop=(function(){if(this._checkHlsReady())return this.tag.setAttribute("src",null),this._hls.stopLoad(),this}).bind(E),E.dispose=(function(){this._disposed||(this._disposed=!0,g.dispose.call(this),this._destroyHls())}).bind(E),E.getCurrentPDT=(function(){var B,M,C;if(this._checkHlsReady())return this._hls.currentLevel==-1?"":this._hls.playingDate?this._hls.playingDate.getTime():(M=this._hls.streamController.fragPlaying||{},(B=M.pdt)?(M=1e3*M.startPTS,C=1e3*this.getCurrentTime(),B+(C-M)):0)}).bind(E),E.getProgramDateTime=(function(){if(this._checkHlsReady()){if(this._hls.currentLevel==-1)return"";var B=this._hls.currentLevel,B=this._hls.levels[B].details;return B&&(B=B.programDateTime,B)?new Date(B).valueOf():0}}).bind(E),E._checkHlsReady=(function(){return this._hls!=null||(console.warn("please invoke this method after ready event"),!1)}).bind(E),E._getHlsVersion=(function(B){this._options.useHls2===!0?(this._hls2=!0,B()):this._options.useHls2===!1&&B()}).bind(E),E._getbwEstimator=(function(){var B=NaN;{var M;this._hls&&(M=this._hls.abrController._bwEstimator,B=M?M.getEstimate():this._hls.bandwidthEstimate)}return B}).bind(E),E._destroyHls=(function(){this._hls&&this._hls.destroy(),this._hls=null,this.trackLogFragBuffer=[]}).bind(E),E._switchLevel=(function(B){for(var M=this,C=(this.traceLog(f,"switchLevel::"+B),this.trigger(y.Player.LevelSwitch),this._hls.levels),D=!0,A=0;A<C.length;A++)if(C[A].url==B||C[A].url[0]==B){D=!1,this._hls2&&this._options.seamlessHandover?(this._hls.loadLevel=A,console.log("Seamlessly set nextLevel to",A)):(this._hls.on(c.Events.FRAG_BUFFERED,T),this._hls.currentLevel=A,console.log("Immediately set currentLevel to",A));break}D&&(this._hls.on(c.Events.FRAG_BUFFERED,T),this._hls.currentLevel=-1),this._switchedLevel=!0,setTimeout(function(){M.trigger(y.Player.LevelSwitched),M._switchedLevel=!1},1e3)}).bind(E),j=function(B,M){M.on(c.Events.MANIFEST_LOADING,function(){b.call(B,"mani_s")}),M.on(c.Events.MANIFEST_LOADED,function(){b.call(B,"mani_f")}),M.on(c.Events.DEFAULT_BANDWIDTH,function(C,D){B.trigger(y.Player.DefaultBandWidth,{width:D.width,height:D.height,bitrate:D.bitrate})}),M.on(c.Events.ERROR,function(C,D){var A="hlsjs-error::"+D.type+"#"+D.details+"#"+((A=D.networkDetails)==null?void 0:A.status)+"#"+D.reason+"#bw:"+(B._getbwEstimator()/8/1024).toFixed(2)+"KB";if(D.details==="manifestParsingError")try{A+="#"+D.networkDetails.getResponseHeader("Content-Type")+"#"+D.networkDetails.getResponseHeader("Content-Length")}catch{}else if(D.details==="fragLoadError"||D.details==="fragLoadTimeOut")A+="#"+D.frag.url+"#retry:"+((se=D.errorAction)==null?void 0:se.retryCount);else if(D.details==="internalException")try{A+="#"+D.event+"#"+((re=D.error)==null?void 0:re.message)+"#"+((ne=D.error)==null?void 0:ne.stack)}catch{}D.details!=="internalException"&&(A+="#"+D.error);try{A+="#"+(B==null||(ce=B.trackLogFragBuffer)==null?void 0:ce.toString())}catch{}if(B.traceLog(f,A,!0),B._options&&D.details!=c.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&B._seeking!=1&&D.fatal!=0){B._clearTimeout();var Q,ne,re,K=n.ErrorCode.LoadedMetadata,P=v.get("Error_Play_Text"),q=!1,Z=null,se=!1,pe=(D.details==c.ErrorDetails.MANIFEST_LOAD_ERROR||D.details==c.ErrorDetails.LEVEL_LOAD_ERROR?(q=!0,re=D.networkDetails,Q=Number(re.status),B.liveShiftSerivce&&B.liveShiftSerivce.isLiveShiftPlaying()&&Q===404?(K=n.ErrorCode.NotFoundSourceURL,P=v.get("Error_Liveshift_M3U8_Not_Found_Text"),se=!0):Q===404?(K=n.ErrorCode.NotFoundSourceURL,P=v.get("Error_Not_Found"),Z=v.get("Tip_Err_Not_found")):Q===403?(ne=l.parseHttpHeaders(re)["x-tengine-error"])&&-1<n.RegionBlockMessages.indexOf(ne)?(K=n.ErrorCode.RegionBlock,P=v.get("Error_Region_Block_Text"),Z=v.get("Tip_Err_Blocked")):(K=n.ErrorCode.AuthKeyExpired,P=v.get("Error_AuthKey_Text")):P=Q===0&&navigator.onLine?(K=n.ErrorCode.RequestDataError,P+"，"+v.get("Maybe_Cors_Error")):v.get("Error_Load_M3U8_Failed_Text")):D.details==c.ErrorDetails.MANIFEST_LOAD_TIMEOUT||D.details==c.ErrorDetails.LEVEL_LOAD_TIMEOUT?(q=!0,P=v.get("Error_Load_M3U8_Timeout_Text")):D.details==c.ErrorDetails.MANIFEST_PARSING_ERROR||D.details==c.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR?(q=!0,P=v.get("Error_M3U8_Decode_Text")):D.type==c.ErrorTypes.NETWORK_ERROR?(K=n.ErrorCode.NetworkError,P=v.get("Error_Network_Text")):D.type!=c.ErrorTypes.MUX_ERROR&&D.type!=c.ErrorTypes.MEDIA_ERROR||(K=n.ErrorCode.PlayDataDecode,P=v.get("Error_TX_Decode_Text")),P=P+"("+D.details+")",function(){var F;setTimeout(function(){B.trigger(y.Private.Play_Btn_Hide)}),B.checkOnline()&&(F={mediaId:(F=B.getOptions()||{}).vid||"",mediaAuth:F.mediaAuth||"",error_code:K,error_msg:D.details,diagnosis_info:Z},B.logError(F),F.display_msg=P,B.trigger(y.Player.Error,F))}),ce=function(){B._liveErrorHandle&&clearTimeout(B._liveErrorHandle),M.stopLoad(),B.trigger(y.Player.LiveStreamStop),B._liveErrorHandle=setTimeout(pe,500)},ee=B._options;if(ee.isLive&&se)ce();else if(B._hls2){if(q&&ee.isLive)if(ee.hlsOption.progressive){if(ee.liveRetry>B._liveRetryCount)return B._liveRetryCount==0&&B.trigger(y.Player.OnM3u8Retry),B.trigger(y.Private.H5_Loading_Show),B._hls.stopLoad(),B._liveRetryCount++,void setTimeout(function(){B.traceLog(f,"retry when live error in progressive mode#"+B._liveRetryCount),B._hls.loadSource(ee.source)},1e3*B._liveRetryCount)}else((A=D.errorAction)==null?void 0:A.retryCount)===0&&B.trigger(y.Player.OnM3u8Retry);D.fatal&&ce()}else ee.isLive?ee.liveRetry>B._liveRetryCount?(B._liveRetryCount==0&&B.trigger(y.Player.OnM3u8Retry),re=ee.liveRetryInterval+ee.liveRetryStep*B._liveRetryCount,B._liveRetryCount++,B.trigger(y.Private.H5_Loading_Show),setTimeout(function(){q&&B._loadByUrlInner(B._options.source,0,!0)},1e3*re)):ce():(q&&-1<[403,404].indexOf(Q)||!B._reloadForVod())&&pe()}})})}}).call(this)}).call(this,"false")},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/object":47,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/util":55,"../base/event/eventtype":77}],116:[function(e,t,m){var d=e("../base/player"),o=e("./hlsinjector"),c=d.extend({init:function(u,s){s._native=!1,o.inject(this,c,d,s),d.call(this,u,s)}});t.exports=c},{"../base/player":102,"./hlsinjector":115}],117:[function(e,t,m){var d=["extraInfo"];function o(){return(o=Object.assign?Object.assign.bind():function(_){for(var g=1;g<arguments.length;g++){var T,E=arguments[g];for(T in E)!{}.hasOwnProperty.call(E,T)||(_[T]=E[T])}return _}).apply(null,arguments)}var c=typeof Promise>"u"?e("es6-promise").Promise:Promise,u=e("../../lib/io"),s=e("../../config"),r=e("../../lib/constants"),n=e("../../lang/index"),a=e("../base/event/eventtype"),l=e("../../lib/ua"),h=e("../base/event/eventtype"),v=e("../../lib/playerutil"),y="rtsinjector.js";function f(_){var g,T,E,w,x=this._options;x.rtsFallback&&window.Aliplayer?((g=x.rtsFallbackSource)||((T=String(x.rtsFallbackType||"").toUpperCase())&&!["HLS","FLV"].includes(T)&&(console.warn("invalid rtsFallbackType:",x.rtsFallbackType,", will use flv -> hls as fallback"),T=""),T=T||(v.isSupportFlv()?"FLV":"HLS"),w=x.source,E=!w.includes("@subvideo=no"),w=!w.includes("@subaudio=no"),w=(E={enableVideo:E,enableAudio:w}).enableVideo,E=E.enableAudio,T==="FLV"?(x.flvOption=x.flvOption||{},E||(x.flvOption.hasAudio=!1),w||(x.flvOption.hasVideo=!1)):T!=="HLS"||E||(x.mute=!0),g=((I,k)=>{var k=k==="FLV"?"flv":"m3u8",L=window.location.protocol,L=(-1<["http:","https:"].indexOf(L)?L:"https:")+"//";return(I=I.replace("artc://",L).replace("?","."+k+"?").replace("@subvideo=no","").replace("@subaudio=no","")).includes("?")||(I+="."+k),I.includes("auth_key")&&(I+="&rts_degrade=on"),I})(x.source,T)),w={reason:_,fallbackUrl:g},this.trigger(a.Player.RtsFallback,w),this._monitor2.rtsFallback(w),this.loadByUrl(g)):(this.trigger(a.Player.Error,_),this.logError(_))}function S(_){var g=this,T=(this.trigger(a.Private.H5_Loading_Show),this.trigger(a.Private.Play_Btn_Hide),this._options),E=new b(g,_);return g._rts.subscribe(T.source,o({retryTimes:T.rtsFallback?1:void 0,mediaTimeout:T.rtsLoadDataTimeout},T.rtsOption||{})).then(function(w){return E.preProcess(),g.tag.srcObject=null,w.play(g.tag),l.IS_IOS&&Number(l.IOS_VERSION)<=14&&g.one(h.Player.TimeUpdate,function(){setTimeout(function(){g.tag.pause(),g.tag.play()},200)}),!0}).catch(function(w){return g.traceLog(y,"subError::"+JSON.stringify(w)),!1})}t.exports.inject=function(_,g,T,E,w,x){function I(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyRts())}_._Type=g,_._superType=T,_._superPt=T.prototype,_._disposed=!1,g.prototype._checkRtsReady=function(){return this._rts!=null||(console.warn("please invoke this method after ready event"),!1)},_._isRts=!0,_._rts=null,_._isLoadedRts=!1,_.bind_rtsErrorEventHandler=null,_.bind_rtsReconnectEventHandler=null,g.prototype.play=function(R){if(this.traceLog(y,"play::"+R),R&&(this.trigger(a.Private.ManualPlay),this._monitor2.manualPlay()),this._checkRtsReady()&&(this._isManualPlay=R||!1,this.paused()))return this.trigger(a.Private.Cover_Hide),this.trigger(a.Private.Play_Btn_Hide),S.call(this),this},g.prototype.seek=function(R){},g.prototype.setSpeed=function(R){},g.prototype.stop=function(){return this._rts&&this._rts.unsubscribe(),this},Object.defineProperty(g.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return I},set:function(){return I}}),g.prototype._destroyRts=function(){this._rts&&(this.stop(),this._rts.off("onError",this.bind_rtsErrorEventHandler),this._rts.off("reconnect",this.bind_rtsReconnectEventHandler)),this._rts=null},g.prototype.initPlay=function(R){var k,L=this;function N(j,U){var W;j._disposed||(W=!j._rts,j._destroyRts(),j._rts=new AliRTS.createClient({customReporter:function(B){if(Number(B.msgid)===126){var M={};try{M=JSON.parse(B.args)}catch{M={}}M.tcid&&j._rts&&(j._rts.traceid=M.tcid,j.traceLog(y,"tcid::"+M.tcid,!0),j.trigger(a.Player.RtsTraceId,{traceId:M.tcid,source:j._options.source}))}}}),j._checkRtsSupport(function(B){(function(M){var C=this._rtsErrorEventHandler.bind(this),C=(this.bind_rtsErrorEventHandler=C,M.on("onError",C),this._rtsReconnectEventHandler.bind(this));this.bind_rtsReconnectEventHandler=C,M.on("reconnect",C)}).call(j,j._rts),j._options.autoplay?S.call(j).then(function(M){M&&j._initPlayBehavior(U)}):j._initPlayBehavior(U),W&&j._executeReadyCallback()},function(B){console.log("[RTS isSupport error]",B);var M=null,C=null;switch(Number(B.errorCode)){case 10110:M=r.ErrorCode.RtsNotSupportWebRtc,C=n.get("Rts_Err_Not_Support_Webrtc");break;case 10111:M=r.ErrorCode.RtsBrowserNotSupport,C=n.get("Rts_Err_Browser_Not_Support");break;case 10112:M=r.ErrorCode.RtsBrowserVersionTooLow,C=n.get("Rts_Err_Browser_Version_Too_Low");break;case 10113:M=r.ErrorCode.RtsNotSupportH264,C=n.get("Rts_Err_Not_Support_H264");break;case 10114:M=r.ErrorCode.RtsCreateOfferError,C=n.get("Rts_Err_Create_Offer_Error")}return f.call(j,{error_code:M,error_msg:C}),!1}))}this._isLoadedRts?N(this,R):(this.trigger(a.Private.H5_Loading_Show),k=performance.now(),(function(j,U,W){var M="",B=this._options,M="https://g.alicdn.com/apsara-media-box/imp-web-rts-sdk/"+(B.rtsVersion||s.rtsVersion)+"/aliyun-rts-sdk.js",C=(B.assetPrefix&&(M=B.assetPrefix+"/rts/aliyun-rts-sdk.js"),B.rtsSdkUrl&&(M=B.rtsSdkUrl),this);u.loadJS(M,function(){j.apply(C)},function(){W&&W()})}).call(L,function(){this.traceLog(y,"got js#"+parseInt(performance.now()-k)),this._isLoadedRts=!0,N(this,R)},this._options.debug,function(){var j={error_code:r.ErrorCode.ModuleLoadError,error_msg:"rts module load error."};L.trigger(a.Player.Error,j)}))},g.prototype.getStats=function(){return this._rts&&this._rts.getTransportStats?c.all([this._rts.getTransportStats(),this._rts.getRemoteVideoStats(),this._rts.getRemoteAudioStats()]).then(function(N){var k=N[0],L=N[1],N=N[2];return{rtt:k.rtt,bytesReceived:k.bytesReceived,framesDecoded:L.framesDecoded,packetsLost:(L.packetsLost||0)+(N.packetsLost||0),packetsReceived:(L.packetsReceived||0)+(N.packetsReceived||0),timestamp:k.timestamp||Date.now()}}).catch(function(R){return console.log("ERR in RTS getstats: ",R),{}}):c.resolve()},g.prototype._checkRtsSupport=function(R,k){this._options.skipRtsSupportCheck?R():this._rts.isSupport({isReceiveVideo:!0}).then(R).catch(k)},g.prototype._rtsErrorEventHandler=function(R){console.log("RTS Error:",R),R.extraInfo;var k=((C,D)=>{if(C==null)return{};var A,Q={};for(A in C)if({}.hasOwnProperty.call(C,A)){if(D.indexOf(A)!==-1)continue;Q[A]=C[A]}return Q})(R,d),L=(this.traceLog(y,"rtsError::"+JSON.stringify(k)),null),N=null,j=null;switch(Number(R.errorCode)){case 10201:return;case 10101:L=r.ErrorCode.RtsSignalError,N=n.get("Rts_Err_Http_Signal_Error");break;case 10114:L=r.ErrorCode.RtsCreateOfferError,N=n.get("Rts_Err_Create_Offer_Error");break;case 10202:L=r.ErrorCode.RtsPlayUrlError,N=n.get("Rts_Err_Play_Url_Error");break;case 10203:L=r.ErrorCode.RtsSubscribeNonthing,N=n.get("Rts_Err_Subscribe_Nonthing");break;case 10205:var U=(U=R.extraInfo)==null?void 0:U.response;if(U?.status===403){var W=U.headers["x-tengine-error"];if(W&&-1<r.RegionBlockMessages.indexOf(W)){L=r.ErrorCode.RegionBlock,N=n.get("Error_Region_Block_Text"),j=n.get("Tip_Err_Blocked");break}L=r.ErrorCode.AuthKeyExpired,N=n.get("Error_AuthKey_Text")}else j=U?.status===404?(L=r.ErrorCode.NotFoundSourceURL,N=n.get("Error_Not_Found"),n.get("Tip_Err_Not_found")):(L=r.ErrorCode.RtsHttpRequestFaild,N=n.get("Rts_Err_Http_Request_Failed"),n.get("Tip_Err_Rts_Http_Failed"));break;case 10206:L=r.ErrorCode.RtsHttpAnswerFaild,N=n.get("Rts_Err_Http_Answer_Failed");break;case 10207:L=r.ErrorCode.RtsPlayFailedError;try{var B,M=(B=R.message.match(/after (\d+) ms/))==null?void 0:B[1]}catch{}N=n.get("Rts_Err_Play_Failed")+", "+(M?M*R.extraInfo.retryTimes/1e3+n.get("Rts_Err_No_Data_For"):R.message);break;case 12e3:L=r.ErrorCode.RtsPeerConnectionUnknown,N=n.get("Rts_Err_PeerConnection_Unknown")}k={error_code:L,error_msg:N,diagnosis_info:j,tcid:this._rts.traceid},(function(C){var D=this;D.pause(),setTimeout(function(){D.trigger(a.Private.Play_Btn_Hide)}),D.checkOnline()&&f.call(this,C)}).call(this,k)},g.prototype._rtsReconnectEventHandler=function(R){var k=this;this.traceLog(y,"rts auto reconnect::"+R.retryTimes+"#"+JSON.stringify(R.reason)),this.waiting=!0,this._TimeUpdateStamp=0,this.trigger(a.Private.H5_Loading_Show),this.trigger(a.Private.Play_Btn_Hide),this._options.autoplay&&this.one(h.Player.AutoPlayPrevented,function(){k.trigger(a.Private.Play_Btn_Hide),k.trigger(a.Private.H5_Loading_Show)}),R.retryTimes===1&&this.trigger(a.Player.OnM3u8Retry),this.trigger(a.Private.Retry,{type:"rts",source:this._options.source})}};var b=(()=>{function _(g,T){(this.isRetry=T)&&(this.isApple=l.IS_IOS||l.IS_SAFARI,this.player=g)}return _.prototype.preProcess=function(){var g,T,E;this.isRetry&&this.isApple&&(g=this.player.getVolume(),T=this.player.muted(),g)&&!T&&((E=this.player.tag).volume=0,this.player.one("canplay",function(){E.volume=g}))},_})()},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/ua":53,"../base/event/eventtype":77,"es6-promise":13}],118:[function(e,t,m){var d=e("../base/player"),o=e("./rtsinjector"),c=d.extend({init:function(u,s){s.isLive&&(s._native=!1,o.inject(this,c,d,s),d.call(this,u,s))}});t.exports=c},{"../base/player":102,"./rtsinjector":117}],119:[function(o,t,m){var d=o("../../lib/constants"),o=o("../../lib/oo").extend({init:function(c){this.player=c,this.tickhandle=null}});o.prototype.tick=function(c,u){var s=this;this.tickhandle=setTimeout(function(){s.player&&s.player.trigger(d.AuthKeyExpiredEvent),u&&u()},1e3*c)},o.prototype.clearTick=function(c){this.tickhandle&&clearTimeout(this.tickhandle)},t.exports=o},{"../../lib/constants":33,"../../lib/oo":48}],120:[function(e,t,m){function d(b,_,g){var E=s.randomUUID(),T="https://mts."+b.domainRegion+".aliyuncs.com/?",E={AccessKeyId:b.accessId,Action:"GetLicense",MediaId:b.vid,LicenseUrl:T,data:b.data,SecurityToken:b.stsToken,Format:"JSON",Type:b.encryptionType,Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:E};b.header&&(E.Header=b.header),T+="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(E,b.accessSecret,"POST")),b=s.makeUTF8sort(E,"=","&"),o.post(T,b,function(w){w?(w=JSON.parse(w),_&&(w=w.License,_(w))):g&&g(r.createError("MPS获取License失败"))},function(w){if(g){var x={Code:"",Message:l.get("Error_MTS_Fetch_Urls_Text")};try{x=JSON.parse(w)}catch{}g({Code:u.ErrorCode.ServerAPIError,Message:x.Code+"|"+x.Message,sri:x.RequestId||""})}})}var o=e("../../lib/io"),c=(e("../../lib/ua"),e("../../lib/bufferbase64")),u=e("../../lib/constants"),s=e("./signature"),r=e("./util"),n=e("../../lib/url"),a=e("../../lib/playerutil"),l=e("../../lang/index"),h=e("../base/event/eventtype");function v(b){window.console.error("The license request failed.")}function y(b){window.console.error("A decryption key error was encountered"),window.console.error("A decryption key error was encountered",b)}function f(b){window.console.log("Decryption key was added to session.")}function S(b,_,g){g.addEventListener(b,function(){_(arguments[0])},!1)}t.exports.requestLicenseKey=function(b){var _=b;return _._options.vid&&(_.__vid=_._options.vid),function(g,T){var E,w,x=_._options,I=_._getDRMEncryptItem();I&&(E={vid:_.__vid,accessId:x.accId,accessSecret:x.accSecret,stsToken:x.stsToken,domainRegion:x.domainRegion,authInfo:x.authInfo,encryptionType:I.encryptionType},I.encryptionType==u.EncryptionType.Widevine?E.data=c.encode(g.message):I.encryptionType==u.EncryptionType.PlayReady&&(x=c.unpackPlayReady(g.message),E.data=x.changange,x.header)&&(E.header=JSON.stringify(x.header)),console.log(E.data),g=_.__licenseKeys,w=_.__vid+I.Url,g&&g[w],d(E,function(R){_.__licenseKeys||(_.__licenseKeys={}),10<E.data.length&&(_.__licenseKeys[w]=R),R=c.decode(R),T(R)},function(R){R={mediaId:_.__vid,error_code:R.Code,error_msg:R.Message},_.logError(R),_.trigger("error",R)}))}},t.exports.loadCertificate=function(R,I){var g,T,E,w=new XMLHttpRequest,x=(w.addEventListener("load",(function(k,j){var N,j=j.target;if(j.status!==200){var W=u.ErrorCode.DrmLicenseRequestFailed,U=l.get("Error_Drm_License_Request_Failed"),W={mediaId:this._options.vid||"",error_code:W,error_msg:j.response};player.logError(W),W.display_msg=U,player.trigger(h.Player.Error,W)}else{try{N=this._options.isLive?JSON.parse(j.response).Response.B64ServCert:JSON.parse(JSON.parse(j.response).DRMCertInfo).b64ServCert}catch(B){console.log(B)}U=s.base64DecodeUint8Array(N),W=(function(B,D){var C=D.target,D=D.initData,A=s.arrayToString(D).split("skd://")[1].split("?")[0],Q=s.stringToArray(A);if(D=((ne,re,K)=>{typeof re=="string"&&(re=stringToArray(re));var P=0,q=new ArrayBuffer(ne.byteLength+4+re.byteLength+4+K.byteLength),Z=new DataView(q);return new Uint8Array(q,0,ne.byteLength).set(ne),P+=ne.byteLength,Z.setUint32(P,re.byteLength,!0),P+=4,(ne=new Uint16Array(q,P,re.length)).set(re),P+=ne.byteLength,Z.setUint32(P,K.byteLength,!0),P+=4,new Uint8Array(q,P,K.byteLength).set(K),new Uint8Array(q,0,q.byteLength)})(D,Q,B),C.webkitKeys||((()=>{if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";keySystem="com.apple.fps.1_0"})(),C.webkitSetMediaKeys(new WebKitMediaKeys(keySystem))),!C.webkitKeys)throw"Could not create MediaKeys";if(Q=C.webkitKeys.createSession("video/mp4",D),!Q)throw"Could not create key session";Q.contentId=A,S("webkitkeymessage",(function(q){var re=this,K=q.target,ce=q.message,P=new XMLHttpRequest,q=(q.sessionId,P.responseType="text",P.session=K,P.addEventListener("load",(function(F){F=F.target,z=this._options.isLive?JSON.parse(F.response).Response.B64License:JSON.parse(JSON.parse(F.response).License).b64License;var z=s.base64DecodeUint8Array(z),z=s.Uint8ArrayToString(z);z.substr(0,5)==="<ckc>"&&z.substr(-6)==="</ckc>"&&(z=z.slice(5,-6)),z=s.base64DecodeUint8Array(z),F.session.update(z)}).bind(this),!1),P.addEventListener("error",v,!1),btoa("spc="+s.base64EncodeUint8Array(ce)+"&assetId="+encodeURIComponent(K.contentId))),Z={Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:re._options.accessKeyId,SecurityToken:re._options.securityToken,CertId:re._options.certId};re._options.isLive?(Z.RegionId=re._options.region,Z.Action="DescribeDRMLicense",Z.Version="2016-11-01",Z.CdmData=q,Z.Type="fairplay",Z.Domain=n.parseUrl(re._options.source).hostname):(Z.region=re._options.region,Z.Action="GetDRMLicense",Z.Version="2017-03-21",Z.VideoId=re._options.vid,Z.CDMData=q,Z.DRMType="FairPlay");var se,pe,ce="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(Z,re._options.accessKeySecret,"POST"));K=re._options.isLive?"https://"+a.getLiveHostByRegion(re._options.region)+"/?"+ce:"https://vod."+re._options.region+".aliyuncs.com/?"+ce;for(pe in P.open("POST",K,!0),P.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Z){var ee;Z.hasOwnProperty(pe)&&(ee=Z[pe],se=se?se+"&"+s.AliyunEncodeURI(pe)+"="+s.AliyunEncodeURI(ee):s.AliyunEncodeURI(pe)+"="+s.AliyunEncodeURI(ee))}P.send(se)}).bind(this),Q),S("webkitkeyadded",f,Q),S("webkitkeyerror",y,Q)}).bind(this,U),j=(this._fairPlayHandlers.onNeedKey=W,(function(B){window.console.error("A video playback error occurred")}).bind(this)),this._fairPlayHandlers.onError=j,this.tag.addEventListener("webkitneedkey",W,!1),this.tag.addEventListener("error",j,!1),this.tag.src=this._options.source}k&&k()}).bind(R,I),!1),w.addEventListener("error",(function(k){window.console.error("Failed to retrieve the server certificate.")}).bind(R),!1),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:R._options.accessKeyId,SecurityToken:R._options.securityToken,CertId:R._options.certId}),I=(R._options.isLive?(x.RegionId=R._options.region,x.Action="DescribeDRMCertificate",x.Version="2016-11-01"):(x.region=R._options.region,x.Action="GetDRMCertInfo",x.Version="2017-03-21",x.VideoId=R._options.vid),"Signature="+s.AliyunEncodeURI(s.makeChangeSiga(x,R._options.accessKeySecret,"POST"))),R=R._options.isLive?"https://"+a.getLiveHostByRegion(R._options.region)+"/?"+I:"https://vod."+R._options.region+".aliyuncs.com/?"+I;for(g in w.open("POST",R,!0),w.setRequestHeader("Content-type","application/x-www-form-urlencoded"),x)x.hasOwnProperty(g)&&(T=x[g],E=E?E+"&"+s.AliyunEncodeURI(g)+"="+s.AliyunEncodeURI(T):s.AliyunEncodeURI(g)+"="+s.AliyunEncodeURI(T),console.log(T));w.send(E)},t.exports.getRequestUrl=function(g,_){var g={AccessKeyId:_._options.accessKeyId,Format:"JSON",Version:"2016-11-01",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),SecurityToken:_._options.securityToken,RegionId:_._options.region,Action:"DescribeDRMLicense",Type:"widevine",CdmData:g,Domain:n.parseUrl(_._options.source).hostname},T=(_._options.widevineCertId&&(g.CertId=_._options.widevineCertId),"Signature="+s.AliyunEncodeURI(s.makeChangeSiga(g,_._options.accessKeySecret,"POST")));return{url:"https://"+a.getLiveHostByRegion(_._options.region)+"/?"+T,data:s.makeUTF8sort(g,"=","&"),jsonData:s.makeUTF8sort(g,"=","&","json")}},t.exports.postData=function(T,_){var g=s.randomUUID(),g={AccessKeyId:_._options.accessKeyId,VideoId:_._options.vid,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:g,SecurityToken:_._options.securityToken,region:_._options.region,Action:"GetDRMLicense",DRMType:"Widevine",CDMData:T},T=(_._options.widevineCertId&&(g.CertId=_._options.widevineCertId),"Signature="+s.AliyunEncodeURI(s.makeChangeSiga(g,_._options.accessKeySecret,"POST")));return{url:"https://vod."+_._options.region+".aliyuncs.com/?"+T,data:s.makeUTF8sort(g,"=","&"),jsonData:s.makeUTF8sort(g,"=","&","json")}},t.exports.destroyFairPlay=function(){this._fairPlayHandlers.onNeedKey&&this.tag.removeEventListener("webkitneedkey",this._fairPlayHandlers.onNeedKey),this._fairPlayHandlers.onError&&this.tag.removeEventListener("error",this._fairPlayHandlers.onError),this._fairPlayHandlers={}}},{"../../lang/index":28,"../../lib/bufferbase64":30,"../../lib/constants":33,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/url":54,"../base/event/eventtype":77,"./signature":126,"./util":127}],121:[function(e,t,m){var d=e("../../lib/io"),o=e("../../lib/constants"),c=e("../../lib/data"),u=e("./util");t.exports.getDataByAuthInfo=function(s,r,n,a){s={playAuth:s.playAuth,requestId:s.requestId},d.get("https://api.h5video.shop/api/page/getMediaPlayInfo"+(l=>(l.requestId=c.guid(),Object.keys(l).reduce(function(h,v){return h+(h?"&":"?")+v+"="+encodeURIComponent(l[v])},"")))(s),function(l){if(l)if(l=JSON.parse(l),l.httpStatusCode!==200)a&&a({Code:o.ErrorCode.ServerAPIError,Message:l.httpStatusCode+"|"+l.code,sri:l.requestId});else{for(var h=l.data.PlayInfoList,v=[],y=h.length-1;0<=y;--y)h[y].Definition==="AUTO"&&(v=[h.splice(y,1)[0]]);var f,S=null;(S=(S=v.length===0?u.objectPlayerMessageSort(h,r):u.objectPlayerMessageSort(v)).map(function(b){return b.format==="m3u8"&&(b.Url=b.Url+"&_ext=.m3u8"),b}))&&n&&(f=l.data.VideoBase||{},n({videoId:f.VideoId,userId:f.UserId,requestId:l.requestId,urls:S,encryptUrlArr:[],thumbnailUrl:"",coverUrl:f.CoverURL,playInfoAry:h,textTracks:l.data.SubtitlesList}))}else a&&a(u.createError("轻SaaS服务获取数据失败"))},function(l){l&&typeof l=="string"&&-1<l.indexOf("Invalid CORS request")?a&&a({Code:o.ErrorCode.ServerAPIError,Message:l}):a&&a(u.createError("轻SaaS服务获取数据失败"))})}},{"../../lib/constants":33,"../../lib/data":35,"../../lib/io":45,"./util":127}],122:[function(u,t,m){var d=u("./saasplayer"),o=u("./light"),c=u("../base/event/eventtype"),u=d.extend({init:function(s,r){d.call(this,s,r),this.service=o,this.loadByLightSaas()}});u.prototype.loadByLightSaas=function(s){var r=this._options,n={playAuth:r.mediaAuth,defaultDefinition:r.defaultDefinition};this.log("STARTFETCHDATA",{it:"lightSaasPlayAuth",pa:{playAuth:r.mediaAuth}}),this.loadData(n,s)},u.prototype.replayByMediaAuth=function(s){this.trigger(c.Private.Error_Hide),this.tag&&(this.tag.pause(),this.tag.removeAttribute("src"),this.tag.load()),this.setTextTracks([]),this.trigger(c.Private.UserTrackReset),this._options.source="",this._options.mediaAuth=s,this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.loadByLightSaas(!0)},t.exports=u},{"../base/event/eventtype":77,"./light":121,"./saasplayer":125}],123:[function(e,t,m){var d=e("../../lib/io"),o=e("../../lib/constants"),c=e("./signature"),u=e("./util"),s=e("../../lang/index"),r=e("../../lib/ua"),n=function(l,h){for(var v="",y=(l.sort(function(g,T){return g=parseInt(g.bitrate),T=parseInt(T.bitrate),h=="desc"?T<g?-1:g<T?1:void 0:g<T?-1:T<g?1:void 0}),l.length),f=0;f<y;f++){var S=l[f],b=o.QualityLevels[S.definition],_="",_=b===void 0?S.bitrate:v==b?b+S.bitrate:b;S.desc=_,v=b}},a=function(l,h){for(var v="",y=(l.sort(function(g,T){return g=parseInt(g.width),T=parseInt(T.width),h=="desc"?T<g?-1:g<T?1:void 0:g<T?-1:T<g?1:void 0}),l.length),f=0;f<y;f++){var S=l[f],b=o.QualityLevels[S.definition],_="",_=b===void 0?"":v==b?b+S.height:b;S.desc=_,v=b}};t.exports.getDataByAuthInfo=function(S,h,v,y){c.returnUTCDate(),c.randomUUID();var f=c.randomUUID(),f={AccessKeyId:S.accessId,Action:"PlayInfo",MediaId:S.vid,Formats:S.format,AuthInfo:S.authInfo,AuthTimeout:S.authTimeout||o.AuthKeyExpired,IncludeSnapshotList:S.includeSnapshotList,Rand:S.rand,SecurityToken:S.stsToken,Format:"JSON",Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Terminal:r.IS_CHROME?"Chrome":r.IS_EDGE?"Edge":r.IS_IE11?"IE":r.IS_SAFARI?"Safari":r.IS_FIREFOX?"Firefox":"",SignatureNonce:f},f=(S.hlsUriToken&&(S.MtsHlsUriToken=S.hlsUriToken),S.playConfig&&(f.PlayConfig=JSON.stringify(S.playConfig)),c.makeUTF8sort(f,"=","&")+"&Signature="+c.AliyunEncodeURI(c.makeChangeSiga(f,S.accessSecret))),S="https://mts."+S.domainRegion+".aliyuncs.com/?"+f;d.get(S,function(b){var _,g,T;b?(_=(b=JSON.parse(b)).PlayInfoList.PlayInfo,g="",(T=b.SnapshotList?b.SnapshotList.Snapshot:[])&&0<T.length&&(g=T[0].Url),T=((E,w)=>{for(var x=[],I=[],R=[],k=[],L=E.length-1;0<=L;L--){var N=E[L];(N.format=="mp4"?I:N.format=="mp3"?R:N.format=="m3u8"?x:k).push(N)}return 0<R.length?(n(R,w),R):0<I.length?(a(I,w),I):0<x.length?(a(x,w),x):(a(k,w),k)})(_,h),v&&v({requestId:b.RequestId,urls:T,thumbnailUrl:g})):y&&y(u.createError("MPS获取取数失败"))},function(b){if(y){var _={Code:"",Message:s.get("Error_MTS_Fetch_Urls_Text")};try{_=JSON.parse(b)}catch{}y({Code:o.ErrorCode.ServerAPIError,Message:_.Code+"|"+_.Message,sri:_.RequestId||""})}})}},{"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/ua":53,"./signature":126,"./util":127}],124:[function(c,t,m){var d=c("./saasplayer"),o=(c("../../lib/constants"),c("./mts")),c=d.extend({init:function(u,s){d.call(this,u,s),this.service=o,this.loadByMts()}});c.prototype.loadByMts=function(u){var s={vid:this._options.vid,accessId:this._options.accId,accessSecret:this._options.accSecret,stsToken:this._options.stsToken,domainRegion:this._options.domainRegion,authInfo:this._options.authInfo,format:this._options.format,includeSnapshotList:this._options.includeSnapshotList||!1,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,hlsUriToken:this._options.hlsUriToken,playConfig:this._options.playConfig};this.loadData(s,u)},c.prototype.replayByVidAndAuthInfo=function(u,s,r,n,a,l){this.trigger("error_hide"),this._options.source="",this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.reloadNewVideoInfo(u,s,r,n,a,l)},c.prototype.reloadNewVideoInfo=function(u,s,r,n,a,l){if(this.trigger("error_hide"),this._options.source="",u&&(this._options.vid=u,this._options.accId=s,this._options.accessSecret=r,this._options.stsToken=n,this._options.domainRegion=l,this._options.authInfo=a),!(this._options.vid&&this._options.accId&&this._options.accessSecret&&this._options.stsToken&&this._options.domainRegion&&this._options.authInfo))throw new Error("需要提供vid、accId、accessSecret、stsToken、domainRegion和authInfo参数");this.log("STARTFETCHDATA",{it:"mps",pa:{vid:u}}),this.loadByMts(!0)},t.exports=c},{"../../lib/constants":33,"./mts":123,"./saasplayer":125}],125:[function(e,t,m){var d=e("../base/player"),o=e("../audio/audioplayer"),c=e("../../lib/io"),u=e("../../lib/constants"),s=e("./signature"),r=e("./authkeyexpiredhandle"),n=e("../hls/hlsinjector"),a=e("../flv/flvinjector"),l=e("../drm/drminjector"),h=e("../sw/swinjector"),v=e("../../lang/index"),y=e("../../lib/ua"),f=e("../../config"),S=e("../../lib/playerutil"),b=e("../base/event/eventtype"),_=e("../../protected/anti-injector-protected"),g=d.extend({init:function(w,x){y.IS_PC&&_(x,this),this._authKeyExpiredHandle=new r(this),d.prototype._videoCreateEl||(d.prototype._videoCreateEl=d.prototype.createEl),x.format=="mp3"?(x.height="auto",x.mediaType="audio",d.prototype.createEl=o.prototype.createEl,o.call(this,w,x),g.prototype.play=d.prototype.play,g.prototype.pause=d.prototype.pause,g.prototype.initPlay=d.prototype.initPlay,g.prototype.replay=d.prototype.replay,g.prototype.stop=d.prototype.stop,g.prototype.seek=d.prototype.seek):(d.prototype.createEl=d.prototype._videoCreateEl,x._native=!1,d.call(this,w,x))}});function T(){var w,x=!1;return Number(this._options.encryptType)!==1?(w={error_code:u.ErrorCode.InvalidParameter,error_msg:v.get("Error_Not_Support_encrypt_Text")},this.logError(w),this.trigger("error",w),!0):x}function E(){var w=S.checkSecuritSupport();if(w)return this._mtsError_message(this,{Code:u.ErrorCode.EncrptyVideoNotSupport,Message:w,display_msg:w},""),!0}g.prototype.loadData=function(w,x){var I,R,k;this._options.encryptType!=1?this._loadData(w,x):(I="aliplayer-vod-min.js",R="",R=f.domain?"https://"+f.domain+f.path+f.h5Version+"/hls/"+I:"/build/hls/"+I,this.trigger(b.Private.Timeline,{name:"mod_rand_s",ts:performance.now()}),k=this,c.loadJS(R,function(){k.trigger(b.Private.Timeline,{name:"mod_rand_f",ts:performance.now()}),k._loadData(w,x)}))},g.prototype._loadData=function(w,x){var I,R=new Date().getTime(),k=this;this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._authKeyExpiredHandle.clearTick(),w.format!=""&&w.format!="m3u8"||this._options.encryptType!=1?w.rand=s.randomUUID():(I=_rtsneg(k._vdnct6f===3?w.vid:void 0),w.rand=_dnaRekam(I,k._vdnct6f)),this._options.thumbnailUrl&&(w.thumbnailUrl=this._options.thumbnailUrl),this.trigger(b.Private.H5_Loading_Show),this.service.getDataByAuthInfo.call(this,w,this._options.qualitySort,function(L){if(k.trigger(b.Private.PlayInfoLoaded,L),L.userId&&(k._options.from=L.userId),L.videoId&&k._monitor&&k._monitor.updateLightSaasVideoId(L.videoId),L.textTracks&&L.textTracks.length&&(N=S.unqiueTextTracks(L.textTracks),k.trigger(b.Private.TextTrackFounded,{from:"saas",textTracks:N})),L.urls&&L.urls.length==0)k._mtsError_message(k,{Code:u.ErrorCode.URLsIsEmpty,Message:v.get("Error_Vod_URL_Is_Empty_Text")+(w.format?"(format:"+w.format+")":"")},"");else{k.log("COMPLETEFETCHDATA",{cost:new Date().getTime()-R,mi:JSON.stringify((D=>{for(var A=[],Q=0;Q<D.length;Q++)A.push({width:D[Q].width,height:D[Q].height,definition:D[Q].definition,format:D[Q].format,encryptionType:D[Q].encryptionType,duration:D[Q].duration});return A})(L.urls))}),k._urls=L.urls,k._currentPlayIndex=S.findSelectedStreamLevel(k._urls,w.defaultDefinition);var N=(j=L.urls[k._currentPlayIndex]).Url;if(k._vodDuration=j.duration||0,k._options.source=N,k.encType="",k.trigger(b.Private.PREPARE,j.definition),k.UI.cover&&L.coverUrl&&!k._options.cover&&k.setCover(L.coverUrl),S.isHls(N))if(L&&L.playInfoAry&&0<L.playInfoAry.length&&L.playInfoAry[0].EncryptType=="Widevine-FairPlay")l.inject(k,g,d.prototype,k._options);else{if(L.encryptUrlArr&&0<L.encryptUrlArr.length){for(var j,U=[],W=!1,B=0;B<L.encryptUrlArr.length;++B)if((j=L.encryptUrlArr[B]).encryptionType===u.EncryptionType.Private){if(T.call(k))return;if(W||E.call(k))return void(W=!0);var M=_yekced(I,j.rand,j.plaintext);U.push({url:j.Url,secData:M})}}else if(U="",j.encryptionType==u.EncryptionType.Private){if(T.call(k)||E.call(k))return;k.encType=j.encryptionType,U=_yekced(I,j.rand,j.plaintext)}var C=y.IS_IOS&&parseFloat(y.IOS_FULL_VERSION)<17.1;(U&&(k._options.useSW||C)?h:(k._hls&&(k._hls.destroy(),k._hls=null),n)).inject(k,g,d,k._options,U)}else S.isFlv(N)?a.inject(k,g,d,k._options):S.isDash(N)?(console.log("isDash"),l.inject(k,g,d,k._options)):k._player._executeReadyCallback();k._authKeyExpiredHandle.tick(u.AuthKeyRefreshExpired),k.trigger(b.Private.SourceLoaded,j),k._monitor2.vodSelectUrl(j),k.initPlay(x),k.trigger(b.Private.ChangeURL,{from:"saas"}),L.thumbnailUrl&&k._thumbnailService.get(L.thumbnailUrl),C=k._player._isFlv,N=-1<k._player.getOptions().source.indexOf("mp4"),k._player.encType==1||C||N||(y.IS_IOS||y.IS_MAC_SAFARI||y.IS_X5||y.IS_EDGE)&&(k._player._executeReadyCallback(),k._urls.length)&&k.trigger(b.Private.SourceLoaded,j)}},function(L){var N;-1<((N=L.Message)==null?void 0:N.indexOf('The specified parameter "Rand" is not valid'))&&T.call(k)||k._mtsError_message(k,L,"")})},g.prototype._changeStream=function(w,x){this._urls.length>w&&(this._loadByUrlInner(this._urls[w].Url,this.getCurrentTime(),!0),this._currentPlayIndex=w,this.trigger(b.Private.QualityChange,x||v.get("Quality_Change_Fail_Switch_Text")))},g.prototype._getLowerQualityLevel=function(){if(this._urls.length!=0&&this._currentPlayIndex!=-1){if(this.options().qualitySort=="asc"){if(0<this._currentPlayIndex)return{item:this._urls[this._currentPlayIndex-1],index:this._currentPlayIndex-1}}else if(this._currentPlayIndex<this._urls.length-1)return{item:this._urls[this._currentPlayIndex+1],index:this._currentPlayIndex+1}}return""},g.prototype._mtsError_message=function(w,x,I){w._serverRequestId=x.sri,w.trigger(b.Private.H5_Loading_Hide),x.Code=x.Code||x.code,x.Message=x.Message||x.message;var R=x.Code||"OTHER_ERR_CODE",k=x.Message||"OTHER_ERR_MSG",L=(u.ErrorCode.ServerAPIError,x.display_msg||""),N=(-1<k.indexOf("InvalidParameter.Rand")||-1<k.indexOf('"Rand" is not valid.')?(u.ErrorCode.EncrptyVideoNotSupport,L=v.get("Error_Encrypt_Fetch_Failed_Text")):-1<k.indexOf("SecurityToken.Expired")?(u.ErrorCode.AuthKeyExpired,L=v.get("Error_Playauth_Expired_Text")):-1<k.indexOf("InvalidVideo.NoneStream")?(u.ErrorCode.URLsIsEmpty,L=v.get("Error_Fetch_NotStream")+"("+w._options.format+"|"+w._options.definition+")"):-1<k.indexOf("DataNotFound")&&(u.ErrorCode.MediaNotFound,L=v.get("Error_Fetch_Media_Not_Found")),w._options.vid||""),N=(w._options.from,{mediaId:N,mediaAuth:w._options.mediaAuth||"",error_code:R,error_msg:k});x.sri&&(N.sri=x.sri),w.logError(N),N.display_msg=L&&L===k?L:(L||v.get("Error_Vod_Fetch_Urls_Text"))+"</br>"+k,w.trigger("error",N),console.log("PrismPlayer Error: "+I+"! error_msg :"+k+";")},t.exports=g},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/ua":53,"../../protected/anti-injector-protected":142,"../audio/audioplayer":75,"../base/event/eventtype":77,"../base/player":102,"../drm/drminjector":110,"../flv/flvinjector":113,"../hls/hlsinjector":115,"../sw/swinjector":140,"./authkeyexpiredhandle":119,"./signature":126}],126:[function(e,t,m){var d=e("crypto-js/hmac-sha1"),o=e("crypto-js/enc-base64"),c=e("crypto-js/enc-utf8");t.exports.randomUUID=function(){for(var u=[],s="0123456789abcdef",r=0;r<36;r++)u[r]=s.substr(Math.floor(16*Math.random()),1);return u[14]="4",u[19]=s.substr(3&u[19]|8,1),u[8]=u[13]=u[18]=u[23]="-",u.join("")},t.exports.returnUTCDate=function(){var h=new Date,u=h.getUTCFullYear(),s=h.getUTCMonth(),r=h.getUTCDate(),n=h.getUTCHours(),a=h.getUTCMinutes(),l=h.getUTCSeconds(),h=h.getUTCMilliseconds();return Date.UTC(u,s,r,n,a,l,h)},t.exports.AliyunEncodeURI=function(u){return u=encodeURIComponent(u),u=(u=(u=u.replace("+","%2B")).replace("*","%2A")).replace("%7E","~")},t.exports.makesort=function(u,s,r){if(!u)throw new Error("PrismPlayer Error: vid should not be null!");var n=[];for(v in u)n.push(v);for(var a=n.sort(),l="",h=a.length,v=0;v<h;v++)l==""?l=a[v]+s+u[a[v]]:l+=r+a[v]+s+u[a[v]];return l},t.exports.makeUTF8sort=function(u,s,r){if(!u)throw new Error("PrismPlayer Error: vid should not be null!");var n=[];for(v in u)n.push(v);for(var a=n.sort(),l="",h=a.length,v=0;v<h;v++){var y=t.exports.AliyunEncodeURI(a[v]),f=t.exports.AliyunEncodeURI(u[a[v]]);l==""?l=y+s+f:l+=r+y+s+f}return l},t.exports.makeChangeSiga=function(u,s,r){if(u)return o.stringify(d((r=r||"GET")+"&"+t.exports.AliyunEncodeURI("/")+"&"+t.exports.AliyunEncodeURI(t.exports.makeUTF8sort(u,"=","&")),s+"&"));throw new Error("PrismPlayer Error: vid should not be null!")},t.exports.ISODateString=function(u){function s(r){return r<10?"0"+r:r}return u.getUTCFullYear()+"-"+s(u.getUTCMonth()+1)+"-"+s(u.getUTCDate())+"T"+s(u.getUTCHours())+":"+s(u.getUTCMinutes())+":"+s(u.getUTCSeconds())+"Z"},t.exports.encPlayAuth=function(u){if(u=c.stringify(o.parse(u)))return JSON.parse(u);throw new Error("playuth参数解析为空")},t.exports.encRsa=function(){},t.exports.stringToArray=function(u){for(var s=new ArrayBuffer(2*u.length),r=new Uint16Array(s),n=0,a=u.length;n<a;n++)r[n]=u.charCodeAt(n);return r},t.exports.Uint8ArrayToString=function(u){for(var s="",r=0;r<u.length;r++)s+=String.fromCharCode(u[r]);return s},t.exports.arrayToString=function(u){return u=new Uint16Array(u.buffer),String.fromCharCode.apply(null,u)},t.exports.base64DecodeUint8Array=function(u){var s=window.atob(u),r=s.length,n=new Uint8Array(new ArrayBuffer(r));for(i=0;i<r;i++)n[i]=s.charCodeAt(i);return n},t.exports.base64EncodeUint8Array=function(u){for(var s,r,n,a,l,h,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y="",f=0;f<u.length;)n=(s=u[f++])>>2,a=(3&s)<<4|(s=f<u.length?u[f++]:Number.NaN)>>4,l=(15&s)<<2|(r=f<u.length?u[f++]:Number.NaN)>>6,h=63&r,isNaN(s)?l=h=64:isNaN(r)&&(h=64),y+=v.charAt(n)+v.charAt(a)+v.charAt(l)+v.charAt(h);return y}},{"crypto-js/enc-base64":8,"crypto-js/enc-utf8":9,"crypto-js/hmac-sha1":10}],127:[function(e,t,m){var d=e("../../lib/constants");t.exports.createError=function(o,c){return{requestId:"",code:c||"",message:o}},t.exports.getItem=function(o){var c={};return c.width=o.Width,c.height=o.Height,c.definition=o.Definition,c.Url=o.PlayURL,c.format=o.Format,c.desc=d.QualityLevels[c.definition],c.encryptionType=d.VodEncryptionType[o.EncryptType],c.plaintext=o.Plaintext,c.rand=o.Rand,c.encrypt=o.Encrypt,c.duration=o.Duration,c.bitrate=o.Bitrate,c},t.exports.objectPlayerMessageSort=function(o,c){for(var u=[],s=[],r=[],n=[],a=o.length-1;0<=a;a--){var l=o[a],l=t.exports.getItem(l);(l.format=="mp4"?s:l.format=="mp3"?r:l.format=="m3u8"?u:n).push(l)}var h=[],h=0<r.length?r:0<s.length?s:0<u.length?u:n;return c=="asc"&&h.reverse(),h}},{"../../lib/constants":33}],128:[function(e,t,m){var d,o,c=e("../../lib/io"),u=e("../../lib/constants"),s=e("./signature"),r=e("./util"),n=e("../../config"),a=e("../../lang/index"),l=e("../base/event/eventtype"),h="saas/vod.js",v=1,y=2,f={MAIN:"main",BACKUP:"backup",CUSTOM:"custom"},S=function(T){return(T||"").split("?")[0]},b={type:f.MAIN,time:0};function _(T,E,w,x){var I=this,R=(this&&(d=this.getOptions().customVodServerFirst,o=this.getOptions().customVodServer),this&&!this._hasRetrySuccess&&b.time===0&&o!=null&&d===!0&&(v=2,y=1,this._useCustomVodServer=!0,b.type=f.CUSTOM),(function(L){var N=s.randomUUID(),N={AccessKeyId:L.accessId,Action:"GetPlayInfo",VideoId:L.vid,Formats:L.format,AuthTimeout:L.authTimeout||u.AuthKeyExpired,Rand:L.rand,SecurityToken:L.stsToken,StreamType:L.mediaType,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:N,PlayerVersion:n.h5Version,Channel:"HTML5"};return L.definition==="AUTO"?N.ResultType="Multiple":L.definition&&(N.Definition=L.definition),L.authInfo&&(N.AuthInfo=L.authInfo),L.outputType&&(N.OutputType=L.outputType),L.playConfig&&(N.PlayConfig=JSON.stringify(L.playConfig)),L.reAuthInfo&&(N.ReAuthInfo=JSON.stringify(L.reAuthInfo)),N=s.makeUTF8sort(N,"=","&")+"&Signature="+s.AliyunEncodeURI(s.makeChangeSiga(N,L.accessSecret)),L=this._useCustomVodServer?(/^https?:\/\//i.test(o)||console.warn("Warning: customVodServer URL is missing protocol (http/https)."),window.location.protocol!=="https:"||/^https:\/\//i.test(o)||console.warn("Error: customVodServer URL must use HTTPS when the page is served over HTTPS."),""+o+(o.includes("?")?"&":"?")+N+"&RegionId="+L.domainRegion):"https://vod"+(this._useBackupVodDomain?"-product":"")+"."+L.domainRegion+".aliyuncs.com/?"+N,L}).call(this,T)),k=performance.now();b.time===0&&this.trigger(l.Private.Timeline,{name:"vod_s",ts:k}),c.get.call(this,R,function(L){g.call(I,R,{status:200}),(function(N,j,U,W,B){var M,C=b.type;if(this.trigger(l.Private.Timeline,{name:"vod_f",ts:performance.now()}),this.traceLog(h,"Vod request ok."+N),b={type:f.MAIN,time:0},N){try{if(M=JSON.parse(N),!(C!==f.CUSTOM||M.VideoBase&&M.PlayInfoList))throw new Error("Invalid VOD response.")}catch{if(this.traceLog(h,"Invalid VOD response."+N,!0),B)return void B(r.createError("点播服务获取数据格式异常",u.ErrorCode.ServerAPIError))}this._monitor2.vodMediaInfo(M);for(var D,C="",N=M.VideoBase.ThumbnailList,A=(N&&N.Thumbnail&&0<N.Thumbnail.length?C=N.Thumbnail[0].URL:j.thumbnailUrl&&(C=String(j.thumbnailUrl)),M.PlayInfoList.PlayInfo),Q=[],ne=[],re=A.length-1;0<=re;--re)A[re].Definition==="AUTO"?(this.getOptions().isVBR=!0,D=A.splice(re,1)[0],Q=[D]):A[re].Encrypt===1&&ne.push(A[re]);N=null,ne=Q.length===0?(N=r.objectPlayerMessageSort(A,U),[]):(N=r.objectPlayerMessageSort(Q),r.objectPlayerMessageSort(ne)),N&&W&&W({requestId:M.RequestId,urls:N,encryptUrlArr:ne,thumbnailUrl:C,coverUrl:M.VideoBase.CoverURL,playInfoAry:A})}else B&&B(r.createError("点播服务获取数据失败"))}).call(I,L,T,E,w,x)},function(L,N,j){if((W=(U=j).status)===0||500<=W&&W<=599&&(U.responseText||"").indexOf("RequestId")===-1){if(W=b.type===f.BACKUP&&2<=b.time&&(o==null||d==1)||b.type===f.CUSTOM&&b.time>=y&&!d,U={url:S(R),status:j.status,response:j.responseText,retryType:b.type,retryTime:b.time,isRetryExhausted:W},I.trigger(l.Private.VodRequestException,U),I._monitor2.vodRequestFatalError(U),5e3<performance.now()-k&&(b.type===f.MAIN?b.time=v:b.type===f.BACKUP&&(b.time=2)),b.type===f.MAIN)return b.time<v?(b.time++,void setTimeout(function(){_.call(I,T,E,w,x)},200)):(b.type=f.BACKUP,b.time=1,void setTimeout(function(){I._useBackupVodDomain=!0,_.call(I,T,E,w,x)},200));if(b.type===f.BACKUP){if(b.time<2)return b.time++,void setTimeout(function(){_.call(I,T,E,w,x)},200);if(I&&(I._useBackupVodDomain=!1),o!=null&&d!=1)return b.type=f.CUSTOM,b.time=1,void setTimeout(function(){I._useCustomVodServer=!0,_.call(I,T,E,w,x)},200)}else if(b.type===f.CUSTOM){if(b.time<y)return b.time++,void setTimeout(function(){_.call(I,T,E,w,x)},200);if(I&&(I._useCustomVodServer=!1),d==1)return b.type=f.MAIN,b.time=1,void setTimeout(function(){_.call(I,T,E,w,x)},200)}}else g.call(I,R,j);var U,W;(function(B,M){if(this.traceLog(h,"Vod request error::"+B),b={type:f.MAIN,time:0},M){var C={Code:"",Message:a.get("Error_Vod_Fetch_Urls_Text")};try{C=JSON.parse(B)}catch{}M({Code:u.ErrorCode.ServerAPIError,Message:C.Code+"|"+C.Message,sri:C.RequestId||""})}}).call(I,L,x)},void 0,void 0,5e3)}function g(T,E){b.time!==0&&(this._hasRetrySuccess=!0,T={url:S(T),status:E?.status,response:E?.status!==200?E?.responseText:"",retryType:b.type,retryTime:b.time},this.trigger(l.Private.VodRequestExceptionResume,T),this._monitor2.vodRequestFatalErrorResume(T))}t.exports.getDataByAuthInfo=_},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../base/event/eventtype":77,"./signature":126,"./util":127}],129:[function(a,t,m){var d=a("./saasplayer"),o=a("../../lib/constants"),c=a("./vod"),u=a("./signature"),s=a("../../lib/io"),r=a("../../config"),n=a("../base/event/eventtype"),a=d.extend({init:function(l,h){d.call(this,l,h),this.service=c,this.loadByVod()}});a.prototype.loadByVod=function(l){var h,v,y;typeof _apesrap<"u"?this._loadByVod(l):(typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),h="aliplayer-vod-p-min.js",v="",v=r.domain?"https://"+r.domain+r.path+r.h5Version+"/hls/"+h:"/build/hls/"+h,this.trigger(n.Private.Timeline,{name:"mod_pa_s",ts:performance.now()}),y=this,s.loadJS(v,function(){y.trigger(n.Private.Timeline,{name:"mod_pa_f",ts:performance.now()}),y._loadByVod(l)}))},a.prototype._loadByVod=function(l){var h="",v="",y="",f="",S="";if(this._options.accessKeyId&&this._options.accessKeySecret)h=this._options.accessKeyId,v=this._options.accessKeySecret,y=this._options.securityToken,f=this._options.region,this.log("STARTFETCHDATA",{it:"sts",pa:{vid:this._options.vid}});else{try{var b=_apesrap(this._options.playauth,this._options.vid),_=(this._vdnct6f=b.v,b.value),g=u.encPlayAuth(_),h=g.AccessKeyId,v=g.AccessKeySecret,y=g.SecurityToken,f=g.Region,S=g.AuthInfo}catch(T){return console.log("e",T),b={Code:o.ErrorCode.PlayauthDecode,Message:"playauth decoded failed.",displayMessage:"playauth解析错误"},void this._mtsError_message(this,b,_)}this._options.from=g.CustomerId||"",this.log("STARTFETCHDATA",{it:"playAuth",pa:{vid:this._options.vid}})}this._loadByVodBySTS(h,v,y,f,S,l)},a.prototype.replayByVidAndPlayAuth=function(l,h){this.trigger("error_hide"),this.setTextTracks([]),this.trigger(n.Private.UserTrackReset),this._options.source="",this._options.vid=l,this._options.playauth=h,this._options._userOptions.vid=l,this._options._userOptions.playauth=h,this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._posOffset=this._getSubVideoConfig().start||0,this._monitor2.playAbort("replayByVidAndPlayAuth",l),this._monitor&&(this._monitor.reportPlayAbort("replayByVidAndPlayAuth"),this._monitor.reset(),this._monitor.startHeartBeat()),this._clearTimeout(),this.loadByVod(!0)},a.prototype.updateSourcesByVidAndPlayAuth=function(l,h){var v,y,f;typeof _apesrap<"u"?this._updateSourcesByVidAndPlayAuth(l,h):(v="aliplayer-vod-p-min.js",y="",y=r.domain?"https://"+r.domain+r.path+r.h5Version+"/hls/"+v:"/build/hls/"+v,f=this,s.loadJS(y,function(){f._updateSourcesByVidAndPlayAuth(l,h)}))},a.prototype._updateSourcesByVidAndPlayAuth=function(l,h){if(l!=this._options.vid)console.log("不能更新地址，vid和播放中的不一致");else{this._options.vid=l,this._options.playauth=h;try{var v=_apesrap(this._options.playauth,this._options.vid),y=(this._vdnct6f=v.v,v.value),f=u.encPlayAuth(y)}catch{return void console.log("playauth解析错误")}var h={vid:l,accessId:f.AccessKeyId,accessSecret:f.AccessKeySecret,stsToken:f.SecurityToken,domainRegion:f.Region,authInfo:f.AuthInfo,playDomain:f.PlayDomain,format:this._options.format,mediaType:this._options.mediaType},S=(this._authKeyExpiredHandle.clearTick(),this);this.service.loadData(h,this._options.qualitySort,function(_){S._serverRequestId=_.requestId,_.urls.length!=0&&(S._urls=_.urls),S._authKeyExpiredHandle.tick(o.AuthKeyRefreshExpired)},function(_){console.log(_)})}},a.prototype.reloaduserPlayInfoAndVidRequestMts=function(l,h){this.replayByVidAndPlayAuth(l,h,accessSecret)},a.prototype._loadByVodBySTS=function(l,h,v,y,f,S){l={vid:this._options.vid,accessId:l,accessSecret:h,stsToken:v,authInfo:f,domainRegion:y,format:this._options.format,mediaType:this._options.mediaType,definition:this._options.definition,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,outputType:this._options.outputType,playConfig:this._options.playConfig,reAuthInfo:this._options.reAuthInfo},this.loadData(l,S)},t.exports=a},{"../../config":19,"../../lib/constants":33,"../../lib/io":45,"../base/event/eventtype":77,"./saasplayer":125,"./signature":126,"./vod":128}],130:[function(e,t,m){function d(c){this._player=c,this._video=c.tag;var u=this;this._isCreated=!1,this._canPlayTriggered=!1,this._defaultTrack="",c.on(o.Private.ChangeURL,function(){u._isCreated=!1,u._canPlayTriggered=!1,u._defaultTrack=""}),c.on(o.Player.CanPlay,function(){var s;u._player._drm||u._canPlayTriggered||((s=u._getTracks())&&(u._isCreated=!0,u._player._options.isVBR||u._hls||(c.trigger(o.Player.AudioTrackReady,s),u._notifyDefaultValue(s))),u._canPlayTriggered=!0)}),c.on(o.Player.AudioTrackUpdated,function(s){u._isCreated||(s=u._getTracks(s.paramData.audioTracks))&&(u._isCreated=!0,c.trigger(o.Player.AudioTrackReady,s),u._notifyDefaultValue(s))})}var o=e("../base/event/eventtype");d.prototype._notifyDefaultValue=function(c){!this._defaultTrack&&0<c.length&&(this._defaultTrack=c[0]),this._defaultTrack&&this._player.trigger(o.Private.SelectorUpdateList,{type:"audio",text:this._defaultTrack.text})},d.prototype.support=function(){return!!this._video.audioTracks},d.prototype._getTracks=function(c){if(!this.support()&&!c)return null;for(var u=[],s=(c=!this._video||!this._video.audioTracks||c&&c.length!=0?c:this._video.audioTracks)?c.length:0,r=0;r<s;r++){var n=c[r],a={value:n.id,text:n.label||n.name||n.language};(n.default||n.enabled)&&(this._defaultTrack=a),u.push(a)}return u},d.prototype.switch=function(c){if(this._player._hls)this._player._hls.audioTrack=+c;else if(this._player._switchAudioTrack)this._player._switchAudioTrack(c);else for(var u=this._video.audioTracks?this._video.audioTracks.length:0,s=0;s<u;s++){var r=this._video.audioTracks[s];r.id==c?r.enabled=!0:r.enabled=!1}},d.prototype.dispose=function(){this._player=null},t.exports=d},{"../base/event/eventtype":77}],131:[function(e,t,m){function d(a){this._video=a.tag,this._player=a,this._isCreated=!1,this._backupCC="",this.tracks=[],this._defaultTrack="",this._currentValue="",this._switchTimer=null,this._storedTracks=[];var l=this,h=(a.on(o.Player.LevelsLoaded,function(v){a.getOptions().useDrm2||(u.IS_MAC_SAFARI||u.IS_IOS)&&(v&&v.paramData&&v.paramData.subtitles&&v.paramData.subtitles.length?l._storedTracks=v.paramData.subtitles||[]:l._resotreTracks())}),a.on(o.Private.SafariDrmLevelSwitch,function(){l._resotreTracks()}),a.on(o.Private.ChangeURL,function(v){v&&v.paramData&&v.paramData.from==="saas"||(l._disabledTracks(),l._isCreated=!1,l._defaultTrack="",l._backupCC="")}),a.on(o.Private.VttClearTracks,function(){l.switch("off"),l._disabledTracks(),l._isCreated=!1,l._defaultTrack={value:"off",text:"Off"},l.tracks=[l._defaultTrack],a.trigger(o.Private.SelectorGenerateList,{type:"cc"}),a.trigger(o.Private.CCStateChanged,{value:"off",lang:""})}),a.on(o.Player.CanPlay,function(){l._isCreated||(l.tracks=l._getTracks(),a.trigger(o.Player.TextTrackReady,l.tracks),a.trigger(o.Private.CCReset)),l._isCreated&&!l._player._setDefaultCC||!l._defaultTrack||(a.trigger(o.Private.SelectorUpdateList,{type:"cc",text:l._defaultTrack.text}),l.switch(l._defaultTrack.value),l._player._setDefaultCC=!1,l._isCreated=!0)}),u.os.ios&&parseFloat(u.os.version)<=15.1&&c.addCssByStyle("video::-webkit-media-text-track-container{position: relative; top: -44px !important;}"),a.getOptions().controlBarVisibility==="always"&&c.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}"),n.throttle(function(){a._vttBroker&&a._vttBroker.enabled||c.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}")},100)),h=(a.on(o.Private.ShowBar,h),n.throttle(function(){a._vttBroker&&a._vttBroker.enabled||c.addCssByStyle("video::-webkit-media-text-track-container{transform: none;}")},100));a.on(o.Private.HideBar,h),a.on(o.Private.CCReset,function(){l._updateSelectorList()})}var o=e("../base/event/eventtype"),c=(e("../../lib/event"),e("../../lib/dom")),u=e("../../lib/ua"),s=e("../../lib/cookie"),r=e("../../lib/constants"),n=e("../../ui/component/util");d.prototype._adaptiveCueStype=function(){var a,l=-10;u.IS_SAFARI?(l=-65,(a=this._player.fullscreenService)&&a.getIsFullScreen()&&(l=-95)):u.IS_MOBILE&&(l=-30),c.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY("+l+"px) !important;}")},d.prototype.close=function(){for(var a=this.getTextTracks(),l=a.length,h=0;h<l;h++){var v=a[h];v.mode!="expired"&&(v.mode=="showing"&&(this._backupCC=v),v.mode="disabled",this._player._switchDrmTextTrack)&&this._player._switchDrmTextTrack()}this._player.trigger(o.Private.VttHide)},d.prototype.open=function(){var a,l,h;return!this.tracks||this.tracks.length<2||(l=this._backupCC?this._backupCC.language:"",h=this._backupCC?this._backupCC.label:"",this.tracks.forEach(function(v){l===v.value&&(a=!0)}),(l=a?l:h="")||(l=this.tracks[1].value,h=this.tracks[1].text),this.switch(l)),{label:h,language:l}},d.prototype.getCurrentSubtitle=function(){return this._currentValue},d.prototype._getTracks=function(){for(var a=this.getTextTracks(),l=a.length,h=(this._defaultTrack={value:"off",text:"Off"},[this._defaultTrack]),v=s.get(r.SelectedCC),y="",f=!1,S=0;S<l;S++){var b,_=a[S];_.mode=="expired"||_.kind!="subtitles"&&_.kind!="captions"||(b={value:_.language,text:_.label},_.default&&(this._defaultTrack=b,f=!0),b.value==v&&(y=b),h.push(b))}return!f&&y&&(this._defaultTrack=y),h},d.prototype._disabledTracks=function(){for(var a=this.getTextTracks(),l=a.length,h=0;h<l;h++)a[h].mode="expired"},d.prototype.switch=function(a){var l=this._player;if(this.close(),a!="off")for(var h=this.getTextTracks(),v=h.length,y=0;y<v;y++){var f=h[y];f.language===a&&f.mode!="expired"&&(l._switchDrmTextTrack&&l._switchDrmTextTrack(a),h[y].mode="showing",l.trigger(o.Private.VttSwitchTrack,f.language))}else this.close();this._currentValue=a,l.trigger(o.Private.CCChanged,a)},d.prototype.updateUI=function(a){var l=this._player,h="on",v="";v=a?(this.tracks.find(function(y){return y.value===a})||{}).text||"":(h="off","Off"),l.trigger(o.Private.CCChanged,h),l.trigger(o.Private.CCStateChanged,{value:h,lang:v})},d.prototype.dispose=function(){this._player=null,this._switchTimer&&(clearTimeout(this._switchTimer),this._switchTimer=null)},d.prototype._patchSafariTracks=function(){var a=this;if(u.IS_MAC_SAFARI||u.IS_IOS){if(!(this._video&&this._video.textTracks&&this._video.textTracks.length)){var l=!1;if(l=this._video.textTracks&&this._video.textTracks.length?!0:l)return;for(var h=0;h<this._storedTracks.length;h++){var v=this._storedTracks[h],y=v.vttUrl,f=document.createElement("track");f.src=y,f.kind="subtitles",f.label=v.name,f.srclang=v.lang,this._video.appendChild(f)}}this._switchTimer&&clearTimeout(this._switchTimer),this._switchTimer=setTimeout(function(){var S=a.getCurrentSubtitle();S&&S!=="off"&&a.switch(S)},1e3)}},d.prototype.getTextTracks=function(){var a=this._player,l=a.tag;return a._vttBroker&&a._vttBroker.enabled&&a.getTextTracks?a.getTextTracks()||[]:a._getDrmTextTracks?a._getDrmTextTracks()||[]:l&&l.textTracks||[]},d.prototype._updateSelectorList=function(){var a=this._player;this.tracks=this._getTracks(),a.trigger(o.Private.SelectorGenerateList,{type:"cc",value:"Off"})},d.prototype._resotreTracks=function(){this._patchSafariTracks(),this.tracks=this._getTracks(),this._player.trigger(o.Player.TextTrackReady,this.tracks)},t.exports=d},{"../../lib/constants":33,"../../lib/cookie":34,"../../lib/dom":37,"../../lib/event":38,"../../lib/ua":53,"../../ui/component/util":173,"../base/event/eventtype":77}],132:[function(e,t,m){var d=e("../../lib/playerutil");t.exports=[{service:e("./ccservice"),name:"_ccService",condition:!0},{service:e("./audiotrackservice"),name:"_audioTrackService"},{service:e("./qualityservice"),name:"_qualityService"},{service:e("./fullscreenservice"),name:"fullscreenService",condition:function(){return!0}},{service:e("./liveshiftservice"),name:"_liveshiftService",condition:function(){var o=this.options();return d.isLiveShift(o)}},{service:e("./thumbnailservice"),name:"_thumbnailService",condition:function(){return!0}},{service:e("./progressmarkerservice"),name:"_progressMarkerService",condition:function(){return!0}}]},{"../../lib/playerutil":50,"./audiotrackservice":130,"./ccservice":131,"./fullscreenservice":133,"./liveshiftservice":134,"./progressmarkerservice":135,"./qualityservice":136,"./thumbnailservice":137}],133:[function(e,t,m){function d(l){var h=this,v=(this.isFullWindow=!1,this.isFullScreen=!1,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer=null,this._player=l,this),y=r;this._fullscreenChanged=function(f){var S;v._player!=null&&(f.target||f.srcElement)===(f=v._player.el())&&(S=document[y.fullscreenElement],v.isFullScreen=S===f,(v.isFullScreenChanged=!0)===v.isFullScreen?v._player.trigger(s.Player.RequestFullScreen):v._player.trigger(s.Player.CancelFullScreen))},y&&u.on(document,y.eventName,this._fullscreenChanged),u.on(l.tag,"webkitendfullscreen",function(f){f=f.target||f.srcElement,l&&l.tag===f&&(h.isFullScreenChanged=!0,h.isFullScreen=!1,h._player.trigger(s.Player.CancelFullScreen),h._player.trigger(s.Private.Play_Btn_Show))})}var o=e("../../lib/ua"),c=e("../../lib/dom"),u=e("../../lib/event"),s=e("../base/event/eventtype"),r=(e("../base/x5play"),e("../../lang/index"),(()=>{c.createEl("div");var l={},h=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullScreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitfullScreen"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitIsFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","mozFullScreen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","MSFullScreen"]],v=!1;if(!(v=o.IS_IOS&&(l.requestFn="webkitEnterFullscreen",l.cancelFn="webkitExitFullscreen",l.fullscreenElement="webkitFullscreenElement",l.eventName="webkitfullscreenchange",l.isFullScreen="webkitDisplayingFullscreen",document[l.requestFn])?!0:v)){for(var y=0;y<5;y++)if(h[y][1]in document){l.requestFn=h[y][0],l.cancelFn=h[y][1],l.fullscreenElement=h[y][2],l.eventName=h[y][4],l.isFullScreen=h[y][6];break}"requestFullscreen"in document?l.requestFn="requestFullscreen":"webkitRequestFullscreen"in document?l.requestFn="webkitRequestFullscreen":"webkitRequestFullScreen"in document?l.requestFn="webkitRequestFullScreen":"webkitEnterFullscreen"in document?l.requestFn="webkitEnterFullscreen":"mozRequestFullScreen"in document?l.requestFn="mozRequestFullScreen":"msRequestFullscreen"in document&&(l.requestFn="msRequestFullscreen"),"fullscreenchange"in document?l.eventName="fullscreenchange":"webkitfullscreenchange"in document||"webkitfullscreenchange"in document||"webkitfullscreenchange"in document?l.eventName="webkitfullscreenchange":"mozfullscreenchange"in document?l.eventName="mozfullscreenchange":"MSFullscreenChange"in document&&(l.eventName="MSFullscreenChange"),"fullScreen"in document?l.isFullScreen="fullScreen":"webkitfullScreen"in document?l.isFullScreen="webkitfullScreen":"webkitIsFullScreen"in document?l.isFullScreen="webkitIsFullScreen":"webkitDisplayingFullscreen"in document?l.isFullScreen="webkitDisplayingFullscreen":"mozFullScreen"in document?l.isFullScreen="mozFullScreen":"mozfullScreen"in document?l.isFullScreen="mozfullScreen":"MSFullScreen"in document&&(l.isFullScreen="MSFullScreen"),"fullscreenElement"in document?l.fullscreenElement="fullscreenElement":"webkitFullscreenElement"in document?l.fullscreenElement="webkitFullscreenElement":"webkitFullScreenElement"in document?l.fullscreenElement="webkitFullScreenElement":"mozFullScreenElement"in document?l.fullscreenElement="mozFullScreenElement":"msFullscreenElement"in document?l.fullscreenElement="msFullscreenElement":"MSFullscreenElement"in document&&(l.fullscreenElement="MSFullscreenElement")}return l.requestFn?l:null})()),n=(d.prototype.requestFullScreen=function(){var l=r,h=this._player.el(),v=this;if(o.IS_IOS){var y=this._player._splayer;if(!y||y.renderType!==2){h=this._player.tag,y&&y.renderType!==2&&(h=this._player.el().querySelector("video"));try{var f=h[l.requestFn]();f&&typeof f.catch=="function"&&f.catch(function(b){console.log(b)}),v._player.trigger(s.Player.RequestFullScreen)}catch(b){console.log(b)}return this}this._player._options.enableMockFullscreen=!0}if(this.isFullScreen=!0,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer||clearTimeout(this._cancelFullScreenTimer),v=this,l&&!this._player._options.enableMockFullscreen)try{var S=h[l.requestFn]();S&&typeof S.catch=="function"&&S.catch(function(b){console.log(b)}),this._requestFullScreenTimer=setTimeout(function(){v.isFullScreenChanged||(n.apply(v),v._player.trigger(s.Player.RequestFullScreen)),v._requestFullScreenTimer=null},1e3)}catch(b){console.log(b)}else n.apply(v),this._player.trigger(s.Player.RequestFullScreen);return this._player},d.prototype.cancelFullScreen=function(){var l=r,h=(this.isFullScreen=!1,this.isFullScreenChanged=!1,this._cancelFullScreenTimer=null,this._requestFullScreenTimer||clearTimeout(this._requestFullScreenTimer),this);if(l&&!this._player._options.enableMockFullscreen){try{var v=document[l.cancelFn]();v&&typeof v.catch=="function"&&v.catch(function(y){console.log(y)})}catch(y){console.log(y)}h._cancelFullScreenTimer=setTimeout(function(){h.isFullScreenChanged||(a.apply(h),h._player.trigger(s.Player.CancelFullScreen)),h._cancelFullScreenTimer=null},500)}else a.apply(h),this._player.trigger(s.Player.CancelFullScreen);return this._player.tag.paused||this._player.trigger(s.Player.Play),this._player},d.prototype.getIsFullScreen=function(){return this.isFullScreen},d.prototype.dispose=function(){this._player=null,r&&u.off(document,r.eventName,this._fullscreenChanged)},function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",c.addClass(document.getElementsByTagName("body")[0],"prism-full-window")}),a=function(){this.isFullWindow=!1,document.documentElement.style.overflow=this.docOrigOverflow,c.removeClass(document.getElementsByTagName("body")[0],"prism-full-window")};t.exports=d},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../lib/ua":53,"../base/event/eventtype":77,"../base/x5play":107}],134:[function(e,t,m){function d(y,f){var S;if(y)return y=new Date(y),S=(f=new Date(f)).valueOf()/1e3-y.valueOf()/1e3,{start:y,end:f,endDisplay:s.extractTime(f),totalTime:S}}function o(y,f){f&&(y.currentTimestamp=f,y.currentTime=s.convertToDate(f),y.currentTimeDisplay=s.extractTime(y.currentTime),y.liveShiftStart=y.liveTimeRange.start,y.liveShiftEnd=y.liveTimeRange.end,y.liveShiftStartDisplay=s.extractTime(y.liveShiftStart),y.liveShiftEndDisplay=s.extractTime(y.liveShiftEnd),y.availableLiveShiftTime=f-y.liveShiftStart.valueOf()/1e3,y.timestampStart=s.convertToTimestamp(y.liveShiftStart),y.timestampEnd,s.convertToTimestamp(y.liveShiftEnd))}function c(y){function f(){var b=y._options.source;this._originalPlayUrl=b,this._liveShiftUrl=y._options.liveTimeShiftUrl,this.liveTimeRange=d(y._options.liveStartTime,y._options.liveOverTime),this.availableLiveShiftTime=0,this.seekTime=-1}this._player=y,this._isLiveShiftPlaying=!1;var S=this;f.call(this),y.liveShiftSerivce={setLiveTimeRange:function(b,_){S.setLiveTimeRange(b,_)},queryLiveShift:function(b,_,g){S.queryLiveShift(b,_,g)},isLiveShiftPlaying:function(){return S._isLiveShiftPlaying}},y.on(v.Private.ChangeURL,function(){f.call(S)})}var u=e("../../lib/io"),s=e("../../lib/util"),r=e("../../lib/playerutil"),n=e("../../lang/index"),a=e("../flv/flvinjector"),l=e("../hls/hlsinjector"),h=e("../../lib/constants"),v=e("../base/event/eventtype");e("../../lib/url"),c.prototype.validate=function(){return!(this.liveTimeRange.start>=this.liveTimeRange.end)},c.prototype.switchToLive=function(){this.seekTime=-1;var y=this._originalPlayUrl,f=this._player._options.liveShiftSource,S=this._player._options.source;r.isHls(S)&&r.isFlv(y)&&f&&r.isHls(f)&&(this._player._hls&&this._player._destroyHls(),S=this._player._superType,f=this._player._Type,this._player._options._autoplay=!0,a.inject(this._player,f,S,this._player._options,"",!0)),this._player._loadByUrlInner(y,null,!0),this._isLiveShiftPlaying=!1,this._player.trigger(v.Private.LiveShiftSwitchToLive)},c.prototype.getBaseTime=function(){return this.liveShiftStartDisplay,this.seekTime==-1?s.parseTime(this.currentTimeDisplay):s.parseTime(this.liveShiftStartDisplay)+this.seekTime},c.prototype.getSourceUrl=function(y,f){var S=this._originalPlayUrl;return this.availableLiveShiftTime<y||(this._isLiveShiftPlaying=!0,y=parseInt(y),S=(S=this._switchLiveShiftPlayer(f))&&this._cleanUrl(S),f=parseInt(this.currentTimestamp)-y,(S=S.indexOf("?")==-1?S+"?lhs_start_unix_s_0="+f:S+"&lhs_start_unix_s_0="+f).indexOf("aliyunols=on")===-1&&(S+="&aliyunols=on"),S.indexOf("continue=on")===-1&&(S+="&continue=on")),S},c.prototype._cleanUrl=function(y){var f;return y.indexOf("?")===-1?y:(y=(y=(f=y.split("?"))[1])&&((y=y.replace(/&?lhs_start_unix_s_0=[0-9]*/g,"")).indexOf("&")===0?y.replace("&",""):y))?f[0]+"?"+y:f[0]},c.prototype._switchLiveShiftPlayer=function(y){var f,S=this._originalPlayUrl,b=this._player._options.liveShiftSource,_=this._player._options.source;if(r.isHls(_))S=_;else if(r.isFlv(S)&&b&&r.isHls(b))return this._player._flv&&this._player._destroyFlv(),_=this._player._superType,f=this._player._Type,this._player._options._autoplay=!0,l.inject(this._player,f,_,this._player._options,"",!0),b;return S},c.prototype.getTimeline=function(y,f){var S;this._player.trigger(v.Private.LiveShiftQueryCompleted),this._liveShiftUrl?(S=this).queryLiveShift(this._liveShiftUrl,function(b){b?(b=b).retCode==0?(o(S,b.content.current),y&&y()):f({Code:h.ErrorCode.ServerAPIError,Message:b.retCode+"|"+b.description+"|"+b.content}):console.log("获取直播时移数据失败")},function(b){if(f&&b){var _={};if(b){if(typeof b=="string"&&-1<b.indexOf("403 Forbidden"))_.Code=h.ErrorCode.AuthKeyExpired,_.Message="Query liveshift failed:"+n.get("Error_AuthKey_Text");else{var g,_=b;try{g=JSON.parse(b)}catch{}g&&(_.Code=h.ErrorCode.ServerAPIError,_.Message=g.retCode+"|"+g.description+"|"+g.content)}f(_)}}}):(o(this,new Date().valueOf()/1e3),y&&y())},c.prototype.start=function(y,f){var S=this,b=function(){S._loopHandler&&clearTimeout(S._loopHandler),S._loopHandler=setTimeout(function(){S.getTimeline(function(){},f),b()},y)};S.getTimeline(function(_){S._localLiveTimeHandler||S.tickLocalLiveTime()},f),b()},c.prototype.tickLocalLiveTime=function(){function y(){f._localLiveTimeHandler=setTimeout(function(){f.currentTimestamp++,o(f,f.currentTimestamp),f._player.trigger(v.Private.LiveShiftQueryCompleted),y()},1e3)}var f=this;y()},c.prototype.setLiveTimeRange=function(y,f){y=y||this._player._options.liveStartTime,f=f||this._player._options.liveOverTime,this.liveTimeRange=d(y,f),o(this,this.currentTimestamp),this._player.trigger(v.Private.LiveShiftQueryCompleted)},c.prototype.queryLiveShift=function(y,f,S){u.get(y,function(b){var _;b?(_=JSON.parse(b)).retCode==0?f&&f(_):S&&S(_):S&&S(b)},function(b){S&&S(b)})},c.prototype.stop=function(y){this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null)},c.prototype.dispose=function(){this.stop(),this._localLiveTimeHandler&&(clearTimeout(this._localLiveTimeHandler),this._localLiveTimeHandler=null),this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null),this._player=null},t.exports=c},{"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/url":54,"../../lib/util":55,"../base/event/eventtype":77,"../flv/flvinjector":113,"../hls/hlsinjector":115}],135:[function(e,t,m){function d(s){function r(){var a=document.querySelector("#"+s.id()+" .prism-progress-marker");if(a){a.innerHTML="";var l=n._player.getDuration();if(0<l){for(var h=0;h<n.progressMarkers.length;h++){var v,y=n.progressMarkers[h];y.offset!==void 0&&y.offset!==""&&(y=document.createElement("div"),c.addClass(y,"prism-marker-dot"),v=n.progressMarkers[h].offset/l,y.style.left=100*v+"%",a.appendChild(y),v=((S,b)=>function(){n._player.trigger(o.Private.MarkerTextShow,{left:S,progressMarker:b})})(v,n.progressMarkers[h]),u.on(y,"mouseover",v),u.on(y,"mouseout",function(S){n._player.trigger(o.Private.MarkerTextHide)}),u.on(y,"touchstart",v),u.on(y,"mousemove",function(S){S.preventDefault()}),u.on(y,"touchmove",function(S){S.preventDefault()}))}var f=document.querySelector("#"+n._player.id()+" .prism-progress-cursor");n._player.on(f,"click",function(S){for(var b=n._player.getCurrentTime(),_=0;_<n.progressMarkers.length;_++){var g,T=n.progressMarkers[_];T&&b-1<T.offset&&T.offset<b+1&&(g=T.offset/l*100+"%",n._player.trigger(o.Private.MarkerTextShow,{left:g,progressMarker:T}))}})}}}this.progressMarkers=[],this._player=s;var n=this;s.on(o.Private.ProgressMarkerLoaded,function(a){a=a.paramData,a&&0<a.length&&(n.progressMarkers=a)}),s.on(o.Private.ProgressMarkerChanged,function(a){a=a.paramData,a&&0<a.length&&(n.progressMarkers=a,r())}),s.on(o.Video.LoadedMetadata,r)}var o=e("../base/event/eventtype"),c=(e("../../lang/index"),e("../../lib/hls/hlsparse"),e("../../lib/object"),e("../../lib/dom")),u=e("../../lib/event");e("../../lib/playerutil"),d.prototype.dispose=function(){this._player=null,this.progressMarkers=[]},t.exports=d},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../lib/hls/hlsparse":43,"../../lib/object":47,"../../lib/playerutil":50,"../base/event/eventtype":77}],136:[function(e,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(h){for(var v=1;v<arguments.length;v++){var y,f=arguments[v];for(y in f)!{}.hasOwnProperty.call(f,y)||(h[y]=f[y])}return h}).apply(null,arguments)}function o(h){this.levels=[],this.drmUrl={},this._player=h;var v=this;h.on(c.Private.PlayInfoLoaded,function(y){for(var f=y.paramData.encryptUrlArr||[],S=[],b=0;b<f.length;b++){var _=f[b];_.encryptionType===a.VodEncryptionType["Widevine-FairPlay"]&&S.push(_)}v.drmUrl=S}),h.on(c.Player.LevelsLoaded,function(y){if(0<v.levels.length&&(v.levels=[]),(y=y.paramData)&&y.levels){for(var f,S=y.levels.length-1;-1<S;S--){var b,_=y.levels[S];_.url&&0<_.url.length&&_.attrs&&_.attrs.BANDWIDTH&&(b=_.url,r.isArray(b)&&(b=b[0]),b={Url:b=!h._hls&&h._options.isVBR&&h._options.isDrm&&h._options.vid?l.call(v,_):b,desc:Math.min(_.width,_.height),bitrate:_.bitrate,resolution:_.attrs.RESOLUTION,bandwidth:_.attrs.BANDWIDTH},v.levels.push(b))}h._options.definition==="AUTO"&&(h._urls=[],Object.assign(h._urls,this.levels)),v.levels.sort(function(g,T){return(g.bitrate||g.desc)-(T.bitrate||T.desc)}),v.levels=((g,T)=>typeof T=="function"?g.map(function(E){return d({},E,{desc:T({bandwidth:Number(E.bandwidth),bitrate:Number(E.bitrate),width:Number(E.resolution.split("x")[0]),height:Number(E.resolution.split("x")[1])})})}):g.map(function(E){return d({},E,{desc:E.desc+"p@"+parseInt(E.bitrate/1e3)+"k"})}))(v.levels,h._options.bitrateDisplayHandler),(v.levels&&0<v.levels.length||h._drm&&h._options.useDrm2)&&this._player._options.isVBR&&(f=u.get("Auto"),v.levels.push({Url:y.url,desc:f}),h.trigger(c.Private.SelectorUpdateList,{type:"quality",text:f}))}}),h.on(c.Video.LoadStart,function(){var y,f,S;h._options&&(y=h._options.source,f=h._options.isVBR,S=h._options.useDrm2,!h._hls)&&y&&n.isHls(y)&&(h._manuallySwitchDrmLevel?(h._manuallySwitchDrmLevel=!1,h.trigger(c.Private.SafariDrmLevelSwitch)):(f||h._drm&&!S)&&v.loadLevels(y))})}var c=e("../base/event/eventtype"),u=e("../../lang/index"),s=e("../../lib/hls/hlsparse"),r=e("../../lib/object"),n=e("../../lib/playerutil"),a=e("../../lib/constants");function l(h){for(var v,y=this.drmUrl,f=0;f<this.drmUrl.length;f++)if(Number(h.height)===Number(y[f].height)){v=y[f].Url;break}return v}(o.prototype={loadLevels:function(h){var v=new s,y=this;v.load(h,function(f){var S;(S=f.subtitles)!=null&&S.forEach(function(b){v.loadMediaPlaylist({url:b.url},function(_){_=_.fragments[0],_&&(b.vttUrl=v.resolve(_.relurl,_.baseurl))},function(_){console.log("parse vtt url error: ",_)})}),y._player._created?y._player.trigger(c.Player.LevelsLoaded,f):y._player.one(c.Private.Created,function(){y._player.trigger(c.Player.LevelsLoaded,f)})})}}).dispose=function(){this._player=null},t.exports=o},{"../../lang/index":28,"../../lib/constants":33,"../../lib/hls/hlsparse":43,"../../lib/object":47,"../../lib/playerutil":50,"../base/event/eventtype":77}],137:[function(e,t,m){function d(r){this._player=r,this.cues=[],this.baseUrl="";var n=this;r.on(s.Private.ChangeURL,function(){n.cues=[],n.baseUrl=""})}var o=e("../../lib/io"),c=e("../../lib/url"),u=e("../../lib/vtt/thumbnailvtt"),s=e("../base/event/eventtype");(d.prototype={get:function(r){var n,a,l,h=this;this.baseUrl=(n=r,a="",(l=c.parseUrl(n))&&(l=l.segments)&&0<l.length&&(l=l[l.length-1],a=n.split("?")[0].replace(l,"")),a),o.get(r,function(v){v&&u.parse(v,function(y){h.cues=y,h._player.trigger(s.Private.ThumbnailLoaded,y)})},function(v){console.log(v)})},findAvailableCue:function(r){for(var n=this.cues.length,a=0;a<n;a++){var l=this.cues[a];if(l.startTime<=r&&r<l.endTime)return l}return null},makeUrl:function(r){return r=r.indexOf("://")==-1?this.baseUrl+r:r}}).dispose=function(){this._player=null},t.exports=d},{"../../lib/io":45,"../../lib/url":54,"../../lib/vtt/thumbnailvtt":56,"../base/event/eventtype":77}],138:[function(e,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(T){for(var E=1;E<arguments.length;E++){var w,x=arguments[E];for(w in x)!{}.hasOwnProperty.call(x,w)||(T[w]=x[w])}return T}).apply(null,arguments)}var o=e("../base/player"),c=e("./splayerinjector"),u=e("../flv/flvinjector"),s=e("../hls/hlsinjector"),r=e("../../lib/playerutil"),n=e("../base/event/eventtype"),a=e("../../lib/constants"),l=e("../../lib/codec-probe"),h=e("../../lib/ua"),v=a.USER_EVENT_NAME,y=r.isH265Codec,f=r.isH266Codec,S=r.getVideoTrack,b={},_={codecCost:0,decoderCost:0},g=o.extend({init:function(T,E){var w,x=this,I=(this._options=E,r.isFlv(E.source,E.format)),R=r.isHls(E.source,E.format),k=this._extraMultiSources(),L={};function N(){I?(u.inject(this,g,o,E),E._native=!1):R&&!r.canPlayHls()&&(s.inject(this,g,o,E),E._native=!1),o.call(this,T,E),this._monitor&&this._monitor.updateH265ProbeInfo(d({},_,b)),U.call(this),b.codecTag&&c.reportH265PlayInfo.call(this,{renderType:"native",codecTag:b.codecTag})}function j(){E._native=!1,c.inject(this,g,o,E,b),o.call(this,T,E),this._monitor&&this._monitor.updateH265ProbeInfo(d({},_,b,{waitRenderType:!0})),U.call(this)}function U(){var W,B,M=this,C=L,D=this[v];D&&(C=Object.assign({},L,D),W=Object.keys(L),B=Object.keys(D),W.forEach(function(A){-1<B.indexOf(A)&&(C[A]=L[A].concat(D[A]))})),Object.keys(C).forEach(function(A){C[A].forEach(function(Q){Q.binded||o.prototype.on.call(M,A,Q)})})}L[n.Player.Ready]=[function(){x._setupSourceList(k),x.trigger(n.Private.SelectorGenerateList,{type:"quality"})}],E.from==="zhihu"||E.forceH265||E.forceH266?j.call(this):h.IS_ANDROID&&h.dingTalk()&&!I?N.call(this):(w=performance.now(),l(E.source,E,function(M){_.codecCost+=performance.now()-w;var B,M=S(M.tracks),C=(M||{}).codecTag||((C=(M||{}).codec)==null?void 0:C.split(".")[0]);b.codecTag=C,M&&y(C)?(B=performance.now(),I||R&&!r.canPlayHls()?(_.decoderCost+=performance.now()-B,j.call(x)):r.shouldUseBasePlayer({codecTag:C,url:E.source},function(D){_.decoderCost+=performance.now()-B,(D?N:j).call(x)})):(M&&f(C)?j:N).call(x)},function(W){console.log("error in demuxer, fallback to basePlayer",W),_.codecCost+=performance.now()-w,N.call(x),c.checkProtocol.call(x,E.source)}))}});t.exports=g},{"../../lib/codec-probe":31,"../../lib/constants":33,"../../lib/playerutil":50,"../../lib/ua":53,"../base/event/eventtype":77,"../base/player":102,"../flv/flvinjector":113,"../hls/hlsinjector":115,"./splayerinjector":139}],139:[function(e,t,m){function d(){return(d=Object.assign?Object.assign.bind():function(_){for(var g=1;g<arguments.length;g++){var T,E=arguments[g];for(T in E)!{}.hasOwnProperty.call(E,T)||(_[T]=E[T])}return _}).apply(null,arguments)}var o=e("../../lib/io"),c=e("../base/event/eventtype"),u=e("../base/event/eventmanager"),s=(e("../../lib/event"),e("../../lib/util")),r=e("../../lib/dom"),n=e("../../lib/playerutil"),a=e("../../lib/constants"),l=e("../../lang/index"),h="splayerinjector.js";function v(_){var g=this._options,T=(S.call(this),(function(){n.isVideoTag(this.tag)&&(u.offVideoAll(this),this.tag.parentNode&&this.tag.parentNode.removeChild(this.tag),this.tag=null)}).call(this),Videox.Videox),E=g.splayerWasmDomain,E=(!E&&g.assetPrefix&&(E=g.assetPrefix+"/splayer"),new T(d({container:this._el,wasmDomain:E,progressive:!0,skipFrame:T.DiscardType.NONE,loop:g.rePlay,controls:!1,muted:!1,threads:g.h265Threads,simd:g.h265Simd,autoplay:g.autoplay||g._autoplay,live:g.isLive,poster:g.cover||void 0,src:g.source,trackOptions:{disable:!0},preload:g.preload?"auto":"none",timeout:1e3*g.waitingTimeout},g.splayerOptions||{}))),w=(g.debug&&(E.setLogLevel(T.LogLevel.LOG),E.setLogPrintLevel(T.LogLevel.LOG)),this._splayer=E,(this.tag=E).play),x=this;this.tag.play=function(){x._monitor&&x._monitor.reportStartPlay(),w.call(this)},(function(){var I,R=this,k=document.createElement("video");for(I in k)(L=>{R.tag[L]||L.indexOf("on")===0||typeof k[L]!="function"||(R.tag[L]=function(){console.warn("Function ["+L+"] is called on splayer, which should be a mistake."),k[L].apply(k,arguments)})})(I)}).call(this),(function(I){var R=this,k=(u.onAll(this),this._splayer);k.addEventListener("error",(function(L){var N,j,U,M=Videox.Videox,W=(L||{}).detail,B=Number((W||{}).code),M=M.ErrorCode;switch(this.traceLog(h,"splayer-error::"+B,!0),B){case M.WASM_NOT_SUPPORTED:case M.CANVAS_NOT_SUPPORTED:case M.AUDIOCONTEXT_NOT_SUPPORTED:case M.WORKER_NOT_SUPPORTED:case M.WEBGL_NOT_SUPPORTED:N=a.ErrorCode.SplayerEnvCheckError,j=l.get("Splayer_Err_Env_Check")+" | "+y(W);break;case M.DECODE:N=a.ErrorCode.SplayerDecodeError,j=l.get("Splayer_Err_Decode")+" | "+y(W);break;case M.NETWORK:N=a.ErrorCode.NetworkError,j=l.get("Error_Network_Text")+" | "+y(W);var C=(W.origin||{}).response;C?(C=C.status)===404?(N=a.ErrorCode.NotFoundSourceURL,j=l.get("Error_Not_Found")+" | "+y(W),U=l.get("Tip_Err_Not_found")):C===403&&(N=a.ErrorCode.AuthKeyExpired,j=l.get("Error_AuthKey_Text")+" | "+y(W)):navigator.onLine&&(N=a.ErrorCode.RequestDataError,j=j+"，"+l.get("Maybe_Cors_Error"));break;case M.PARSER:N=a.ErrorCode.SplayerParserNotFound,j=l.get("Splayer_Err_Parser_Not_Found")+" | "+y(W);break;default:N=a.ErrorCode.OtherError,j="(SP)"+l.get("Error_Play_Text")+" | "+y(W)}if(U=U||l.get("Tip_Err_Splayer")+'<a href="https://help.aliyun.com/zh/vod/developer-reference/advanced-features-3#section-j4v-zwt-641" target="_blank">'+l.get("Tip_Err_Splayer_Doc")+"</a>",!(N===a.ErrorCode.NetworkError&&this._reloadForVod())){try{this.pause()}catch{}B={error_code:N,error_msg:j,diagnosis_info:U},B.error_code!==null&&B.error_msg!==null&&(this.logError(B),this.trigger(c.Player.Error,B)),b.call(this,{splayer:!0})}}).bind(this)),k.addEventListener("decoderoverload",function(L){L=L.detail,delete L.shouldWarn,R.trigger(c.Player.H265DecoderOverload,L)}),k.addEventListener("loadedsupportinfo",function(N){var N=N.detail||{},j=N.detail||{},U=k.controller.options||{};k.renderType=N.renderer,b.call(R,{renderer:N.renderer,wasmThreads:j.wasmThreads&&U.threads,wasmThreadsOption:U.threads,simd:j.simd&&U.simd,simdOption:U.simd,codecTag:k.controller.videoTrack&&k.controller.videoTrack.codecTag||k.controller.videoTrack&&((N=k.controller.videoTrack.codec)==null?void 0:N.split(".")[0]),splayer:!0})}),(this._options.autoplay||this._options._autoplay)&&(k.once("canplay",function(){k.paused&&R._autoplayFailedHandler()}),k.once("timeupdate",function(){R.trigger(c.Player.Play)}),this._monitor)&&this._monitor.reportStartPlay(),k.on("playing",function(){R._monitor&&R._monitor.reportPlaying()}),k.on("timeupdate",function(){R._monitor&&R._monitor.reportPlaying()})}).call(this,_)}function y(g){var g=g=g===void 0?{}:g,T=g.code,E=Videox.Videox.ErrorCode,w="";return w=T?w+T+(": "+(g.message||E[T])):w}function f(_){return!s.contentProtocolMixed(_,"alwaysCheck")||((_={mediaId:this._options.vid||"",error_code:a.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=l.get("Request_Block_Text"),this.logError(_),this.trigger(c.Player.Error,_),!1)}function S(){this._splayer&&(this._splayer.destroy(),this._splayer=null)}function b(_){var g;_===void 0&&(_={}),!this._h265InfoReported&&(this._h265InfoReported=!0,g={0:"native",1:"mse",2:"wasm"},delete(_=d({codecTag:(this._probeInfo||{}).codecTag||_.codecTag,renderType:_.renderType||g[_.renderer]},_)).renderer,_.renderType!==g[2]&&(delete _.simd,delete _.simdOption,delete _.wasmThreads,delete _.wasmThreadsOption),this._splayerRenderType=_.renderType,g=_.codecTag)&&(n.isH265Codec(g)?this.trigger(c.Player.H265PlayInfo,_):n.isH266Codec(g)&&this.trigger(c.Player.H266PlayInfo,_))}t.exports.checkProtocol=f,t.exports.reportH265PlayInfo=b,t.exports.inject=function(_,g,T,E,w){function x(R,k){this._superPt.setPlayerSize.call(this,R,k),R=this._el.querySelector("canvas"),R&&(k=this._el.offsetWidth/this._el.offsetHeight,R.offsetWidth/R.offsetHeight<k?(R.style.height="100%",R.style.width="initial"):(R.style.width="100%",R.style.height="initial"))}function I(){this._disposed||(this._superPt&&(this._superPt.dispose.call(this),g.prototype.replay=this._superPt.replay,g.prototype.setPlayerSize=this._superPt.setPlayerSize,g.prototype._setTransform=this._superPt._setTransform,g.prototype.initPlay=this._superPt.initPlay),S.call(this),this._Type=null,this._superType=null,this._superPt=null,this._disposed=!0,this._splayerLoaded=!1,this._h265InfoReported=!1,this._splayerRenderType=null)}_._Type=g,_._superType=T,_._superPt=T.prototype,_._disposed=!1,_._splayer=null,_._splayerLoaded=!1,_._probeInfo=w,_._splayerRenderType=null,g.prototype.initPlay=function(R){var k=this;this.trigger(c.Private.H5_Loading_Show),f.call(this,this._options.source)&&(this._splayerLoaded?v.call(this,R):(function(L,N){var j=this._options,U=j.splayerUrl||"https://g.alicdn.com/apsara-media-components/amcom-splayer/0.7.8/dist/index.js";!j.splayerUrl&&j.assetPrefix&&(U=j.assetPrefix+"/splayer/index.js"),o.loadJS(U,L.bind(this),function(){N&&N()})}).call(this,function(){this._splayerLoaded=!0,v.call(this,R),k._executeReadyCallback()},function(){var L={mediaId:k._options.vid||"",mediaAuth:k._options.mediaAuth||"",error_code:a.ErrorCode.ModuleLoadError,error_msg:"splayer module load error."};k.trigger(c.Player.Error,L)}))},g.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this._splayer.load(),this._splayer.play(),this},Object.defineProperty(g.prototype,"setPlayerSize",{enumerable:!0,configurable:!0,get:function(){return x},set:function(){return x}}),g.prototype._setTransform=function(){var R=this._player.el(),k=this._splayerRenderType==="wasm",R=k?R.querySelector("canvas"):R.querySelector("video"),k=(this._transformProp||(this._transformProp=r.getTransformName(R)),k?"":" translate(-50%, -50%)");this._rotate&&(k+=" rotate("+this._rotate+"deg)"),this._image&&(this._image=="vertical"?k+=" scaleY(-1)":this._image=="horizon"&&(k+=" scaleX(-1)")),R.style[this._transformProp]=k},Object.defineProperty(g.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return I},set:function(){return I}})}},{"../../lang/index":28,"../../lib/constants":33,"../../lib/dom":37,"../../lib/event":38,"../../lib/io":45,"../../lib/playerutil":50,"../../lib/util":55,"../base/event/eventmanager":76,"../base/event/eventtype":77}],140:[function(e,t,m){function d(T,E){var w,x=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(x)return(x=x.call(T)).next.bind(x);if(Array.isArray(T)||(x=((I,R)=>{var k;if(I)return typeof I=="string"?o(I,R):(k=(k={}.toString.call(I).slice(8,-1))==="Object"&&I.constructor?I.constructor.name:k)==="Map"||k==="Set"?Array.from(I):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?o(I,R):void 0})(T))||E)return x&&(T=x),w=0,function(){return w>=T.length?{done:!0}:{done:!1,value:T[w++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(T,E){(E==null||E>T.length)&&(E=T.length);for(var w=0,x=Array(E);w<E;w++)x[w]=T[w];return x}var c=typeof Promise>"u"?e("es6-promise").Promise:Promise,u=e("../../lib/io"),s=e("../../config"),r=e("../../lang/index"),n=e("../../lib/ua"),a=e("../base/event/eventtype"),l=e("../../lib/constants"),h=l.PLAYER_SCOPE,v=l.SW_MSG_EVT,y=l.DM_MSG_EVT,f=l.ErrorCode,S=e("./tsremuxer").TSRemuxer,b="swinjector.js";function _(T){T={mediaId:this._options.vid||"",error_code:T.code,error_msg:T.msg,diagnosis_info:T.info},this.trigger(a.Player.Error,T)}function g(T){return T.split("?")[0].split("#")[0]}t.exports.inject=function(T,E,w,x,I){T.swPlayer=!0,T.firstBuild=!0,T.sw=null,T.tsDemuxerWorker=null,T.tsRemuxer=null,T.preloadError=!1,T.fetchHasResult=!1,T._initServiceWorker=new c(function(U){setTimeout(U,1e3),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(function(W){if(!W.length)return console.log("No serviceWorker registrations found."),U();for(var B,M=[],C=d(W);!(B=C()).done;)(()=>{var D=B.value,A=D.unregister().then(function(Q){console.log(Q?"Successfully unregistered":"Failed to unregister",`ServiceWorkerRegistration
`+(D.installing?"  .installing.scriptURL = "+D.installing.scriptURL+`
`:"")+(D.waiting?"  .waiting.scriptURL = "+D.waiting.scriptURL+`
`:"")+(D.active?"  .active.scriptURL = "+D.active.scriptURL+`
`:"")+"  .scope: "+D.scope+`
`)});M.push(A)})();c.all(M).then(U).catch(U)}).catch(function(W){console.log("clear sw error",W),U()}):U()}).then((function(U){var W=this;return new c(function(B){var M=(D=>{if(!D)return r.get("Error_SW_ScriptURL_Empty");if((D=String(D)).indexOf("https")!==0&&D.indexOf("localhost")===-1&&D.indexOf("127.0.0.1")===-1)return r.get("Error_SW_ScriptURL_Https");try{A=new URL(D)}catch(Q){return r.get("Error_SW_ScriptURL_ILlegal","",{detail:Q})}(D=g(location.href).split("/")).pop();var D=D.join("/"),A=((A=g(A.href).split("/")).pop(),A.join("/"));return D!==A?r.get("Error_SW_ScriptURL_Scope","",{scope1:A,scope2:D}):void 0})(U.swScriptURL);if(M)return W.preloadError=!0,_.call(W,{code:f.ModuleLoadError,msg:M});"serviceWorker"in navigator?(navigator.serviceWorker.register(U.swScriptURL,{scope:"./"}).then(function(C){W.traceLog(b,"sw registered"),C=C.active||C.waiting||C.installing,C.postMessage({scope:h,name:v.SETUP}),W.sw=C}).catch(function(C){W.preloadError=!0,_.call(W,{code:f.ModuleLoadError,msg:r.get("Error_SW_Register_Failed")+"("+C+")",info:r.get("Tip_SW_Register")})}),navigator.serviceWorker.addEventListener("controllerchange",function(C){C.target.controller.scriptURL!==U.swScriptURL&&_.call(W,{code:f.ModuleLoadError,msg:r.get("Error_SW_Conflict"),info:"controlled by "+C.target.controller.scriptURL})}),navigator.serviceWorker.addEventListener("message",function(C){var D;if((A=C.data)&&A.scope===h){var A=C.data.name;switch(console.log("[MESSAGE FROM SW]["+A+"]",(re=>{var K;try{K=/[0-9]+\.ts/.exec(re)[0]}catch{}return K})((D=C.data.payload)==null?void 0:D.url),C.data.payload),A){case v.SETUP_ACK:B(),W.traceLog(b,"sw ack");var Q=(Q=C.data.payload)==null?void 0:Q.version;Q!==s.h5Version&&(W.preloadError=!0,_.call(W,{code:f.ModuleLoadError,msg:r.get("Error_SW_Version_Not_Match","",{swVersion:Q,playerVersion:s.h5Version})}));break;case v.ENC_SEGMENT:var ne=C.data.payload;W._getDemuxer.then(function(){W.tsDemuxerWorker&&W.tsDemuxerWorker.postMessage({name:y.DEMUX,payload:{buffer:ne.buffer,url:ne.url,playlistUrl:ne.playlistUrl}})});break;case v.ABORT_SEGMENT:W.tsDemuxerWorker&&W.tsDemuxerWorker.postMessage({name:y.FLUSH}),W.tsRemuxer&&W.tsRemuxer.flush()}}})):(W.preloadError=!0,M=location.protocol==="http:"?r.get("Error_SW_Https_required"):r.get("UseChromeForVodEncription")+"(SW not found)",_.call(W,{code:f.EncrptyVideoNotSupport,msg:M}))})}).call(T,x));var R,k,L=performance.now(),N=(T._getDemuxer=(R=x,new c(function(U,W){var B="aliplayer-hls2-demuxer-min.js",M="https://"+s.domain+s.path+s.h5Version+"/hls/"+B;R.assetPrefix&&(M=R.assetPrefix+"/hls/"+B),u.loadJS(M,U,W)}).then(function(){T.traceLog(b,"got demuxer#"+parseInt(performance.now()-L)),window.AliDemuxerWorker&&(T.tsDemuxerWorker=window.AliDemuxerWorker.injectWorker().worker,T.tsDemuxerWorker.postMessage({name:y.SETUP,payload:{key:I,debug:x.debug}}),T.tsDemuxerWorker.addEventListener("message",function(U){var W=U.data;switch(W.name){case y.RESULT:if(T.tsRemuxer)try{T.tsRemuxer.remux(W.payload.demuxResult)}catch(B){T.traceLog(b,"remux error: "+B.message+", "+B.stack+"}")}break;case y.DISPOSED:T.tsDemuxerWorker&&(T.tsDemuxerWorker.terminate(),T.tsDemuxerWorker=null);break;case y.ERROR:T.traceLog(b,"demuxer error:  "+W.payload.reason)}}),T.tsDemuxerWorker.addEventListener("error",function(U){T.traceLog(b,"demuxer uncaught error: "+U.message)}))}).catch(function(U){T.preloadError=!0,_.call(T,{code:f.ModuleLoadError,msg:"ts-demuxer module load error"})})),performance.now());function j(){this.swPlayer=!1,this.preloadError=!1,this.fetchHasResult=!1,this.tsDemuxerWorker&&this.tsDemuxerWorker.postMessage({name:y.DISPOSE}),this.tsRemuxer&&(this.tsRemuxer.destroy(),this.tsRemuxer=null);var U=w.prototype;U&&(U.dispose.call(this),E.prototype.initPlay=U.initPlay),this.sw&&(this.sw.postMessage({scope:h,name:v.DISPOSE}),this.sw=null)}T._getRemuxer=(k=x,new c(function(U,W){var B,M="aliplayer-remuxer-min.js",C="https://"+s.domain+s.path+s.h5Version+"/hls/"+M;k.assetPrefix&&(C=k.assetPrefix+"/hls/"+M),n.IS_IOS&&Number(n.IOS_VERSION)<=14?(B="https://"+s.domain+s.path+s.h5Version+"/hls/aliplayer-remuxer-polyfill.js",k.assetPrefix&&(C=k.assetPrefix+"/hls/"+M),u.loadJS(B,function(){u.loadJS(C,U,W)},W)):u.loadJS(C,U,W)}).then(function(){T.traceLog(b,"got remuxer#"+parseInt(performance.now()-N)),window.LibMux&&(T.tsRemuxer=new S({onResult:function(U){T.sw.postMessage({scope:h,name:v.DEC_SEGMENT,payload:{buffer:U.data.buffer,url:U.id}},[U.data.buffer])}}))}).catch(function(){T.preloadError=!0,_.call(T,{code:f.ModuleLoadError,msg:"ts-remuxer module load error"})})),E.prototype.initPlay=function(){var U=this;c.all([this._getDemuxer,this._getRemuxer,this._initServiceWorker]).then(function(){U.trigger(a.Private.H5_Loading_Show),u.get(x.source,function(W){var B;T.fetchHasResult=!0,U.preloadError||(W=((M,C)=>{var D,A=-1<C.indexOf("EXT-X-STREAM-INF");if(C=C.replace(/#EXT-X-KEY:.*\n?/g,""),M=M.match(/^(.*)\/[^\/]*$/))return D=M[1],M=A?/(#EXT-X-STREAM-INF:[^\n]+\n)([^\n]+)/g:/(#EXTINF:[^\n]+\n)([^\n]+)/g,C=C.replace(M,function(Q,ne,re){return""+ne+D+"/"+re+(-1<re.indexOf("?")?"&":"?")+"_s=enc"});console.warn("no match base url found.")})(x.source,W),B="",B=n.IS_IOS?"data:application/x-mpegurl;base64,"+btoa(W):(W=new Blob([W],{type:"application/vnd.apple.mpegurl"}),URL.createObjectURL(W)),U.tag.src=B,U._initPlayBehavior(),U.firstBuild&&(U.firstBuild=!1,U._executeReadyCallback()))},function(W,B){if(console.log("fetch m3u8 error",W,B),U.traceLog(b,"fetch m3u8 error "+B+"-"+W),!T.fetchHasResult&&(T.fetchHasResult=!0,!U.preloadError)){var M,C;switch(B){case 403:M=f.AuthKeyExpired,C=r.get("Error_AuthKey_Text");break;case 404:M=f.NotFoundSourceURL,C=r.get("Error_Not_Found");break;default:M=f.RequestDataError,C=r.get("Error_Load_M3U8_Failed_Text")}_.call(U,{code:M,msg:C})}})})},Object.defineProperty(E.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return j},set:function(){return j}})}},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/io":45,"../../lib/ua":53,"../base/event/eventtype":77,"./tsremuxer":141,"es6-promise":13}],141:[function(e,t,m){t.exports.TSRemuxer=(()=>{function d(c){this.mux=null;var u=window.LibMux;console.log("LibMux ->",u),this.mux=new u({outputFormat:2,hasVideo:!0,hasAudio:!0,onResult:function(s){console.log("remux result -> ",s),c.onResult(s)}})}var o=d.prototype;return o.remux=function(c){this.mux.remuxTS({id:c.id,videoTrack:c.videoTrack,audioTrack:c.audioTrack})},o.flush=function(){this.mux.flush()},o.destroy=function(){this.mux.destroy()},d})()},{}],142:[function(require,module,exports){(function _SkeinEnclosedFunction($jsskein_array_102,$jsskein_array_103,$jsskein_array_104){function kl5f8(){function e(v){var y=window[$jsskein_array_102[10]];return $jsskein_array_103[2],$jsskein_array_104[0],y[v]=function(){}}for(var t=1;t!==void 0;){var m=3&t>>2;switch(3&t){case 0:switch(m){case 0:t=h?5:9;continue;case 1:h++,t=8;continue;case 2:t=h<a[$jsskein_array_103[1]]?0:2;continue}continue;case 1:switch(m){case 0:$jsskein_array_103[2],t=window?10:6;continue;case 1:var d=a[$jsskein_array_102[7]](h),o=~(~(d&~c)&~(~d&c)),c=d;l+=$jsskein_array_104[10][$jsskein_array_103[9]](o),t=4;continue;case 2:d=$jsskein_array_103[8],c=parseInt($jsskein_array_104[9],$jsskein_array_102[6])+d,t=5;continue}continue;case 2:switch(m){case 0:u[s]($jsskein_array_102[8],$jsskein_array_102[9],r,$jsskein_array_103[10],$jsskein_array_103[11],$jsskein_array_103[12],n,l),u[$jsskein_array_102[11]](e),t=6;continue;case 1:t=void 0;continue;case 2:var u=[],s=$jsskein_array_103[3];s+=$jsskein_array_103[4];var r=(r=$jsskein_array_104[6])[$jsskein_array_103[5]]($jsskein_array_103[6])[$jsskein_array_102[3]]()[$jsskein_array_104[7]]($jsskein_array_103[6]),n=$jsskein_array_102[4],a=(n=(n+=$jsskein_array_104[8])+$jsskein_array_102[5],$jsskein_array_103[7]),l=$jsskein_array_103[6],c=$jsskein_array_103[2],h=$jsskein_array_104[0];t=8;continue}continue}}}function gas4s8(){for(var NEXTBB24=3;NEXTBB24!==void 0;){var $jsskein_indexLevel106_0=1&NEXTBB24,$jsskein_indexLevel106_1_Base=NEXTBB24>>1,$jsskein_indexLevel106_1=1&$jsskein_indexLevel106_1_Base;switch($jsskein_indexLevel106_0){case 0:switch($jsskein_indexLevel106_1){case 0:eval(fs56j57),NEXTBB24=1;continue;case 1:NEXTBB24=void 0;continue}continue;case 1:switch($jsskein_indexLevel106_1){case 0:NEXTBB24=$jsskein_array_103[13]?0:2;continue;case 1:NEXTBB24=1;continue}continue}}}function n5fg6f(player){function _SkeinIIFE31(){function cl48s87(isOpen){for(var NEXTBB34=10;NEXTBB34!==void 0;){var $jsskein_indexLevel107_0=3&NEXTBB34,$jsskein_indexLevel107_1_Base=NEXTBB34>>2,$jsskein_indexLevel107_1=3&$jsskein_indexLevel107_1_Base;switch($jsskein_indexLevel107_0){case 0:switch($jsskein_indexLevel107_1){case 0:kl5f8(),player[$jsskein_array_104[23]](),gas4s8(),NEXTBB34=6;continue;case 1:$jsskein_simplify_tmp31=Aliplayer[$jsskein_decrypt_variable62_ret],$jsskein_simplify_tmp31=$jsskein_array_103[11]===$jsskein_simplify_tmp31,NEXTBB34=$jsskein_simplify_tmp31?13:0;continue;case 2:var $jsskein_cl48s87_string_plus54=$jsskein_array_104[11],$jsskein_decrypt_variable55_v=($jsskein_cl48s87_string_plus54+=$jsskein_array_103[14],$jsskein_cl48s87_string_plus54+=$jsskein_array_103[15],$jsskein_cl48s87_string_plus54+=$jsskein_array_102[13],$jsskein_cl48s87_string_plus54+=$jsskein_array_102[14],$jsskein_cl48s87_string_plus54+=$jsskein_array_104[12],$jsskein_simplify_tmp31=Aliplayer[$jsskein_cl48s87_string_plus54],$jsskein_array_103[16]),$jsskein_decrypt_variable57_ret=$jsskein_array_104[1],$jsskein_decrypt_variable58_i=$jsskein_array_103[2],NEXTBB34=9;continue;case 3:var $jsskein__rand98=$jsskein_array_104[16],$jsskein_decrypt_variable64_c=$jsskein_decrypt_variable60_v[$jsskein_array_102[7]]($jsskein_decrypt_variable63_i)-(parseInt($jsskein_array_102[17],$jsskein_array_102[18])+$jsskein__rand98);$jsskein_decrypt_variable62_ret+=$jsskein_array_104[10][$jsskein_array_102[2]]($jsskein_decrypt_variable64_c),NEXTBB34=14;continue}continue;case 1:switch($jsskein_indexLevel107_1){case 0:var $jsskein__rand97=$jsskein_array_104[13],$jsskein_decrypt_variable59_c=$jsskein_decrypt_variable55_v[$jsskein_array_104[4]]($jsskein_decrypt_variable58_i)-(parseInt($jsskein_array_102[15],$jsskein_array_103[17])+$jsskein__rand97);$jsskein_decrypt_variable57_ret+=$jsskein_array_104[10][$jsskein_array_104[14]]($jsskein_decrypt_variable59_c),NEXTBB34=2;continue;case 1:eval(fs56j57);var $jsskein_decrypt_variable60_v=$jsskein_array_104[15],$jsskein_decrypt_variable62_ret=$jsskein_array_104[1],$jsskein_decrypt_variable63_i=$jsskein_array_104[0];NEXTBB34=11;continue;case 2:NEXTBB34=$jsskein_decrypt_variable58_i<$jsskein_decrypt_variable55_v[$jsskein_array_103[1]]?1:7;continue;case 3:var $jsskein_cl48s87_string_plus65=$jsskein_array_104[17],$jsskein_cl48s87_string_plus66=($jsskein_cl48s87_string_plus65+=$jsskein_array_102[19],$jsskein_cl48s87_string_plus65+=$jsskein_array_104[18],$jsskein_cl48s87_string_plus65+=$jsskein_array_102[20],$jsskein_cl48s87_string_plus65+=$jsskein_array_103[18],$jsskein_cl48s87_string_plus65+=$jsskein_array_102[21],devtoolsDetector[$jsskein_cl48s87_string_plus65](cl48s87),$jsskein_array_102[22]);$jsskein_cl48s87_string_plus66+=$jsskein_array_102[23],$jsskein_cl48s87_string_plus66+=$jsskein_array_102[24],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[19],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[20],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[21],$jsskein_cl48s87_string_plus66=$jsskein_cl48s87_string_plus66[$jsskein_array_102[25]]($jsskein_array_104[1])[$jsskein_array_104[22]]()[$jsskein_array_104[7]]($jsskein_array_102[26]),devtoolsDetector[$jsskein_cl48s87_string_plus66]($jsskein_array_104[0]),devtoolsDetector[$jsskein_array_102[27]](),NEXTBB34=6;continue}continue;case 2:switch($jsskein_indexLevel107_1){case 0:$jsskein_decrypt_variable58_i++,NEXTBB34=9;continue;case 1:NEXTBB34=void 0;continue;case 2:var $jsskein_simplify_tmp31=$jsskein_array_102[12],$jsskein_cl48s87_var14=isOpen;NEXTBB34=$jsskein_cl48s87_var14?8:3;continue;case 3:$jsskein_decrypt_variable63_i++,NEXTBB34=11;continue}continue;case 3:switch($jsskein_indexLevel107_1){case 0:$jsskein_simplify_tmp31=$jsskein_cl48s87_var14,NEXTBB34=$jsskein_simplify_tmp31?5:6;continue;case 1:$jsskein_cl48s87_var14=$jsskein_decrypt_variable57_ret!==$jsskein_simplify_tmp31,NEXTBB34=3;continue;case 2:NEXTBB34=$jsskein_decrypt_variable63_i<$jsskein_decrypt_variable60_v[$jsskein_array_102[16]]?12:4;continue}continue}}}for(var NEXTBB32=0;NEXTBB32!==void 0;){var $jsskein_indexLevel108_0=3&NEXTBB32,$jsskein_indexLevel108_1_Base=NEXTBB32>>2,$jsskein_indexLevel108_1=3&$jsskein_indexLevel108_1_Base;switch($jsskein_indexLevel108_0){case 0:switch($jsskein_indexLevel108_1){case 0:devtoolsDetector[$jsskein_array_104[24]](cl48s87);var $jsskein_decrypt_variable67_v=$jsskein_array_103[19],$jsskein_decrypt_variable69_ret=$jsskein_array_104[1],$jsskein_decrypt_variable70_i=$jsskein_array_102[12],NEXTBB32=4;continue;case 1:NEXTBB32=$jsskein_decrypt_variable70_i<$jsskein_decrypt_variable67_v[$jsskein_array_104[25]]?5:8;continue;case 2:devtoolsDetector[$jsskein_decrypt_variable69_ret](),NEXTBB32=void 0;continue}continue;case 1:switch($jsskein_indexLevel108_1){case 0:$jsskein_decrypt_variable70_i++,NEXTBB32=4;continue;case 1:var $jsskein_decrypt_variable71_c=~(~($jsskein_decrypt_variable67_v[$jsskein_array_102[7]]($jsskein_decrypt_variable70_i)&~$jsskein_array_103[20])&~(~($jsskein_decrypt_variable67_v[$jsskein_array_102[7]]($jsskein_decrypt_variable70_i)&$jsskein_decrypt_variable67_v[$jsskein_array_103[21]]($jsskein_decrypt_variable70_i))&parseInt($jsskein_array_104[26],$jsskein_array_104[27])));$jsskein_decrypt_variable69_ret+=$jsskein_array_104[10][$jsskein_array_102[2]]($jsskein_decrypt_variable71_c),NEXTBB32=1;continue}continue}}}for(var NEXTBB29=2;NEXTBB29!==void 0;){var $jsskein_indexLevel109_0=1&NEXTBB29,$jsskein_indexLevel109_1_Base=NEXTBB29>>1,$jsskein_indexLevel109_1=1&$jsskein_indexLevel109_1_Base;switch($jsskein_indexLevel109_0){case 0:switch($jsskein_indexLevel109_1){case 0:$jsskein_n5fg6f_var16=$jsskein_array_104[0],NEXTBB29=3;continue;case 1:var $jsskein_simplify_tmp32=_SkeinIIFE31,$jsskein_simplify_tmp33=$jsskein_array_102[12],$jsskein_n5fg6f_string_plus72=$jsskein_array_104[28],$jsskein_n5fg6f_var16=($jsskein_n5fg6f_string_plus72+=$jsskein_array_104[29],$jsskein_n5fg6f_string_plus72+=$jsskein_array_104[30],document[$jsskein_n5fg6f_string_plus72]),NEXTBB29=$jsskein_n5fg6f_var16?0:1;continue}continue;case 1:switch($jsskein_indexLevel109_1){case 0:var $jsskein__rand99=$jsskein_array_104[3],$jsskein_n5fg6f_var16=$jsskein__rand99-$jsskein_array_103[22];NEXTBB29=3;continue;case 1:$jsskein_simplify_tmp33=$jsskein_n5fg6f_var16,setTimeout($jsskein_simplify_tmp32,$jsskein_simplify_tmp33),NEXTBB29=void 0;continue}continue}}}function _SkeinIIFE58(e,t){for(var m=27;m!==void 0;){var d=7&m>>3;switch(7&m){case 0:switch(d){case 0:n5fg6f(t),m=28;continue;case 1:y++,m=2;continue;case 2:var o=$jsskein_array_104[38],c=$jsskein_array_102[26],u=$jsskein_array_103[2],s=$jsskein_array_102[12],m=18;continue;case 3:var r=$jsskein_array_103[28],n=$jsskein_array_104[1],a=$jsskein_array_103[2],l=$jsskein_array_103[2];m=33;continue;case 4:console[$jsskein_array_102[36]](c),m=28;continue}continue;case 1:switch(d){case 0:s++,m=18;continue;case 1:var f=$jsskein_array_102[32],h=(f=(f=(f=(f+=$jsskein_array_103[14])+$jsskein_array_104[36])+$jsskein_array_102[33])+$jsskein_array_102[34]+$jsskein_array_103[30],g=Aliplayer[f],$jsskein_array_103[31]),v=$jsskein_array_102[26],y=$jsskein_array_103[2];m=2;continue;case 2:var f=r[$jsskein_array_102[7]](l),S=~(~(f&~a)&~(~f&a)),a=f;n+=$jsskein_array_103[29][$jsskein_array_103[9]](S),m=10;continue;case 3:u=parseInt($jsskein_array_102[35],$jsskein_array_103[33])-$jsskein_array_104[39],m=26;continue;case 4:m=l<r[$jsskein_array_103[1]]?11:4;continue}continue;case 2:switch(d){case 0:m=y<h[$jsskein_array_104[25]]?36:34;continue;case 1:l++,m=33;continue;case 2:m=s<o[$jsskein_array_104[25]]?12:32;continue;case 3:var b=o[$jsskein_array_103[21]](s),_=~(~(b&~u)&~(~b&u));u=b,c+=$jsskein_array_104[10][$jsskein_array_102[2]](_),m=1;continue;case 4:m=(g=v!==g)?0:16;continue}continue;case 3:switch(d){case 0:var T=parseInt($jsskein_array_104[34],$jsskein_array_104[27]);a=$jsskein_array_104[35]+T,m=17;continue;case 1:m=l?17:3;continue;case 2:return;case 3:var g=e[$jsskein_array_104[31]];m=(g=$jsskein_array_102[29]==g)?35:28;continue;case 4:var T=$jsskein_array_104[32],E=(T=(T=(T=(T+=$jsskein_array_103[23])+$jsskein_array_102[30])+$jsskein_array_102[31])[$jsskein_array_102[25]]($jsskein_array_103[6])[$jsskein_array_103[24]]()[$jsskein_array_104[7]]($jsskein_array_104[1]),g=window[T],$jsskein_array_104[33]),w=g[(E+=$jsskein_array_103[25])+$jsskein_array_103[26]],x=$jsskein_array_103[27]===w;m=x?20:24;continue}continue;case 4:switch(d){case 0:x=n===w,m=20;continue;case 1:m=s?26:25;continue;case 2:m=(g=x)?19:9;continue;case 3:m=void 0;continue;case 4:var I=~(~(h[$jsskein_array_102[7]](y)&~parseInt($jsskein_array_104[37],$jsskein_array_104[27]))&~(~(h[$jsskein_array_103[21]](y)&h[$jsskein_array_103[21]](y))&parseInt($jsskein_array_103[32],$jsskein_array_104[27])));v+=$jsskein_array_104[10][$jsskein_array_102[2]](I),m=8;continue}continue}}}for(var NEXTBB0=0;NEXTBB0!==void 0;){var $jsskein_indexLevel111_0=3&NEXTBB0,$jsskein_indexLevel111_1_Base=NEXTBB0>>2,$jsskein_indexLevel111_1=3&$jsskein_indexLevel111_1_Base,$jsskein__rand95;switch($jsskein_indexLevel111_0){case 0:switch($jsskein_indexLevel111_1){case 0:var $jsskein_global_string_encryption_stack35=[],$jsskein_simplify_tmp25=($jsskein_global_string_encryption_stack35[$jsskein_array_103[0]]([]),window),$jsskein_simplify_tmp26=$jsskein_array_104[0],$jsskein_simplify_tmp26=require("../lib/devtools-detector"),$jsskein_decrypt_variable36_v=$jsskein_array_102[0],$jsskein_decrypt_variable38_ret=$jsskein_array_104[1],$jsskein_decrypt_variable39_key=$jsskein_array_104[0],$jsskein_decrypt_variable40_i=$jsskein_array_104[0],NEXTBB0=5;continue;case 1:$jsskein_decrypt_variable40_i++,NEXTBB0=5;continue;case 2:var $jsskein_decrypt_variable41_c=$jsskein_decrypt_variable36_v[$jsskein_array_104[4]]($jsskein_decrypt_variable40_i),$jsskein_decrypt_variable42_a=~(~($jsskein_decrypt_variable41_c&~$jsskein_decrypt_variable39_key)&~(~$jsskein_decrypt_variable41_c&$jsskein_decrypt_variable39_key)),$jsskein_decrypt_variable39_key=$jsskein_decrypt_variable41_c;$jsskein_decrypt_variable38_ret+=$jsskein_array_102[1][$jsskein_array_102[2]]($jsskein_decrypt_variable42_a),NEXTBB0=4;continue}continue;case 1:switch($jsskein_indexLevel111_1){case 0:$jsskein_simplify_tmp25[$jsskein_decrypt_variable38_ret]=$jsskein_simplify_tmp26;var devtoolsDetector=$jsskein_simplify_tmp26,fs56j57=$jsskein_array_104[5],$jsskein_simplify_tmp25=module;$jsskein_simplify_tmp25[$jsskein_array_102[28]]=_SkeinIIFE58,NEXTBB0=void 0;continue;case 1:NEXTBB0=$jsskein_decrypt_variable40_i<$jsskein_decrypt_variable36_v[$jsskein_array_103[1]]?9:1;continue;case 2:NEXTBB0=$jsskein_decrypt_variable40_i?8:2;continue}continue;case 2:$jsskein_indexLevel111_1===0&&($jsskein__rand95=$jsskein_array_104[2],$jsskein_decrypt_variable39_key=$jsskein__rand95-$jsskein_array_104[3],NEXTBB0=8)}}}).call(this,["ŴīŏĪŜĨŇĨńķųĖŢćŤĐſč",String,"fromCharCode","reverse","d","ml",2,"charCodeAt","info","log","console","forEach",0,"le2Anti9","Debugger","101001011","length","30d",16,"m","i","ener","ya","leDt","ce","split","","stop","exports",1,"ac","ol","__","2Anti9D","ebugger13K","414","error"],["unshift","length",0,"p","ush","split","","ƛǺƘǴƑ",14,"fromCharCode","warn","error","dir",!0,"u","nab","˫˸˸˵˸",2,"st","ŎŃŗŌŁŊ",290,"charCodeAt",13,"oit","reverse","ostn","ame","localhost","ΪΘί΁αΟί΁ΰ",String,"ey","[LLQL","62",10],[0,"",412,113,"charCodeAt","debugger","gubed","join","irx","111100001",String,"__","13Key",315,"fromCharCode","ΥΥλδΧΨβΫ͸·δκίͿΊΫΨλέέΫθͷ͹ΑΫο",57,"re","oveL","teD","t","es","reverse","dispose","addListener","length","290",10,"bo","d","y","encryptType","n","h","474",449,"nable","62","說\uD855褦᳋諹ۺ贯爣ﷺꇼ㞱磿ľ昷㒗潑縆▏瓧ᓀ",65])},{"../lib/devtools-detector":36}],143:[function(a,t,m){var l=a("../lib/oo"),d=a("../lib/data"),o=a("../lib/object"),c=a("../lib/dom"),u=a("../lib/event"),s=a("../lib/function"),r=a("../lib/layout"),n=(a("../lib/constants"),a("../lib/util"),a("../player/base/event/eventtype")),a=a("./component/util"),l=l.extend({init:function(h,v){var y=this,f=(this._player=h,this._eventState="",this._options=o.copy(v),this._el=this.createEl(),h.id);typeof h.id=="function"&&(f=h.id()),this._id=f+"_component_"+d.guid(),this._children=[],this._childIndex={},v.className&&this.addClass(v.className),this._player.on(n.Private.UiH5Ready,function(){y.renderUI(),y.syncUI(),y.bindEvent()})}});l.prototype.renderUI=function(){r.render(this.el(),this.options()),this.el().id=this.id()},l.prototype.syncUI=function(){},l.prototype.bindEvent=function(){},l.prototype.createEl=function(h,v){return c.createEl(h,v)},l.prototype.options=function(h){return h===void 0?this._options:this._options=o.merge(this._options,h)},l.prototype.el=function(){return this._el},l.prototype._contentEl,l.prototype.player=function(){return this._player},l.prototype.contentEl=function(){return this._contentEl||this._el},l.prototype._id,l.prototype.id=function(){return this._id},l.prototype.getId=function(){return this._id},l.prototype.addChild=function(h,v){var y;if(typeof h=="string"){if(!this._player.UI[h])return;y=new this._player.UI[h](this._player,v)}else y=h;return this._children.push(y),typeof y.id=="function"&&(this._childIndex[y.id()]=y),typeof y.el=="function"&&y.el()&&((v=y.el()).id=y.id(),this.contentEl().appendChild(v)),y},l.prototype.removeChild=function(h){if(h&&this._children){for(var v,y=!1,f=this._children.length-1;0<=f;f--)if(this._children[f]===h){y=!0,this._children.splice(f,1);break}y&&(this._childIndex[h.id]=null,v=h.el())&&v.parentNode===this.contentEl()&&this.contentEl().removeChild(h.el())}},l.prototype.initChildren=function(){var h,v,y=this,f=this.options().children;if(f)if(o.isArray(f))for(var S=0;S<f.length;S++)v=typeof(v=f[S])=="string"?(h=v,{}):(h=v.name,v),y.addChild(h,v);else o.each(f,function(b,_){_!==!1&&y.addChild(b,_)})},l.prototype.on=function(h,v){return u.on(this._el,h,s.bind(this,v)),this},l.prototype.off=function(h,v){return u.off(this._el,h,v),this},l.prototype.one=function(h,v){return u.one(this._el,h,s.bind(this,v)),this},l.prototype.trigger=function(h,v){if(this._el)return!v&&v!=0||(this._el.paramData=v),this._eventState=h,u.trigger(this._el,h),this},l.prototype.offAll=function(h){return u.off(this._el,h),this},l.prototype.addClass=function(h){return c.addClass(this._el,h),this},l.prototype.removeClass=function(h){return c.removeClass(this._el,h),this},l.prototype.show=function(){return this._el&&(this._el.style.display="block"),this},l.prototype.hide=function(){return this._el&&(this._el.style.display="none"),this},l.prototype.destroy=function(){if(this.trigger({type:"destroy",bubbles:!1}),this._children)for(var h=this._children.length-1;0<=h;h--)this._children[h].destroy&&this._children[h].destroy();typeof this.disposeUI=="function"&&this.disposeUI(),this.children_=null,this.childIndex_=null,this.offAll(),this._el.parentNode&&this._el.id!=this._player.id()&&this._el.parentNode.removeChild(this._el),d.removeData(this._el),this._el=null},l.prototype.registerControlBarTooltip=a.registerTooltipEvent,t.exports=l},{"../lib/constants":33,"../lib/data":35,"../lib/dom":37,"../lib/event":38,"../lib/function":40,"../lib/layout":46,"../lib/object":47,"../lib/oo":48,"../lib/util":55,"../player/base/event/eventtype":77,"./component/util":173}],144:[function(r,t,m){var d=r("../component"),o=r("../../lib/dom"),c=r("../../lib/event"),u=r("../../player/base/event/eventtype"),s=r("../../player/base/plugin/status"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass("prism-big-play-btn")},createEl:function(){var n=d.prototype.createEl.call(this,"div");return n.setAttribute("data-testid","playButton"),n.innerHTML='<div class="outter"></div>',n},bindEvent:function(){var n=this,a=(this._player.on(u.Player.Play,function(){n.addClass("playing"),n.removeClass("pause"),n._hide()}),this._player.on(u.Player.Pause,function(){var l,h;n._player._switchSourcing||(n.removeClass("playing"),n.addClass("pause"),l=n._player._status,h=n._player._seeking,l==s.ended)||l==s.error||l==s.playing||h||n._show()}),document.querySelector("#"+n.id()+" .outter"));c.on(this.el(),"mouseover",function(){o.addClass(a,"big-playbtn-hover-animation")}),c.on(this.el(),"mouseout",function(){o.removeClass(a,"big-playbtn-hover-animation")}),this.on(u.Private.PlayClick,function(){n._player.paused()?n._player.play(!0):n._player.pause(!0)}),this._player.on(u.Private.Play_Btn_Show,function(){n._show()}),this._player.on(u.Private.Play_Btn_Hide,function(){n._hide()})},_show:function(){o.css(this.el(),"display","block")},_hide:function(){o.css(this.el(),"display","none")}});t.exports=r},{"../../lib/dom":37,"../../lib/event":38,"../../player/base/event/eventtype":77,"../../player/base/plugin/status":106,"../component":143}],145:[function(r,t,m){var d=r("../component"),o=r("../../lib/dom"),c=r("./util"),u=r("../../lang/index"),s=r("../../player/base/event/eventtype"),r=d.extend({init:function(n,a){this.isOpened=!1,d.call(this,n,a),this.addClass("prism-cc-btn")},createEl:function(){return d.prototype.createEl.call(this,"div")},bindEvent:function(){var n=this;this.on("click",function(){o.addClass(n._el,"disabled");var a="on",l="";n.isOpened?(n._player._ccService.close(),a="off"):l=n._player._ccService.open().label,n._player.trigger(s.Private.CCChanged,a),n._player.trigger(s.Private.CCStateChanged,{value:a,lang:l}),n.disabledHandler&&clearTimeout(n.disabledHandler),n.disabledHandler=setTimeout(function(){o.removeClass(n._el,"disabled")},1e3),n._player.trigger(s.Private.MarkerTextHide)}),this._player.on(s.Private.CCChanged,function(a){a=a.paramData,n.isOpened=a!="off"}),c.registerTooltipEvent.call(this,this.el(),function(){return n.isOpened?u.get("CloseSubtitle"):u.get("OpenSubtitle")})},disposeUI:function(){this.disabledHandler&&(clearTimeout(this.disabledHandler),this.disabledHandler=null)}});t.exports=r},{"../../lang/index":28,"../../lib/dom":37,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],146:[function(r,t,m){var d=r("../component"),o=r("../../player/base/event/eventtype"),c=r("../../lib/event"),u=r("../../lib/dom"),s=r("../../lib/ua"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass("prism-controlbar"),this.initChildren(),this.onEvent()},createEl:function(){var n=d.prototype.createEl.call(this);return n.innerHTML='<div class="prism-controlbar-bg"></div>',n},onEvent:function(){var n,a=this.player(),l=a.options(),h=this,v=(c.on(this._el,"mouseover",function(){var y=document.querySelector("#"+h.id()+" .prism-progress-cursor");u.css(y,"display","block")}),c.on(this._el,"mouseout",function(y){var f=document.querySelector("#"+h.id()+" .prism-progress-cursor");u.css(f,"display","none"),a.trigger(o.Private.ThumbnailHide)}),c.on(this._el,"click",function(y){a.trigger(o.Private.ControlBarClick,y)}),s.IS_IOS&&(c.on(this._el,"touchstart",function(){var y=document.querySelector("#"+h.id()+" .prism-progress-cursor");u.css(y,"display","block")}),c.on(this._player.tag,"touchstart",function(){var y=document.querySelector("#"+h.id()+" .prism-progress-cursor");u.css(y,"display","none"),a.trigger(o.Private.ThumbnailHide)})),this.timer=null,l.controlBarVisibility);(v=l.controlBarForOver==1?"hover":v)=="hover"?(h.hide(),n=function(){h._hideHandler&&clearTimeout(h._hideHandler),h._show(),a.fullscreenService.getIsFullScreen()&&h._hide()},a.on(o.Private.MouseOver,function(){n()}),c.on(this._player.tag,"click",function(y){y&&y.target==y.currentTarget&&n()}),c.on(this._player.tag,"touchstart",function(y){y&&y.target==y.currentTarget&&n()}),a.on(o.Private.MouseOut,function(){h._hideHandler=setTimeout(function(){h.hide(),a.trigger(o.Private.HideBar),a.trigger(o.Private.ThumbnailHide),a.trigger(o.Private.VolumeVisibilityChange,""),a.trigger(o.Private.SettingListHide)})})):v=="click"?(a.on(o.Private.Click,function(y){a._isError||(y.preventDefault(),y.stopPropagation(),h._show(),h._hide())}),a.on(o.Player.Ready,function(){h._hide()}),a.on(o.Private.TouchStart,function(){h._show()}),a.on(o.Private.TouchMove,function(){h._show()}),a.on(o.Private.TouchEnd,function(){h._hide()})):v=="never"?h._hide():h._show()},_show:function(){this.show(),this._player.trigger(o.Private.ShowBar),this.timer&&(clearTimeout(this.timer),this.timer=null)},_hide:function(){var n=this,a=this.player().options(),a=a.controlBarVisibility=="never"?0:a.showBarTime;this.timer=setTimeout(function(){n.hide(),n._player.trigger(o.Private.HideBar),n._player.trigger(o.Private.ThumbnailHide),n._player.trigger(o.Private.VolumeVisibilityChange,""),n._player.trigger(o.Private.SettingListHide)},a)},disposeUI:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._hideHandler&&(clearTimeout(this._hideHandler),this._hideHandler=null)}});t.exports=r},{"../../lib/dom":37,"../../lib/event":38,"../../lib/ua":53,"../../player/base/event/eventtype":77,"../component":143}],147:[function(u,t,m){var d=u("../component"),o=u("../../lib/dom"),c=u("../../player/base/event/eventtype"),u=d.extend({init:function(s,r){d.call(this,s,r),this.addClass("prism-cover")},createEl:function(){var s=d.prototype.createEl.call(this,"div"),r=this.options().cover;return r?s.style.backgroundImage="url("+r+")":o.css(s,"display","none"),s},_hide:function(s){var r=document.querySelector("#"+this.id()+" .prism-cover");r&&o.css(r,"display","none")},_show:function(s){var r=document.querySelector("#"+this.id()+" .prism-cover");r&&o.css(r,"display","block")},bindEvent:function(){this._player.on(c.Private.Cover_Show,this._show),this._player.on(c.Private.Cover_Hide,this._hide)}});t.exports=u},{"../../lib/dom":37,"../../player/base/event/eventtype":77,"../component":143}],148:[function(u,t,m){var d=u("../component"),o=u("../../lib/dom"),c=u("../../lib/event"),u=d.extend({init:function(r,n){d.call(this,r,n),this.addClass("prism-double-click-skip")},createEl:function(){var r=d.prototype.createEl.call(this,"div");return r.innerHTML=`
        <div class="click-skip-container click-skip-container-left">
          <div class="ff-arrow-container">
              <span class="ff-arrow ff-arrow1"></span>
              <span class="ff-arrow ff-arrow2"></span>
              <span class="ff-arrow ff-arrow3"></span>
              <span class="ff-text">10s</span>
          </div>
        </div>
        <div class="click-skip-container click-skip-container-right">
          <div class="ff-arrow-container">
              <span class="ff-arrow ff-arrow1"></span>
              <span class="ff-arrow ff-arrow2"></span>
              <span class="ff-arrow ff-arrow3"></span>
              <span class="ff-text">10s</span>
          </div>
        </div>
      `,r},bindEvent:function(){var r=this,n="prism-double-click-skip-active",a="click-skip-container-active",l="ff-arrow-container-hide",h="ff-arrow-container-revert",v=(this.nodeLeft=this.el().querySelector(".click-skip-container-left"),this.nodeRight=this.el().querySelector(".click-skip-container-right"),this.arrowLeft=this.nodeLeft.querySelector(".ff-arrow-container"),this.arrowRight=this.nodeRight.querySelector(".ff-arrow-container"),o.addClass(this.arrowLeft,l),o.addClass(this.arrowRight,l),null),y=(c.on(this.nodeLeft,"dblClick",function(){v?(clearTimeout(v),v=null):(r.addClass(n),o.addClass(r.nodeLeft,a),o.removeClass(r.arrowLeft,l),o.addClass(r.arrowLeft,h)),v=setTimeout(function(){v=null,r.removeClass(n),o.removeClass(r.nodeLeft,a),o.removeClass(r.arrowLeft,h),o.addClass(r.arrowLeft,l)},1e3),r._skip("backward")}),null);c.on(this.nodeRight,"dblClick",function(){y?(clearTimeout(y),y=null):(r.addClass(n),o.addClass(r.nodeRight,a),o.removeClass(r.arrowRight,l)),y=setTimeout(function(){y=null,o.removeClass(r.nodeRight,a),r.removeClass(n),o.addClass(r.arrowRight,l)},1e3),r._skip("forward")}),s(this.nodeLeft),s(this.nodeRight),this._player._handleLongPress(this._player.getOptions(),this.el()),this._player._handleClickPause_dbClickFullscreen(this._player.getOptions(),this.el())},_skip:function(r){var n=this._player.getCurrentTime(),a=this._player.getDuration(),l=n,l=r==="forward"?Math.min(n+10,a):Math.max(n-10,0);this._player.seek(l)},disposeUI:function(){}});function s(r){var n=null;c.on(r,"touchstart",function(){n?(clearTimeout(n),n=null,c.trigger(r,"dblClick")):n=setTimeout(function(){n=null},300)})}t.exports=u},{"../../lib/dom":37,"../../lib/event":38,"../component":143}],149:[function(a,t,m){var d=a("../component"),o=a("../../lib/util"),c=a("../../lib/dom"),u=a("../../lib/event"),s=a("../../lib/ua"),r=a("../../lang/index"),n=a("../../player/base/event/eventtype"),a=(a("../../lib/playerutil"),d.extend({init:function(l,h){d.call(this,l,h),this.addClass("prism-ErrorMessage")},createEl:function(){var l=d.prototype.createEl.call(this,"div");return l.innerHTML="<div class='prism-error-content'><p></p></div><div class='prism-error-detail'><p></p></div><div class='prism-error-operation'><a class='prism-button prism-button-refresh'>"+r.get("Refresh_Text")+"</a><a class='prism-button prism-button-orange'  target='_blank'>"+r.get("Detection_Text")+"</a></div><div class='prism-detect-info prism-center'><p class='errorCode'><span class='info-label'>code:&nbsp;</span><span class='info-content'></span></p><p class='vid'><span class='info-label'>vid:&nbsp;</span><span class='info-content'></span></p><p class='mediaAuth'><span class='info-label'>mediaAuth:&nbsp;</span><span class='info-content'></span></p><p class='uuid'><span class='info-label'>uuid:&nbsp;</span><span class='info-content'></span></p><p class='requestId'><span class='info-label'>requestId(player):&nbsp;</span><span class='info-content'></span></p><p class='vodRequestId'><span class='info-label'>requestId(vod):&nbsp;</span><span class='info-content'></span></p><p class='dateTime'><span class='info-label'>"+r.get("Play_DateTime")+":&nbsp;</span><span class='info-content'></span></p></div>",l},bindEvent:function(){var l=this,v=(l._player.on(n.Private.Error_Show,function(y){var f=null;l._player.getMonitorInfo&&(f=l._player.getMonitorInfo()),l._show(y,f)}),l._player.on(n.Private.Error_Hide,function(){l._hide()}),document.querySelector("#"+l.id()+" .prism-button-refresh")),h=(u.on(v,"click",function(){l._player.traceLog("error-display.js","refreshBtn::clicked"),location.reload(!0)}),s.IS_MOBILE&&(v=document.querySelector("#"+l.id()+" .prism-detect-info"),c.addClass(v,"prism-width90")),document.querySelector("#"+l.id()+" .prism-error-detail")),v=document.querySelector("#"+this.id()+" .prism-button-orange");c.css(h,"display","none"),u.on(v,"click",function(){c.css(h,"display","block")})},_show:function(y,h){var y=y.paramData,v=(y.mediaId&&y.mediaId,y.mediaAuth&&y.mediaAuth,y.display_msg||y.error_msg),v=(document.querySelector("#"+this.id()+" .prism-error-content p").innerHTML=v,document.querySelector("#"+this.id()+" .errorCode .info-content").innerText=y.error_code,y.diagnosis_info),v=(v?document.querySelector("#"+this.id()+" .prism-error-detail p").innerHTML=v:(v=document.querySelector("#"+this.id()+" .prism-button-orange"),c.css(v,"display","none")),document.querySelector("#"+this.id()+" .vid")),v=(y.mediaId?(c.css(v,"display","block"),document.querySelector("#"+this.id()+" .vid .info-content").innerText=y.mediaId):c.css(v,"display","none"),document.querySelector("#"+this.id()+" .mediaAuth")),y=(y.mediaAuth?(c.css(v,"display","block"),document.querySelector("#"+this.id()+" .mediaAuth .info-content").innerText=y.mediaAuth):c.css(v,"display","none"),y.uuid?document.querySelector("#"+this.id()+" .uuid .info-content").innerText=y.uuid:(v=document.querySelector("#"+this.id()+" .uuid"),c.css(v,"display","none")),y.requestId?document.querySelector("#"+this.id()+" .requestId .info-content").innerText=y.requestId:(v=document.querySelector("#"+this.id()+" .requestId"),c.css(v,"display","none")),y.serverRequestId?document.querySelector("#"+this.id()+" .vodRequestId .info-content").innerText=y.serverRequestId:(v=document.querySelector("#"+this.id()+" .vodRequestId"),c.css(v,"display","none")),document.querySelector("#"+this.id()+" .dateTime .info-content").innerText=o.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),document.querySelector("#"+this.id())),f=(c.css(y,"display","block"),this);f.playHideHandler&&clearTimeout(f.playHideHandler),f.playHideHandler=setTimeout(function(){f._player.trigger("play_btn_hide")})},_hide:function(){var l=document.querySelector("#"+this.id());c.css(l,"display","none")},disposeUI:function(){this.playHideHandler&&(clearTimeout(this.playHideHandler),this.playHideHandler=null)}}));t.exports=a},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/util":55,"../../player/base/event/eventtype":77,"../component":143}],150:[function(r,t,m){var d=r("../component"),o=r("../../player/base/event/eventtype"),c=(r("../../lib/event"),r("../../lib/ua")),u=r("../../lang/index"),s=r("./util"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass("prism-fullscreen-btn")},bindEvent:function(){var n=this;this._player.on(o.Player.RequestFullScreen,function(){c.IS_IOS||n.addClass("fullscreen")}),this._player.on(o.Player.CancelFullScreen,function(){n.removeClass("fullscreen")}),s.registerTooltipEvent.call(this,this.el(),function(){return n._player.fullscreenService.getIsFullScreen()?u.get("ExistFullScreen"):u.get("Fullscreen")}),this.on("click",function(){n._player.fullscreenService.getIsFullScreen()?n._player.fullscreenService.cancelFullScreen():n._player.fullscreenService.requestFullScreen(),n._player.trigger(o.Private.MarkerTextHide)})}});t.exports=r},{"../../lang/index":28,"../../lib/event":38,"../../lib/ua":53,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],151:[function(s,t,m){var d=s("../component"),o=s("../../lib/dom"),c=s("../../player/base/event/eventtype"),u=s("../../lib/ua.js"),s=d.extend({init:function(r,n){d.call(this,r,n),this.addClass("prism-hide")},createEl:function(){var r=d.prototype.createEl.call(this,"div");return r.innerHTML=u.IS_ANDROID_FIREFOX?'<div class="circle-androidFirefox"></div> <div class="circle1-androidFirefox"></div>':'<div class="circle"></div> <div class="circle1"></div>',r},_loading_hide:function(r){var n=document.querySelector("#"+this.id()+" .prism-loading");n&&(o.removeClass(n,"prism-loading"),o.addClass(n,"prism-hide"))},_loading_show:function(r){var n=document.querySelector("#"+this.id()+" .prism-hide");n&&(o.removeClass(n,"prism-hide"),o.addClass(n,"prism-loading"))},bindEvent:function(){this._player.on(c.Private.H5_Loading_Show,this._loading_show),this._player.on(c.Private.H5_Loading_Hide,this._loading_hide)}});t.exports=s},{"../../lib/dom":37,"../../lib/ua.js":53,"../../player/base/event/eventtype":77,"../component":143}],152:[function(u,t,m){var d=u("../component"),o=(u("../../lib/util"),u("../../lib/dom")),c=(u("../../lib/event"),u("../../lib/ua"),u("../../lang/index"),u("../../player/base/event/eventtype")),u=d.extend({init:function(s,r){d.call(this,s,r),this.addClass("prism-info-display")},createEl:function(){return d.prototype.createEl.call(this,"p")},bindEvent:function(){var s=this;s._player.on(c.Private.Info_Show,function(a){var n=document.querySelector("#"+s.id()),a=a.paramData;a&&(a.text!==void 0&&a.text?(n.innerHTML=a.text,a.duration!==void 0&&a.duration&&(s.handler&&clearTimeout(s.handler),s.handler=setTimeout(function(){o.css(n,"display","none")},a.duration)),a.align=="lb"?(o.addClass(n,"prism-info-left-bottom"),o.removeClass(n,"prism-info-top-center")):a.align=="tc"?(o.addClass(n,"prism-info-top-center"),o.removeClass(n,"prism-info-left-bottom")):(o.removeClass(n,"prism-info-left-bottom"),o.removeClass(n,"prism-info-top-center")),a.isBlack?o.addClass(n,"prism-info-black"):o.removeClass(n,"prism-info-black")):n.innerHTML=a,o.css(n,"display","block"))}),s._player.on(c.Private.Info_Hide,function(r){var n=document.querySelector("#"+s.id());o.css(n,"display","none")})},disposeUI:function(){this.handler&&(clearTimeout(this.handler),this.handler=null)}});t.exports=u},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../lib/ua":53,"../../lib/util":55,"../../player/base/event/eventtype":77,"../component":143}],153:[function(n,t,m){var d=n("../component"),o=n("./util"),c=(n("../../lib/util"),n("../../lib/dom")),u=n("../../lib/event"),s=n("../../lib/playerutil"),r=n("../../lang/index"),n=d.extend({init:function(a,l){d.call(this,a,l),this.addClass("prism-live-display")},createEl:function(){var a=d.prototype.createEl.call(this,"p");return a.innerText="LIVE",s.isLiveShift(this._player._options)&&c.addClass(a,"live-shift-display"),a},bindEvent:function(){var a=document.querySelector("#"+this.id()),l=this;s.isLiveShift(this._player._options)&&(u.on(a,"click",function(){l._player._liveshiftService.switchToLive()}),o.registerTooltipEvent.call(this,this.el(),r.get("SwitchToLive")))}});t.exports=n},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../lib/playerutil":50,"../../lib/util":55,"../component":143,"./util":173}],154:[function(s,t,m){var d=s("../component"),o=s("../../player/base/event/eventtype"),c=s("./util"),u=s("../../lang/index"),s=d.extend({init:function(r,n){d.call(this,r,n),this.addClass("prism-play-btn")},bindEvent:function(){var r=this;this._player.on(o.Player.Play,function(){r.addClass("playing")}),this._player.on(o.Player.Pause,function(){r.removeClass("playing")}),this.on(o.Private.PlayClick,function(){var n;r._player.paused()?(n=r._player.getCurrentTime(),(r._player.getDuration()<=n||r._player._ended||r._player.exceedPreviewTime(n))&&!r._player._splayer&&r._player.seek(r._player._getPlayStartTime()),r._player.play(!0),r.addClass("playing")):(r._player.pause(!0),r.removeClass("playing")),r._player.trigger(o.Private.MarkerTextHide)}),c.registerTooltipEvent.call(this,this.el(),function(){return r._player.paused()?u.get("Play"):u.get("Pause")})}});t.exports=s},{"../../lang/index":28,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],155:[function(s,t,m){var d=s("../component"),o=s("../../lib/dom"),c=s("../../lang/index"),u=s("../../player/base/event/eventtype"),s=d.extend({init:function(r,n){d.call(this,r,n),this.addClass("prism-press-fast-forward")},createEl:function(){var r=d.prototype.createEl.call(this,"div");return r.innerHTML=`
    <div class="ff-arrow-container">
        <span class="ff-arrow ff-arrow1"></span>
        <span class="ff-arrow ff-arrow2"></span>
        <span class="ff-arrow ff-arrow3"></span>
        <span class="ff-text">`+c.get("Speed_Long_Press")+`</span>
    </div>
    `,r},bindEvent:function(){var r=this;this._player.on(u.Private.FastForwardShow,function(){r.show()}),this._player.on(u.Private.FastForwardHide,function(){r.hide()})},show:function(){o.css(this.el(),"display","flex")},hide:function(){o.css(this.el(),"display","none")},disposeUI:function(){}});t.exports=s},{"../../lang/index":28,"../../lib/dom":37,"../../player/base/event/eventtype":77,"../component":143}],156:[function(v,t,m){var d=v("../component"),o=v("../../lib/dom"),c=(v("../../lib/constants"),v("../../lib/event")),u=v("../../lib/ua"),s=v("../../lib/function"),r=v("../../lang/index"),n=v("../../config"),a=v("../../lib/util"),l=(v("../../lib/playerutil"),v("../../player/base/event/eventtype")),h=v("./util").debounce,v=d.extend({init:function(y,f){d.call(this,y,f),this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this._thumbnailHideTimer=null,this.addClass("prism-progress"),y.getOptions().disableSeek&&this.addClass("prism-progress-disabled")},createEl:function(){var y=d.prototype.createEl.call(this);return y.innerHTML='<div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-marker"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-progress-mask-left"></div><div class="prism-progress-mask-right"></div>',y},bindEvent:function(){function y(T){S._progressDown=T}var f=this,S=this,b=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this._player._options.id+" .prism-progress-time"),this.thumbnailNode=document.querySelector(".prism-thumbnail"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),document.querySelector("#"+this.id())),_=document.querySelector("#"+this.id()+" .prism-progress-cursor img"),g=(this.markerNode=document.querySelector("#"+this.id()+" .prism-progress-marker"),this.maskNodeLeft=document.querySelector("#"+this.id()+" .prism-progress-mask-left"),this.maskNodeRight=document.querySelector("#"+this.id()+" .prism-progress-mask-right"),"");this._player._options.skinsDomain=this._player._options.assetPrefix||this._player._options.skinsDomain,g=this._player._options.skinsDomain?this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":n.domain?"https://"+n.domain+n.path+n.h5Version+"/skins/default/img/dragcursor.png":"/build/skins/default/img/dragcursor.png",_&&(_.src=g),c.on(this.cursorNode,"mousedown",function(T){S._onMouseDown(T)}),c.on(this.cursorNode,"touchstart",function(T){S._onMouseDown(T)}),c.on(b,"mousemove",function(T){S._progressMove(T)}),c.on(b,"touchmove",function(T){S._progressMove(T)}),c.on(b,"mousedown",function(T){y(!0)}),c.on(b,"touchstart",function(T){y(!0)}),c.on(b,"mouseup",function(T){y(!1)}),c.on(b,"touchend",function(T){y(!1),S._moving&&u.IS_MOBILE&&(S._player.trigger(l.Private.EndStart,{toTime:S._lastSeekTime}),S._moving=!1)}),c.on(this._el,"click",function(T){S._onMouseClick(T)}),this._player.on(l.Private.HideProgress,function(T){S._hideProgress(T)}),this._player.on(l.Private.CancelHideProgress,function(T){S._cancelHideProgress(T)}),this._player.on(l.Private.HideBar,function(T){S._player._seeking=!1}),this._player.on(l.Video.LoadedMetadata,function(){f._updateMaskNode()}),this._player.on(l.Private.UpdateWatchTime,function(){f._updateMaskNode()}),c.on(b,l.Private.MouseOver,function(T){S._onMouseOver(T)}),c.on(b,l.Private.MouseOut,function(T){S._onMouseOut(T)}),c.on(this.controlNode,l.Private.MouseLeave,function(T){S._offMouseUp()}),c.on(this.maskNodeLeft,"mouseenter",function(){S._offMouseUp()}),c.on(this.maskNodeRight,"mouseenter",function(){S._offMouseUp()}),u.IS_PC?(_=h(function(){o.addClass(b,"prism-progress-hover"),o.addClass(S.cursorNode,"cursor-hover")},100),c.on(b,"mouseover",_),g=h(function(){o.removeClass(b,"prism-progress-hover"),o.removeClass(S.cursorNode,"cursor-hover"),S._progressDown=!1},100),c.on(b,"mouseout",g)):(o.addClass(b,"prism-progress-hover"),o.addClass(b,"prism-progress-mobile"),o.addClass(S.cursorNode,"cursor-hover")),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(l.Player.TimeUpdate,this.bindTimeupdate),u.IS_IPAD?this.interval=setInterval(function(){S._onProgress()},500):this._player.on(l.Video.Progress,function(){S._onProgress()}),this._player.on(l.Private.UpdateProgress,function(T){S._updateProgressBar(S.playedNode,T.paramData.targetTime)}),this._player.on(l.Private.UpdateCursorPosition,function(T){S._updateCursorPosition(T.paramData.targetTime)})},_progressMove:function(y){y.preventDefault();var f,S,b=this._getSeconds(y);b!=1/0&&(f=a.formatTime(b),S=this._getDistance(y),this.cursorNode)&&(this._player.trigger(l.Private.ThumbnailShow,{time:b,formatTime:f,left:S,progressWidth:this.el().offsetWidth}),this._autoHideThumbnail(),this._progressDown)&&this._onMouseMove(y)},_hideProgress:function(y){c.off(this.cursorNode,"mousedown"),c.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(y){var f=this;c.on(this.cursorNode,"mousedown",function(S){f._onMouseDown(S)}),c.on(this.cursorNode,"touchstart",function(S){f._onMouseDown(S)})},_canSeekable:function(y){var f=!0;return f=typeof this._player.canSeekable=="function"?this._player.canSeekable(y):f},_onMouseOver:function(y){this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseInProgress||this._updateCursorPosition(this._player.getCurrentTime()),this._mouseInProgress=!0},_onMouseOut:function(y){var f=this;this._cursorHideHandler&&clearTimeout(this._cursorHideHandler),this._cursorHideHandler=setTimeout(function(){f._player.trigger(l.Private.ThumbnailHide),f._mouseInProgress=!1})},_getSeconds:function(S){var S=this._getDistance(S),f=this.el().offsetWidth,S=this._player.getDuration()?S/f*this._player.getDuration():0;return S=(S=S<0?0:S)>this._player.getDuration()?this._player.getDuration():S},_getDistance:function(y){if(y.touches&&y.touches[0]){for(var f=this.el().offsetLeft,S=this.el();S.offsetParent;){var S=S.offsetParent,b=o.getTranslateX(S);f+=S.offsetLeft+b}S.tagName&&S.tagName.toLowerCase()==="body"&&(f+=document.getElementsByTagName("html")[0].offsetLeft);var _=(y.touches?y.touches[0]:y).pageX-f;return _=_<0?0:_}return _=y.offsetX,y.target===this.cursorNode||y.target.offsetParent===this.cursorNode?_+=this.cursorNode.offsetLeft:y.target!==this._el&&y.target.offsetParent!==this._el&&y.target.offsetParent===this.markerNode&&(_+=y.target.offsetLeft),_},_onMouseClick:function(y){var f=this,S=f._getSeconds(y);f._canSeekable(S)?f._player._canSeek(S+f._posOffset)&&(f._player.exceedPreviewTime(S)&&(S=f._player.getPreviewTime()),this._seekTime=S,f._updateProgressBar(this.playedNode,S),f._updateCursorPosition(S),this._mouseClickTimeHandle&&clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=setTimeout(function(){f._player._seeking=!0,f._mouseDown&&!u.IS_MOBILE||(f._player.trigger(l.Private.SeekStart,{fromTime:f._player.getCurrentTime()}),f._player.trigger(l.Private.EndStart,{toTime:S})),f._player.seek(S),f._mouseDown=!1,f._mouseClickTimeHandle=null,f._inWaitingSeek=!1},0),this._inWaitingSeek=!0):f._player.trigger(l.Private.Info_Show,{text:r.get("Can_Not_Seekable"),duration:2e3})},_onMouseDown:function(S){var f=this,S=(S.preventDefault(),this._mouseDown=!0,u.IS_PC&&this._player.trigger(l.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),c.on(this.controlNode,"mousemove",function(b){f._onMouseMove(b)}),c.on(this.controlNode,"touchmove",function(b){f._onMouseMove(b)}),c.on(this.controlNode,"mouseup",function(b){f._onControlBarMouseUp(b)}),c.on(this.controlNode,"touchend",function(b){f._onControlBarMouseUp(b)}),f._getSeconds(S));f._canSeekable(S)?f._player.exceedPreviewTime(S)&&f._player.getPreviewTime():f._player.trigger(l.Private.Info_Show,{text:r.get("Can_Not_Seekable"),duration:2e3})},_onMouseUp:function(y){this._onMouseUpIntern(y)},_onControlBarMouseUp:function(y){this._onMouseUpIntern(y)},_onPlayerMouseUp:function(y){this._onMouseUpIntern(y)},_offMouseUp:function(){c.off(this.controlNode,"mousemove"),c.off(this.controlNode,"touchmove"),c.off(this.controlNode,"mouseup"),c.off(this.controlNode,"touchend")},_onMouseUpIntern:function(y){y.preventDefault(),this._offMouseUp(),y=this._getDistance(y)/this.el().offsetWidth*this._player.getDuration(),this._player.getDuration(),isNaN(y)||this._player.seek(y),u.IS_PC&&this._player.trigger(l.Private.EndStart,{toTime:y}),this._autoHideThumbnail()},_onMouseMove:function(y){y.preventDefault(),!this._moving&&u.IS_MOBILE&&(this._player.trigger(l.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),this._moving=!0),y=this._getSeconds(y),this._player.exceedPreviewTime(y)&&(y=this._player.getPreviewTime()),this._player.seek(y),this._updateProgressBar(this.playedNode,y),this._updateCursorPosition(y),this._lastSeekTime=y},_onTimeupdate:function(y){var f=this._player._options.source,f=this._getUrlSuffix(f),S=!1;f==="mp4"&&(u.IS_MAC_SAFARI&&(S=!0),u.IS_IOS&&(S=!0),u.IS_IE11)&&(S=!0),f==="m3u8"&&u.IS_IE11&&(S=!0),this._player._options.mediaType=="audio"&&u.IS_IOS&&(this._player._seeking=!1),(this._inWaitingSeek||this._progressDown)&&!S||(this._updateProgressBar(this.playedNode,this._player.getCurrentTime()),this._updateCursorPosition(this._player.getCurrentTime()),this._player.trigger(l.Private.UpdateProgressBar,{time:this._player.getCurrentTime()}))},_onProgress:function(y){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(y,f){var S=this._player.getDuration();this._player._switchSourcing!=1&&S&&(this._seekTime!=-1&&(this._player.getCurrentTime()>=this._seekTime||!this._player._seeking?this._seekTime=-1:f=this._seekTime),1<(f=f/S)&&(f=1),y)&&o.css(y,"width",100*f+"%")},_updateCursorPosition:function(y){var f,S,b,_=this._player.getDuration();this._player._switchSourcing!=1&&_&&(f=1,S=(this.cursorNode.offsetWidth||16)/2/(b=this._player.el().clientWidth),b!=0&&(f=1-S),b=(b=y/_-S)<0?0:b,this.cursorNode)&&(f<b?(o.css(this.cursorNode,"right","0px"),o.css(this.cursorNode,"left","auto")):(o.css(this.cursorNode,"right","auto"),o.css(this.cursorNode,"left",100*b+"%")))},_getUrlSuffix:function(y){return!y||typeof y!="string"?"":((y=(y.split("?")[0]||"").split("."))[y.length-1]||"").toLowerCase()},_autoHideThumbnail:function(){var y=this;u.IS_MOBILE&&(this._thumbnailHideTimer&&clearTimeout(this._thumbnailHideTimer),this._thumbnailHideTimer=setTimeout(function(){y._moving||y._player.trigger(l.Private.ThumbnailHide)},2e3))},_makeUninteractible:function(y){["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach(function(f){c.on(y,f,function(S){S.stopPropagation()})})},_updateMaskNode:function(){var y,f=this._player._getSubVideoConfig();f.start||f.end?(o.css(this.maskNodeLeft,"width","0px"),o.css(this.maskNodeRight,"width","0px")):((f=this._player._getWatchTimeConfig()).watchStartTime&&f.watchEndTime?(y=100*Math.min(f.watchStartTime/this._player.getDuration(),1)+"%",o.css(this.maskNodeLeft,"width",y)):o.css(this.maskNodeLeft,"width","0px"),f.watchEndTime?(y=100*(1-Math.min(f.watchEndTime/this._player.getDuration(),1))+"%",o.css(this.maskNodeRight,"width",y)):o.css(this.maskNodeRight,"width","0px"),this._makeUninteractible(this.maskNodeLeft),this._makeUninteractible(this.maskNodeRight))},disposeUI:function(){this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this.cursorNodeHandler&&(clearTimeout(this.cursorNodeHandler),this.cursorNodeHandler=null),this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseClickTimeHandle&&(clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=null),this.interval&&(clearInterval(this.interval),this.interval=null)}});t.exports=v},{"../../config":19,"../../lang/index":28,"../../lib/constants":33,"../../lib/dom":37,"../../lib/event":38,"../../lib/function":40,"../../lib/playerutil":50,"../../lib/ua":53,"../../lib/util":55,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],157:[function(s,t,m){var d=s("../component"),o=(s("../../lib/util"),s("../../lib/dom")),c=s("../../lib/event"),u=s("../../player/base/event/eventtype"),s=d.extend({init:function(r,n){d.call(this,r,n),this.addClass("prism-marker-text")},createEl:function(){var r=d.prototype.createEl.call(this,"div");return r.innerHTML="<p></p>",r},bindEvent:function(){var r=this;r._player.on(u.Private.MarkerTextShow,function(n){var a=n.paramData,l=u.Player.MarkerDotOver;r._player.trigger(l,n.paramData),a.progressMarker.isCustomized?r._player.trigger(u.Private.LifeCycleChanged,{type:l,data:n.paramData}):(r._thumbnailShowHanlde&&(o.css(r.el(),"display","none"),clearTimeout(r._thumbnailShowHanlde)),r._thumbnailShowHanlde=setTimeout(function(){var h;document.querySelector("#"+r.id()+" p").innerText=a.progressMarker.text||"",a&&(o.css(r.el(),"display","block"),h=r._player.el().offsetWidth,left=h*a.left,width=r.el().offsetWidth,left+width>h?(o.css(r.el(),"right","0px"),o.css(r.el(),"left","auto")):(left=(left-=width/2)<0?0:left,o.css(r.el(),"right","auto"),o.css(r.el(),"left",left+"px")))},30))}),r._player.on(u.Private.MarkerTextHide,function(n){r._player.trigger(u.Player.MarkerDotOut),r._player.trigger(u.Private.LifeCycleChanged,{type:u.Player.MarkerDotOut,data:""}),r._thumbnailShowHanlde&&clearTimeout(r._thumbnailShowHanlde),o.css(r.el(),"display","none")}),c.on(r._player.tag,"click",function(n){n&&n.target==n.currentTarget&&r._player.trigger(u.Private.MarkerTextHide)}),c.on(r._player.tag,"touchstart",function(n){n&&n.target==n.currentTarget&&r._player.trigger(u.Private.MarkerTextHide)})},disposeUI:function(){this._thumbnailShowHanlde&&(clearTimeout(this._thumbnailShowHanlde),this._thumbnailShowHanlde=null)}});t.exports=s},{"../../lib/dom":37,"../../lib/event":38,"../../lib/util":55,"../../player/base/event/eventtype":77,"../component":143}],158:[function(r,t,m){var d=r("./selector"),o=r("../../../lib/object"),c=(r("../../../lib/util"),r("../../../lib/cookie"),r("../../../lib/dom")),u=(r("../../../lib/event"),r("./util"),r("../../../lang/index")),s=r("../../../player/base/event/eventtype"),r=d.extend({init:function(n,a){this.Name=u.get("AudioTrack"),this.Type="audio",this.Tooltip=u.get("AudioTrack_Switch_To"),d.call(this,n,a)},bindEvent:function(){this.bindCommonEvent();var n=this,a=document.querySelector("#"+n.id()+" .selector-list");document.querySelector("#"+n.id()+" .header"),n._player.on(s.Private.ChangeURL,function(){n._hasGeneratedList=!1}),this._player.on(s.Player.AudioTrackSwitch,function(){c.addClass(a,"disabled")}),this._player.on(s.Player.AudioTrackSwitched,function(){c.removeClass(a,"disabled")}),n._player.on(s.Player.AudioTrackReady,function(l){!n._hasGeneratedList&&(n._clear(),l=l.paramData)&&(o.each(l,function(h,v){var y=c.createEl.call(n,"li",{key:h.value,text:h.text}),f=c.createEl.call(n,"span",{key:h.value,text:h.text});f.innerText=h.text,y.appendChild(f),a.appendChild(y)}),n._hasGeneratedList=!0)})},execute:function(n){this._player._audioTrackService.switch(n)}});t.exports=r},{"../../../lang/index":28,"../../../lib/cookie":34,"../../../lib/dom":37,"../../../lib/event":38,"../../../lib/object":47,"../../../lib/util":55,"../../../player/base/event/eventtype":77,"./selector":164,"./util":166}],159:[function(r,t,m){var d=r("../../component"),o=(r("../../../lib/dom"),r("../../../player/base/event/eventtype")),c=r("./list"),u=r("../../../lang/index"),s=r("../util"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass(a.className||"prism-setting-btn"),this._settingList=new c(n,a),n.addChild(this._settingList,a)},createEl:function(){return d.prototype.createEl.call(this,"div")},bindEvent:function(){var n=this;this.on("click",function(){n._settingList.isOpened?n._player.trigger(o.Private.SettingListHide):n._player.trigger(o.Private.SettingListShow),n._player.trigger(o.Private.SelectorHide),n._player.trigger(o.Private.MarkerTextHide),n._player.trigger(o.Private.VolumeVisibilityChange,"")}),s.registerTooltipEvent.call(this,this.el(),u.get("Setting"))}});t.exports=r},{"../../../lang/index":28,"../../../lib/dom":37,"../../../player/base/event/eventtype":77,"../../component":143,"../util":173,"./list":162}],160:[function(a,t,m){var d=a("./selector"),o=a("../../../lib/object"),c=a("../../../lib/dom"),u=(a("../../../lib/event"),a("./util"),a("../../../lib/cookie")),s=a("../../../lib/constants"),r=a("../../../lang/index"),n=a("../../../player/base/event/eventtype"),a=d.extend({init:function(l,h){this.Name=r.get("Subtitle"),this.Type="cc",this.Tooltip=r.get("CC_Switch_To"),d.call(this,l,h)},bindEvent:function(){this.bindCommonEvent();var l=this;this._player.on(n.Private.CCStateChanged,function(y){var v=y.paramData.value,y=y.paramData.lang,y=(v=="on"&&y?l._backCCText=y:v=="off"&&l._backCCText==""&&(l._backCCText=l._previousSelection.text),"Off");v=="on"&&(y=l._backCCText),l._player.trigger(n.Private.SelectorUpdateList,{type:"cc",text:y})})},generateList:function(l){var h=document.querySelector("#"+this.id()+" .selector-list"),v=this._player._ccService.tracks,y=this;o.each(v,function(f,S){var b=c.createEl.call(this,"li",{key:f.value,text:f.text}),_=c.createEl.call(this,"span",{key:f.value,text:f.text});f.text==l&&(c.addClass(b,"current"),y._previousSelection=b),_.innerText=f.text,b.appendChild(_),h.appendChild(b)})},execute:function(l){this._backCCText="",u.set(s.SelectedCC,l,365),this._player._ccService.switch(l)}});t.exports=a},{"../../../lang/index":28,"../../../lib/constants":33,"../../../lib/cookie":34,"../../../lib/dom":37,"../../../lib/event":38,"../../../lib/object":47,"../../../player/base/event/eventtype":77,"./selector":164,"./util":166}],161:[function(e,t,m){t.exports={CC:e("./cc"),Speed:e("./speed"),Quality:e("./quality"),Audio:e("./audio")}},{"./audio":158,"./cc":160,"./quality":163,"./speed":165}],162:[function(l,t,m){var d=l("../../component"),o=l("../../../lib/dom"),c=l("../../../lib/ua"),u=l("../../../lib/event"),s=l("../../../player/base/event/eventtype"),r=l("./export"),n=l("./util"),a=l("../../../lang/index"),l=d.extend({init:function(h,v){for(var y in this.isOpened=!1,d.call(this,h,v),this.addClass(v.className||"prism-setting-list"),r)y=new r[y](h,v),h.addChild(y,v)},createEl:function(){var h=d.prototype.createEl.call(this,"div"),S="<div class='prism-setting-item prism-setting-{type}' type={type}><div class='setting-content'><span class='setting-title'>{value}</span><span class='array'></span><span class='current-setting'></span></div></div>",v=S.replace(/{type}/g,"speed").replace("{value}",a.get("Speed")),y=S.replace(/{type}/g,"cc").replace("{value}",a.get("Subtitle")),f=S.replace(/{type}/g,"audio").replace("{value}",a.get("AudioTrack")),S=S.replace(/{type}/g,"quality").replace("{value}",a.get("Quality"));return h.innerHTML=v+y+f+S,h},bindEvent:function(){function h(){y._player.trigger(s.Private.SettingListHide),y.isOpened=!1}function v(S){S&&S.type&&(document.querySelector("#"+y.id()+" .prism-setting-"+S.type+" .current-setting").innerText=S.text||"")}var y=this,f=(this._player.on(s.Private.SettingListShow,function(S){y.isOpened=!0,S=S.paramData,v(S),o.css(y.el(),"display","block")}),this._player.on(s.Private.UpdateToSettingList,function(S){S=S.paramData,v(S)}),this._player.on(s.Private.SelectorUpdateList,function(S){S=S.paramData,v(S),y._player.trigger(s.Private.SelectorValueChange,S)}),this._player.on(s.Private.SettingListHide,function(){y.isOpened=!1,o.css(y.el(),"display","none")}),u.on(this.el(),"click",function(b){y._player.trigger(s.Private.SettingListHide);var b=b.srcElement||b.target;(b=n.findItemElementForList(b))&&(b=b.getAttribute("type"),y._player.trigger(s.Private.SelectorShow,{type:b}))}),c.IS_MOBILE?"touchleave":"mouseleave");u.on(this.el(),f,function(){h()}),u.on(this._player.tag,"click",function(S){S&&S.target==S.currentTarget&&h()}),u.on(this._player.tag,"touchstart",function(S){S&&S.target==S.currentTarget&&h()}),this._player.on(s.Private.QualityChange,function(g){var b,_,g=g.paramData;g.levelSwitch&&(b=document.querySelector("#"+y.id()+" .prism-setting-quality .current-setting"),_=a.get("Auto"),g=g.desc,-1<b.innerText.indexOf(_))&&(g&&-1<String(g).indexOf("(")?_=_+"-"+g:_+=g?"("+g+")":"",b.innerText=_)})}});t.exports=l},{"../../../lang/index":28,"../../../lib/dom":37,"../../../lib/event":38,"../../../lib/ua":53,"../../../player/base/event/eventtype":77,"../../component":143,"./export":161,"./util":166}],163:[function(a,t,m){var d=a("./selector"),o=a("../../../lib/object"),c=(a("../../../lib/util"),a("../../../lib/cookie")),u=a("../../../lib/dom"),s=(a("../../../lib/event"),a("../../../lib/constants")),r=a("../../../lang/index"),n=a("../../../player/base/event/eventtype"),a=d.extend({init:function(l,h){this.Name=r.get("Quality"),this.Type="quality",this.Tooltip=r.get("Quality_Switch_To"),d.call(this,l,h),this._isMasterLevel=!1},showTip:function(l,h){this._player.trigger(n.Private.Info_Show,{text:l,duration:h,align:"lb"})},bindEvent:function(){this.bindCommonEvent();var l=this,h=(this._player.on(n.Private.QualityChange,function(v){var y,f,S=0<l._player._urls.length?l._player._urls:l._player._qualityService.levels;(data=v.paramData).levelSwitch?(y=data.desc||data.bitrate,l._autoSWitchDesc=y,l._updateText(y)):0<l._player._currentPlayIndex&&(l._autoSWitchDesc="",f=S[(y=l._player._currentPlayIndex)-1].desc,S=S[y].desc,l.showTip(f+v.paramData+S,1e3),l._player.trigger(n.Private.SelectorValueChange,{type:l.Type,text:S}))}),document.querySelector("#"+l.id()+" .selector-list"));this._player.on(n.Player.LevelSwitch,function(){u.addClass(h,"disabled")}),this._player.on(n.Player.LevelSwitched,function(){u.removeClass(h,"disabled")})},generateList:function(l){var h,v=this._player._urls,y=this._player._currentPlayIndex,f=this._player._qualityService.levels,S=(0<f.length&&(this._isMasterLevel=!0,this._player._options.isVBR)&&(y=(v=f).length-1),document.querySelector("#"+this.id()+" .selector-list"));0<v.length&&(h=this,o.each(v,function(b,_){var g,T;(b.desc||b.bitrate)&&(g=u.createEl.call(this,"li",{key:b.Url,index:_,text:b.desc||b.bitrate}),T=u.createEl.call(this,"span",{key:b.Url,index:_,text:b.desc||b.bitrate}),_==y&&(u.addClass(g,"current"),h._previousSelection=g),T.innerText=b.desc||b.bitrate,g.appendChild(T),S.appendChild(g))})),this._autoSWitchDesc&&this._updateText(this._autoSWitchDesc)},execute:function(l){if(this._player._switchSourcing=!0,this._isMasterLevel){for(var h,v=this._player._qualityService.levels,y=0;y<v.length;y++)v[y].Url==l&&v[y].desc!=r.get("Auto")&&(h=v[y],this._resetAutoText());this._player._switchLevel?this._player._switchLevel(l,h):(f=this._player.autoplay||this._player._status!="pause",this._player._loadByUrlInner(l,this._player.getCurrentTime(),f))}else{for(var f,S=this._player._urls.length,b=this._player._currentPlayIndex,_=-1,y=0;y<S;y++)if(this._player._urls[y].Url==l){_=this._player._currentPlayIndex=y,c.set(s.SelectedStreamLevel,this._player._urls[y].definition,365);break}b!=_&&-1<_&&(b=this._player.getCurrentTime(),f=this._player.autoplay||this._player._status!="pause",this._player.autoplay||b!=0||(f=!1),this._player._switchLevel&&!this._player._options.isLive&&this._player._options.isVBR?this._player._switchLevel(l):this._player._loadByUrlInner(l,b,f))}var g=this;setTimeout(function(){g._player._switchSourcing=!1})},_updateText:function(l){var h=document.querySelector("#"+this.id()+" .selector-list .current"),v=document.querySelector("#"+this.id()+" .selector-list .current span"),y=r.get("Auto");v&&v.innerText&&-1<v.innerText.indexOf(y)&&(l&&-1<String(l).indexOf("(")?y=y+"-"+l:y+=l?"("+l+")":"",v.innerText=y,h)&&(h.text=y)},_resetAutoText:function(){for(var l=r.get("Auto"),h=document.querySelectorAll("#"+this.id()+" .selector-list li"),v=0;v<h.length;v++){var y=h[v],f=y.querySelector("span");if(-1<f.innerText.indexOf(l)){f.innerText=l,y.text=l;break}}}});t.exports=a},{"../../../lang/index":28,"../../../lib/constants":33,"../../../lib/cookie":34,"../../../lib/dom":37,"../../../lib/event":38,"../../../lib/object":47,"../../../lib/util":55,"../../../player/base/event/eventtype":77,"./selector":164}],164:[function(n,t,m){var d=n("../../component"),o=(n("../../../lib/object"),n("../../../lib/util"),n("../../../lib/ua")),c=(n("../../../lib/cookie"),n("../../../lib/dom")),u=n("../../../lib/event"),s=n("./util"),r=(n("../../../lang/index"),n("../../../player/base/event/eventtype")),n=d.extend({init:function(a,l){this._hasGeneratedList=!1,this._previousSelection=null,this._backupSelector="",d.call(this,a,l),this.className=l.className||"prism-"+this.Type+"-selector prism-setting-selector",this.addClass(this.className)},createEl:function(){var a=d.prototype.createEl.call(this,"div");return a.innerHTML='<div class="header"><div class="left-array"></div><span>'+this.Name+'</span></div><ul class="selector-list"></ul>',a},bindEvent:function(){this.bindCommonEvent()},bindCommonEvent:function(){var a=this,l=document.querySelector("#"+a.id()+" .selector-list"),y=document.querySelector("#"+a.id()+" .header");function h(){a._hasGeneratedList||(a._clear(),a.generateList(a._backupSelector),a._backupSelector="",a._hasGeneratedList=!0)}this._player.on(r.Private.ChangeURL,function(){a._hasGeneratedList=!1}),u.on(y,"click",function(){a._player.trigger(r.Private.SelectorHide),a._player.trigger(r.Private.SettingListShow,{type:a.Type,text:a._previousSelection?a._previousSelection.text:""})}),u.on(l,"click",function(S){var S=S.srcElement||S.target,b=S.key,_=S.text;a._player.traceLog("selector.js","selector::click#"+a.Name+"#"+a.Type+"#"+_+"#"+b),a._player.trigger(r.Player.SettingSelected,{name:a.Name,type:a.Type,text:_,key:b}),_!==void 0&&(a._previousSelection&&c.removeClass(a._previousSelection,"current"),a._previousSelection=s.findliElementForSelector(S),c.addClass(a._previousSelection,"current"),a.execute&&a.execute(b),S=a.Tooltip+"<span>"+_+"</span>",a._player.trigger(r.Private.Info_Show,{text:S,duration:3e3,align:"lb"}))}),a._player.on(r.Private.SelectorHide,function(){v()}),a._player.on(r.Private.SelectorValueChange,function(f){var S=f.paramData;if(S&&S.type==a.Type){var b=document.querySelectorAll("#"+a.id()+" .selector-list li");if(b){for(var _=b.length,g=(_==0&&(a._backupSelector=S.text),-1),T=0;T<_;T++)if(b[T].text==S.text){g=T;break}a._previousSelection&&(c.removeClass(a._previousSelection,"current"),a._previousSelection=null),g!==-1?(c.addClass(b[g],"current"),a._previousSelection=b[g]):a._previousSelection||console.warn("UI Not Sync: No Such Option '"+S.text+"' in '"+S.type+"'")}}}),a._player.on(r.Private.SettingListShow,function(){h()}),a._player.on(r.Private.SelectorGenerateList,function(b){var S=b.paramData&&b.paramData.type,b=b.paramData&&b.paramData.value;S===a.Type&&(a._hasGeneratedList=!1,b&&(a._backupSelector=b),h())}),a._player.on(r.Private.SelectorShow,function(f){(f=f.paramData).type==a.Type&&(f=document.querySelector("#"+a._player.id()+" .prism-"+f.type+"-selector"),a._hasGeneratedList||h(),c.css(f,"display","block"))});var v=function(){c.css(a.el(),"display","none"),a._player.trigger(r.Private.UpdateToSettingList,{type:a.Type,text:a._previousSelection?a._previousSelection.text:""})},y=o.IS_MOBILE?"touchleave":"mouseleave";u.on(this.el(),y,function(){v()}),u.on(this._player.tag,"click",function(f){f&&f.target==f.currentTarget&&v()}),u.on(this._player.tag,"touchstart",function(f){f&&f.target==f.currentTarget&&v()})},setSelected:function(a){},generateList:function(){},_clear:function(){document.querySelector("#"+this.id()+" .selector-list").innerHTML=""}});t.exports=n},{"../../../lang/index":28,"../../../lib/cookie":34,"../../../lib/dom":37,"../../../lib/event":38,"../../../lib/object":47,"../../../lib/ua":53,"../../../lib/util":55,"../../../player/base/event/eventtype":77,"../../component":143,"./util":166}],165:[function(n,t,m){var d=n("./selector"),o=n("../../../lib/object"),c=(n("../../../lib/util"),n("../../../lib/cookie"),n("../../../lib/dom")),u=(n("../../../lib/event"),n("./util"),n("../../../lib/constants")),s=n("../../../lang/index"),r=n("../../../player/base/event/eventtype"),n=d.extend({init:function(a,l){var h=this;this.Name=s.get("Speed"),this.Type="speed",this.Tooltip=s.get("Speed_Switch_To"),this.speedPreStore=1,this.listGenerated=!1,d.call(this,a,l),this._player.on(r.Private.PlaybackRateChanged,function(v){h.speedPreStore=v.paramData,h.listGenerated&&h._player.trigger(r.Private.SelectorUpdateList,{type:"speed",text:v.paramData})})},generateList:function(){var a=document.querySelector("#"+this.id()+" .selector-list"),l=this._player._options.speedLevels,l=this.verifySpeedLevels(l)?l:u.SpeedLevels,h=this;o.each(l,function(v,y){var f=c.createEl.call(this,"li",{key:v.key,text:v.text}),S=c.createEl.call(this,"span",{key:v.key,text:v.text});S.innerText=v.text,v.key==h.speedPreStore&&(c.addClass(f,"current"),h._previousSelection=f),f.appendChild(S),a.appendChild(f)}),this.listGenerated=!0},execute:function(a){this._player.setSpeed(a,!1)},verifySpeedLevels:function(a){var l=0;if(a&&a.length)try{a.forEach(function(h){typeof h.key=="number"&&h.key==h.key&&0<=h.key&&l++})}catch{return!1}return a&&l===a.length}});t.exports=n},{"../../../lang/index":28,"../../../lib/constants":33,"../../../lib/cookie":34,"../../../lib/dom":37,"../../../lib/event":38,"../../../lib/object":47,"../../../lib/util":55,"../../../player/base/event/eventtype":77,"./selector":164,"./util":166}],166:[function(e,t,m){t.exports.findliElementForSelector=function(d){var o;return d&&d.tagName.toLowerCase()!="li"?(o=d.parentElement)&&o.tagName.toLowerCase()=="li"?o:null:d},t.exports.findliElementByKey=function(d,o){return document.querySelectors(d),null},t.exports.findItemElementForList=function(d){var o;return!d||-1<d.className.indexOf("prism-setting-item")||(o=d.parentElement)&&(d=t.exports.findItemElementForList(o)),d}},{}],167:[function(r,t,m){var d=r("../component"),o=r("../../lib/dom"),c=r("../../lang/index"),u=r("../../player/base/event/eventtype"),s=r("./util"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass("prism-snapshot-btn")},createEl:function(){return d.prototype.createEl.call(this,"div")},bindEvent:function(){var n=this,a=this._player;a.on(u.Private.Snapshot_Hide,function(){o.css(n._el,"display","none")}),s.registerTooltipEvent.call(this,this.el(),c.get("Snapshot")),this.on("click",function(){n.trigger(u.Player.Snapshoting),n.trigger(u.Player.Snapshoted,a.takeSnapshot())})}});t.exports=r},{"../../lang/index":28,"../../lib/dom":37,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],168:[function(o,t,m){var d=o("../component"),o=(o("../../lib/dom"),o("../../player/base/event/eventtype"),d.extend({init:function(c,u){d.call(this,c,u),this.addClass("prism-text-overlay")},createEl:function(){return d.prototype.createEl.call(this,"div")},_hide:function(c){},_show:function(c){},bindEvent:function(){}}));t.exports=o},{"../../lib/dom":37,"../../player/base/event/eventtype":77,"../component":143}],169:[function(r,t,m){var d=r("../component"),o=(r("../../lib/util"),r("../../lib/dom")),c=r("../../lib/event"),u=(r("../../lib/ua"),r("../../lang/index"),r("../../player/base/event/eventtype")),s=r("./util"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass("prism-thumbnail")},createEl:function(){var n=d.prototype.createEl.call(this,"div");return n.innerHTML="<img></img><span></span>",n},bindEvent:function(){var n=this,a=(c.on(this._el,"mousemove",function(l){l.preventDefault()}),c.on(this._el,"touchmove",function(l){l.preventDefault()}),n._player.on(u.Private.ThumbnailLoaded,function(f){var h,v,y,f=f.paramData;f&&0<f.length&&(h=n._player._thumbnailService.makeUrl(f[0].text),n._player.log("THUMBNAILSTART",{tu:encodeURIComponent(h)}),v=new Date().getTime(),f[0].isBig?(o.css(n.el(),"background","url("+h+")"),o.css(n.el(),"width",f[0].w+"px"),o.css(n.el(),"height",f[0].h+"px"),n._player.log("THUMBNAILCOMPLETE",{ftt:new Date().getTime()-v})):((y=document.querySelector("#"+n.id()+" img")).onload=function(){var S=y.width,b=y.height;o.css(n.el(),"width",S+"px"),o.css(n.el(),"height",b+"px"),n._player.log("THUMBNAILCOMPLETE",{ftt:new Date().getTime()-v})},y.src=h))}),s.throttle(function(S){var h,v,y,S=S[0],f=document.querySelector("#"+n.id()+" span"),S=S.paramData;f.innerText=S.formatTime,S&&((h=n._player._thumbnailService.findAvailableCue(S.time))?h.isBig?(v=n._player._thumbnailService.makeUrl(h.text),o.css(n.el(),"background","url("+v+")"),h.w,h.h,y=-1*h.x+"px "+-1*h.y+"px",o.css(n.el(),"background-position",y)):(y=document.querySelector("#"+n.id()+" img"),v=n._player._thumbnailService.makeUrl(h.text),y.src!=v&&(y.src=v)):(o.css(n.el(),"border","none"),o.css(f,"left","0px")),o.css(n.el(),"display","block"),y=0,v=(h?n.el():f).offsetWidth,y=S.left+v>S.progressWidth?S.left-v:(y=S.left-v/2)<0?0:y,o.css(n.el(),"left",y+"px"))},30));n._player.on(u.Private.ThumbnailShow,a),n._player.on(u.Private.ThumbnailHide,function(l){o.css(n.el(),"display","none")})},_createSamllThumbnail:function(){},disposeUI:function(){}});t.exports=r},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../lib/ua":53,"../../lib/util":55,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],170:[function(u,t,m){var d=u("../component"),o=u("../../lib/util"),c=u("../../player/base/event/eventtype"),u=d.extend({init:function(s,r){d.call(this,s,r),this.addClass("prism-time-display")},createEl:function(){var s=d.prototype.createEl.call(this,"div");return s.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="duration">00:00</span>',s},bindEvent:function(){var s=this;this._player.on(c.Video.DurationChange,function(){var r=o.formatTime(s._player.getDisplayDuration());r?(document.querySelector("#"+s.id()+" .time-bound").style.display="inline",document.querySelector("#"+s.id()+" .duration").style.display="inline",document.querySelector("#"+s.id()+" .duration").innerText=r):(document.querySelector("#"+s.id()+" .duration").style.display="none",document.querySelector("#"+s.id()+" .time-bound").style.display="none")}),this._player.on(c.Video.TimeUpdate,function(){var r=s._player.getCurrentTime(),r=o.formatTime(r);document.querySelector("#"+s.id()+" .current-time")&&(r?(document.querySelector("#"+s.id()+" .current-time").style.display="inline",document.querySelector("#"+s.id()+" .current-time").innerText=r):document.querySelector("#"+s.id()+" .current-time").style.display="none")})}});t.exports=u},{"../../lib/util":55,"../../player/base/event/eventtype":77,"../component":143}],171:[function(u,t,m){var d=u("../component"),o=u("../../lib/dom"),c=u("../../player/base/event/eventtype"),u=d.extend({init:function(s,r){d.call(this,s,r),this.addClass("prism-tooltip")},createEl:function(){var s=d.prototype.createEl.call(this,"p");return s.innerText="提示信息",s},bindEvent:function(){var s=this;s._player.on(c.Private.TooltipShow,function(a){var n=document.querySelector("#"+s.id()),a=a.paramData,l=(n.innerText=a.text,o.css(n,"display","block"),n.offsetWidth),h=document.querySelector("#"+s._player.id()+" .prism-controlbar");h&&(h=h.offsetWidth,a.left+l>h?o.css(n,"left",h-l+"px"):o.css(n,"left",a.left-(l-a.width)/2+"px"))}),s._player.on(c.Private.TooltipHide,function(r){var n=document.querySelector("#"+s.id());o.css(n,"display","none")})}});t.exports=u},{"../../lib/dom":37,"../../player/base/event/eventtype":77,"../component":143}],172:[function(r,t,m){var d=r("../component"),o=r("../../lib/dom"),c=r("../../lib/event"),u=r("../../lang/index"),s=r("../../player/base/event/eventtype"),r=d.extend({init:function(n,a){d.call(this,n,a),this.addClass("prism-unmute-btn")},createEl:function(){var n=d.prototype.createEl.call(this,"div");return n.innerText=u.get("Click_To_Unmute"),n},bindEvent:function(){var n=this;this._player.on(s.Private.MutedAutoplay,function(){var a;(a=n._player.getOptions().autoplayPolicy)!=null&&a.showUnmuteBtn&&n._show()}),this._player.on(s.Private.HideUnmuteButton,function(){n._hide()}),c.on(this.el(),"click",function(){n._player.unMute(!0),n._hide()})},_show:function(){o.css(this.el(),"display","block")},_hide:function(){o.css(this.el(),"display","none")}});t.exports=r},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../player/base/event/eventtype":77,"../component":143}],173:[function(e,t,m){var d=e("../../lib/event"),o=e("../../player/base/event/eventtype");t.exports.registerTooltipEvent=function(c,u){function s(){r._controlbarTooltipHandler&&(clearTimeout(r._controlbarTooltipHandler),r._controlbarTooltipHandler=null)}var r=this;d.on(this.el(),"mouseover",function(n){s(),r._controlbarTooltipHandler=setTimeout(function(){r._player.trigger(o.Private.TooltipHide)},4e3);var a=r.el().offsetLeft,l=r.el().offsetWidth,h=u;typeof u=="function"&&(h=u.call(this)),r._player.trigger(o.Private.TooltipShow,{left:a,width:l,text:h})}),d.on(this.el(),"mouseout",function(){s(),r._player.trigger(o.Private.TooltipHide)})},t.exports.throttle=function(c,u){var s=Date.now();return function(){var r=arguments,n=Date.now();u<=n-s&&(c(r),s=n)}},t.exports.debounce=function(c,u){var s;return function(){var r=this,n=arguments;clearTimeout(s),s=setTimeout(function(){c.apply(r,n)},u)}}},{"../../lib/event":38,"../../player/base/event/eventtype":77}],174:[function(a,t,m){var d=a("../component"),o=a("../../lib/dom"),c=a("../../lib/event"),u=a("../../player/base/event/eventtype"),s=a("./util"),r=a("../../lang/index"),n=a("./volumecontrol"),a=d.extend({init:function(l,h){d.call(this,l,h),this.addClass("prism-volume");var v=new n(l,h);l.addChild(v,h),this.volumeControl=v},createEl:function(){var l=d.prototype.createEl.call(this,"div");return l.innerHTML='<div class="volume-icon"><div class="short-horizontal"></div><div class="long-horizontal"></div></div>',l},bindEvent:function(){var l=this,h=l._player,v=(this.icon=document.querySelector("#"+l.id()+"  .volume-icon"),s.registerTooltipEvent.call(this,this.el(),function(){return l._player.muted()||l._player.getVolume()==0?r.get("Muted"):r.get("Volume")}),c.on(this.icon,"click",function(f){var S;l.volumeControl._shown?h.muted()?h.unMute():h.mute():(S=l.el().offsetLeft,l._player.trigger(u.Private.SettingListHide),l._player.trigger(u.Private.SelectorHide),l._player.trigger(u.Private.VolumeVisibilityChange,S),l._player.trigger(u.Private.MarkerTextHide))}),document.querySelector("#"+l.id()+"  .long-horizontal")),y=document.querySelector("#"+l.id()+"  .short-horizontal");c.on(this.el(),"mouseover",function(){o.removeClass(v,"volume-hover-animation"),setTimeout(function(){o.addClass(v,"volume-hover-animation")}),setTimeout(function(){o.removeClass(v,"volume-hover-animation"),o.addClass(y,"volume-hover-animation"),setTimeout(function(){o.removeClass(y,"volume-hover-animation"),o.addClass(v,"volume-hover-animation")},300)},300)}),c.on(window,"resize",function(){var f;l.volumeControl._shown&&(f=l.el().offsetLeft,l._player.trigger(u.Private.VolumeUpdatePosition,f))})}});t.exports=a},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../player/base/event/eventtype":77,"../component":143,"./util":173,"./volumecontrol":175}],175:[function(s,t,m){var d=s("../component"),o=s("../../lib/dom"),c=s("../../lib/event"),u=s("../../player/base/event/eventtype"),s=(s("./util"),s("../../lang/index"),d.extend({init:function(r,n){d.call(this,r,n),this.addClass("prism-volume-control"),this._shown=!1},createEl:function(){var r=d.prototype.createEl.call(this,"div");return r.innerHTML='<div class="volume-range"><div class="volume-value"></div><div class="volume-cursor"></div></div>',r},bindEvent:function(){var r=this;this.icon=document.querySelector("#"+r._player.id()+"  .volume-icon"),this.control=document.querySelector("#"+r.id()),this.volumnValue=document.querySelector("#"+r.id()+"  .volume-value"),this.volumnRange=document.querySelector("#"+r.id()+"  .volume-range"),this.volumnCursor=document.querySelector("#"+r.id()+"  .volume-cursor"),this._player.on(u.Private.VolumeVisibilityChange,function(l){var a,l=l.paramData;!r._shown&&l?(a=r._player.getVolume(),r._setVolumnUI(a),o.css(r.control,"display","block"),l&&r._updatePosition(l),r._shown=!0):r._hide()}),this._player.on(u.Private.VolumeUpdatePosition,function(n){n=n.paramData,r._shown&&r._updatePosition(n)}),this._player.on(u.Private.ControlBarClick,function(n){o.hasClass(n.paramData.target,"prism-controlbar-bg")&&r._hide()}),c.on(this.volumnRange,"click",function(n){n=o.getPointerPosition(r.volumnRange,n).y,n<0||1<n||(r._setVolumnUI(n=1<(n=n<0?0:n)?1:n),r._setMuteUI(n),r._player.setVolume(n))}),c.on(this._player.tag,"click",function(n){n&&n.target==n.currentTarget&&r._hide()}),c.on(this._player.tag,"touchstart",function(n){n&&n.target==n.currentTarget&&r._hide()}),c.on(this.volumnCursor,"mousedown",function(n){r._onMouseDown(n)}),c.on(this.volumnCursor,"touchstart",function(n){r._onMouseDown(n)}),this._player.on(u.Private.VolumnChanged,function(n){n=n.paramData,-1<n&&r._setVolumnUI(n),r._setMuteUI(n)}),c.on(this.control,"mouseleave",function(){r._offEvent(),r._hide()}),c.on(this.control,"mouseover",function(){o.addClass(r.control,"hover")}),r._rangeBottom=r._getBottom()},_getBottom:function(){var r;return window.getComputedStyle?(r=window.getComputedStyle(this.volumnRange,null).getPropertyValue("bottom"),parseFloat(r)):26},_onMouseDown:function(r){var n=this;r.preventDefault(),c.on(this.control,"mousemove",function(a){n._onMouseMove(a)}),c.on(this.control,"touchmove",function(a){n._onMouseMove(a)}),c.on(this._player.tag,"mouseup",function(a){n._onMouseUp(a)}),c.on(this._player.tag,"touchend",function(a){n._onMouseUp(a)}),c.on(this.control,"mouseup",function(a){n._onMouseUp(a)}),c.on(this.control,"touchend",function(a){n._onMouseUp(a)})},_onMouseUp:function(r){r.preventDefault(),this._offEvent(),this.volumnRange.offsetHeight&&(r=(this.volumnValue.offsetHeight/this.volumnRange.offsetHeight).toFixed(2),this._player.setVolume(r),this._setMuteUI(r))},_onMouseMove:function(r){r.preventDefault(),r=o.getPointerPosition(this.volumnRange,r).y,r<0||1<r||this._setVolumnUI(r=1<(r=r<0?0:r)?1:r)},_getPosition:function(r){for(var n=this.volumnRange,a=0;n=n.offsetParent;)a+=n.offsetTop;var l=this.volumnRange.offsetHeight,h=this.volumnCursor.offsetHeight,v=(r.touches?r.touches[0]:r).pageY;return(l-((v=l<v-a?r.clientY:v)-a)+h)/this.volumnRange.offsetHeight},_offEvent:function(){c.off(this._player.tag,"mouseup"),c.off(this._player.tag,"touchend"),c.off(this.control,"mousemove"),c.off(this.control,"touchmove"),c.off(this.control,"mouseup"),c.off(this.control,"touchend")},_setMuteUI:function(r){isNaN(r)||(r==0||r==-1?o.addClass(this.icon,"mute"):o.removeClass(this.icon,"mute"))},_setVolumnUI:function(r){isNaN(r)||(o.css(this.volumnValue,"height",100*r+"%"),o.css(this.volumnCursor,"bottom",100*(r=r==1?.99:r)+"%"))},_hide:function(){o.css(this.control,"display","none"),this._shown=!1},_updatePosition:function(r){o.css(this.control,"left",r-5+"px")}}));t.exports=s},{"../../lang/index":28,"../../lib/dom":37,"../../lib/event":38,"../../player/base/event/eventtype":77,"../component":143,"./util":173}],176:[function(e,t,m){t.exports={H5Loading:e("./component/h5-loading"),bigPlayButton:e("./component/big-play-button"),unmuteButton:e("./component/unmute-button"),controlBar:e("./component/controlbar"),progress:e("./component/progress"),playButton:e("./component/play-button"),liveDisplay:e("./component/live-display"),timeDisplay:e("./component/time-display"),fullScreenButton:e("./component/fullscreen-button"),volume:e("./component/volume"),snapshot:e("./component/snapshot"),errorDisplay:e("./component/error-display"),infoDisplay:e("./component/info-display"),liveShiftProgress:e("../commonui/liveshiftprogress"),liveShiftTimeDisplay:e("../commonui/livetimedisplay"),setting:e("./component/setting/button"),subtitle:e("./component/cc-button"),thumbnail:e("./component/thumbnail"),tooltip:e("./component/tooltip")}},{"../commonui/liveshiftprogress":17,"../commonui/livetimedisplay":18,"./component/big-play-button":144,"./component/cc-button":145,"./component/controlbar":146,"./component/error-display":149,"./component/fullscreen-button":150,"./component/h5-loading":151,"./component/info-display":152,"./component/live-display":153,"./component/play-button":154,"./component/progress":156,"./component/setting/button":159,"./component/snapshot":167,"./component/thumbnail":169,"./component/time-display":170,"./component/tooltip":171,"./component/unmute-button":172,"./component/volume":174}]},{},[20])(20)})}(aliplayerMin)),aliplayerMin.exports}var aliplayerMinExports=requireAliplayerMin();const Aliplayer$1=getDefaultExportFromCjs(aliplayerMinExports);async function loadModule(){return new Promise((e,t)=>{__vitePreload(()=>import("./aliplayercomponents-1.1.4.min-3N-ypOg8-Dj3wRSUr.js").then(m=>m.a),[]).then(()=>{e(window.AliPlayerComponent)}).catch(m=>{t(m)})})}class lnltchPlayer{opt;ready=!1;_player;constructor(t,{...m},d){const o=this;if(t){let c;if(typeof t=="string"){const s=document.getElementById(t);if(!s)throw new Error(`无法找到 ID 为 ${t} 的元素`);c=s}else if(t instanceof HTMLElement)c=t;else throw new Error(`container ${t} 只能是字符串或 HTMLElement`);const u=window.getComputedStyle(c);this.opt={width:parseInt(u.width.replace("px",""),10),height:parseInt(u.height.replace("px",""),10),autoSize:!1,isLive:!1,poster:"",cover:"",loop:!1,preload:!1,muted:!1,autoplay:!1,autoplayPolicy:{fallbackToMute:!1,showUnmuteBtn:!0},useH5Prism:!0,playsinline:!0,bulletText:"",bulletStyle:{fontSize:"16px",color:"#00c1de"},speedLevels:[{key:.5,text:"0.5x"},{key:.75,text:"0.75x"},{key:1,text:"1x"},{key:1.25,text:"1.25x"},{key:1.5,text:"1.5x"},{key:2,text:"2x"}],...m},loadModule().then(s=>{let r="";if(typeof this.opt.sources=="string")r=this.opt.sources;else if(Array.isArray(this.opt.sources)){let l=new Map;for(let h=0;h<this.opt.sources.length;h++)l.set(this.opt.sources[h].name,this.opt.sources[h].url);r=JSON.stringify(Object.fromEntries(l))}else throw new Error("sources 必须是字符串或数组");const n=Object.assign({},{id:t,license:{domain:this.opt.licenseDomain,key:this.opt.licenseKey},width:this.opt.width,height:this.opt.height,autoSize:this.opt.autoSize,cover:this.opt.cover||this.opt.poster,isLive:this.opt.isLive,language:"zh-cn",rePlay:this.opt.loop,mute:this.opt.muted,autoplay:this.opt.autoplay,autoplayPolicy:this.opt.autoplayPolicy,useH5Prism:this.opt.useH5Prism,playsinline:this.opt.playsinline,speedLevels:this.opt.speedLevels,source:r,start:this.opt.start,end:this.opt.end,watchStartTime:this.opt.watchStartTime,watchEndTime:this.opt.watchEndTime,disablePip:!0,disableSeek:this.opt.disableSeek,components:[this.opt.bulletText?{name:"BulletScreenComponent",type:s.BulletScreenComponent,args:[this.opt.bulletText,this.opt.bulletStyle,"random"]}:null,{name:"MemoryPlayComponent",type:s.MemoryPlayComponent,args:[o.opt.autoplay,()=>this.opt.getTime?this.opt.getTime():this._getMemoryTime(this.opt.memoryVideo),(l,h)=>{this.opt.saveTime?this.opt.saveTime(this.opt.memoryVideo,h):this._saveMemoryTime(this.opt.memoryVideo,h.toString())}]},{name:"QualityComponent",type:s.QualityComponent},{name:"RateComponent",type:s.RateComponent}],skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},this.opt.deepOptions),a=new Aliplayer$1(n,l=>{d&&d(l)});a.on("ready",()=>(o.ready=!0,o._player=a,o))})}else throw new Error("container 不能为空")}_getMemoryTime(t){return localStorage.getItem("video_play_"+t)}_saveMemoryTime(t,m){localStorage.setItem("video_play_"+t,m)}getAliPlayer(){return this._player?this._player:(console.error("请在callback方法执行之后获取player"),null)}play(){this._player&&this._player.play()}pause(){this._player&&this._player.pause()}replay(){this._player&&this._player.replay()}dispose(){this._player&&this._player.dispose()}seek(t){this._player&&this._player.seek(t)}getCurrentTime(){return this._player?this._player.getCurrentTime():0}getDuration(){return this._player?this._player.getDuration():0}getVolume(){return this._player?this._player.getVolume():0}setVolume(t){this._player&&this._player.setVolume(t)}mute(){this._player&&this._player.mute()}unMute(){this._player&&this._player.unMute()}getPlayTime(){return this._player?this._player.getPlayTime():0}loadByUrl(t,m,d){this._player&&this._player.loadByUrl(t,m,d)}getStatus(){return this._player?this._player.getStatus():""}on(t,m){this._player&&this._player.on(t,m)}}const _hoisted_1$2={class:"aliyun-player-wrapper"},_hoisted_2$1={class:"aliyun-player-container"},_hoisted_3$1={id:"video",class:"video-player",ref:"videoRef"},_sfc_main$2=defineComponent({__name:"aliyun",setup(e){const t=ref(),m=ref([]),d=ref(0);onMounted(async()=>{o("1")});const o=u=>{setTimeout(()=>{m.value=[{name:"1080p",url:"https://ckplayer-video.oss-cn-shanghai.aliyuncs.com/mp4/1_1920x1080.mp4"},{name:"720p",url:"https://ckplayer-video.oss-cn-shanghai.aliyuncs.com/mp4/1_1920x1080.mp4"}],d.value=5,c(u)},300)},c=u=>{t.value=new lnltchPlayer("video",{licenseDomain:"localhost",licenseKey:"fPns7ih4YTqRoFcZOc6674e05f2854a6082e3dac2e1bfa961",memoryVideo:u,bulletText:"张三正在观看",sources:m.value,getTime:()=>d.value,saveTime:(s,r)=>{console.log(s,r)}},()=>{})};return(u,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,null,512)]),s[0]||(s[0]=createBaseVNode("div",{class:"aliyun-player-method"},null,-1))]))}}),_export_sfc=(e,t)=>{const m=e.__vccOpts||e;for(const[d,o]of t)m[d]=o;return m},AliyunPlayer=_export_sfc(_sfc_main$2,[["__scopeId","data-v-da300512"]]),_sfc_main$1={},_hoisted_1$1={class:"empty"};function _sfc_render(e,t){return openBlock(),createElementBlock("div",_hoisted_1$1,"暂无videojs播放器")}const VideojsPlayer=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-52acfb73"]]),_hoisted_1={class:"app-container"},_hoisted_2={class:"video-player-choose"},_hoisted_3={class:"video-player-container"},_sfc_main=defineComponent({__name:"App",setup(e){const t=ref("aliyun"),m=d=>{t.value!==d&&(t.value=d)};return(d,o)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",{class:"choose-item",onClick:o[0]||(o[0]=c=>m("aliyun"))}," 阿里云播放器 "),createBaseVNode("div",{class:"choose-item",onClick:o[1]||(o[1]=c=>m("videojs"))}," videojs播放器 ")]),createBaseVNode("div",_hoisted_3,[t.value==="aliyun"?(openBlock(),createBlock(AliyunPlayer,{key:0})):t.value==="videojs"?(openBlock(),createBlock(VideojsPlayer,{key:1})):createCommentVNode("",!0)])]),o[2]||(o[2]=createBaseVNode("div",{class:"videojs"},null,-1))],64))}}),App=_export_sfc(_sfc_main,[["__scopeId","data-v-c7cffdf0"]]);createApp(App).mount("#app");
